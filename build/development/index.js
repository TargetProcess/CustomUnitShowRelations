/*! v2.0.0 Build Tue Dec 12 2017 15:57:46 GMT+0300 (Belarus Standard Time) */
(function() {var mashup = {}; var define = function () {var args = Array.prototype.slice.call(arguments, 0);var deps;var func;var name;if (typeof args[0] === 'string') {name = args[0];deps = args[1];func = args[2];} else if (Array.isArray(args[0])) {deps = args[0];func = args[1];}var header = deps.reduce(function(res, v) {return res.addDependency(v);}, tau.mashups);header = header.addDependency(name + '/config');header = header.addMashup(function() {var modules = Array.prototype.slice.call(arguments, 0);if (deps.length > 0 && modules.length === 1) {throw new Error('Can\'t properly load dependencies for mashup "' + name+ '", mashup is stopped.');}mashup.variables = modules[modules.length - 1];if (modules.length - deps.length === 2) {mashup.config = modules[modules.length - 2];} else {mashup.config = {};}if (Object.freeze) {Object.freeze(mashup.variables);Object.freeze(mashup.config);Object.freeze(mashup);}return func.apply(null, modules);});return header;};
define("CustomUnitShowRelations", ["jQuery","tau/api/board/v1","tau/configurator","Underscore","tau-intl","react","tau/storage/api.nocache","tau/api/actions/v1","libs/classNames","tau/core/global.bus"], function(__WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_5__, __WEBPACK_EXTERNAL_MODULE_8__, __WEBPACK_EXTERNAL_MODULE_10__, __WEBPACK_EXTERNAL_MODULE_16__, __WEBPACK_EXTERNAL_MODULE_26__, __WEBPACK_EXTERNAL_MODULE_27__, __WEBPACK_EXTERNAL_MODULE_28__, __WEBPACK_EXTERNAL_MODULE_31__, __WEBPACK_EXTERNAL_MODULE_35__) { return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/ 	__webpack_require__.p = mashup.variables ? mashup.variables.mashupPath : __webpack_require__.p;

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/*!*******************!*\
  !*** multi index ***!
  \*******************/
/***/ (function(module, exports, __webpack_require__) {

	module.exports = __webpack_require__(/*! ./src/index.js */3);


/***/ }),
/* 1 */,
/* 2 */,
/* 3 */
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar _jquery = __webpack_require__(/*! jquery */ 4);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _v = __webpack_require__(/*! tau/api/board/v1 */ 5);\n\nvar _bus = __webpack_require__(/*! ./bus.subscriptions */ 6);\n\nvar subscriptions = _interopRequireWildcard(_bus);\n\nvar _relations = __webpack_require__(/*! ./relations.draw */ 9);\n\nvar _relations2 = _interopRequireDefault(_relations);\n\nvar _relationsDraw = __webpack_require__(/*! ./relations.draw.timeline */ 22);\n\nvar _relationsDraw2 = _interopRequireDefault(_relationsDraw);\n\nvar _relationsDraw3 = __webpack_require__(/*! ./relations.draw.list */ 23);\n\nvar _relationsDraw4 = _interopRequireDefault(_relationsDraw3);\n\nvar _relationsDraw5 = __webpack_require__(/*! ./relations.draw.model */ 24);\n\nvar _relationsDraw6 = _interopRequireDefault(_relationsDraw5);\n\n__webpack_require__(/*! ./index.css */ 36);\n\nfunction _interopRequireWildcard(obj) {\n    if (obj && obj.__esModule) {\n        return obj;\n    } else {\n        var newObj = {};if (obj != null) {\n            for (var key in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n            }\n        }newObj.default = obj;return newObj;\n    }\n}\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar model = {\n    isEmpty: true,\n    redraw: _jquery2.default.noop,\n    setConfig: _jquery2.default.noop\n};\n\nvar createModel = function createModel(RelationsDrawConstructor, boardSettings) {\n    if (model.isEmpty) {\n        model = new _relationsDraw6.default(RelationsDrawConstructor, boardSettings);\n    } else {\n        model.setConfig(RelationsDrawConstructor, boardSettings);\n    }\n};\n\nvar initialize = function initialize() {\n    (0, _v.onDetailsCreate)(function (details) {\n        createModel(_relations2.default, details.boardSettings);\n    });\n\n    (0, _v.onBoardCreate)(function (board) {\n        createModel(_relations2.default, board.board.boardSettings);\n        board.onCellsUpdate(function () {\n            model.redraw();\n        });\n        board.onCardDragging(function (card) {\n            model.updateRelationsForCard((0, _jquery2.default)(card).data('id'));\n        });\n    });\n\n    (0, _v.onTimelineCreate)(function (timeline) {\n        var timelineEvents = timeline.events;\n\n        timelineEvents.onRender.once(function () {\n            createModel(_relationsDraw2.default, timeline.boardSettings);\n\n            (0, _jquery2.default)('.tau-timeline-canvas').scroll(function (evt) {\n                model.update({ y: evt.target.scrollTop });\n            });\n            (0, _jquery2.default)(window).resize(function () {\n                model.update();\n            });\n\n            timelineEvents.onCellUpdated.add(function () {\n                model.redraw();\n            });\n\n            timelineEvents.onMoveCardToCell.add(function () {\n                model.redraw();\n            });\n\n            timelineEvents.onRender.add(function () {\n                model.redraw();\n            });\n            timelineEvents.onLocalDateRangeChanged.add(function () {\n                model.redraw();\n            });\n            timelineEvents.onViewTimelineTracksCountChanged.add(function () {\n                model.redraw();\n            });\n            timelineEvents.onPlannedDatesUpdating.add(function ($card) {\n                model.updateRelationsForCard($card.data('id'));\n            });\n        });\n    });\n\n    (0, _v.onListCreate)(function (list) {\n        var listEvents = list.events;\n\n        listEvents.onTreeRendered.once(function () {\n            createModel(_relationsDraw4.default, list.boardSettings);\n\n            listEvents.onTreeRendered.add(function () {\n                model.redraw();\n            });\n            listEvents.onTreeChanged.add(function () {\n                model.redraw();\n            });\n            listEvents.onCardDragging.add(function (card) {\n                model.updateRelationsForCard(card.data('id'));\n            });\n            listEvents.onExpansionStateChanged.add(function () {\n                model.redraw();\n            });\n        });\n    });\n};\n\nvar initializeSubsriptions = function initializeSubsriptions() {\n    subscriptions.onZoomLevelChanged(function () {\n        return model.redraw();\n    });\n    subscriptions.onHideEmptyLines(function () {\n        return model.redraw();\n    });\n    subscriptions.onExpandCollapseAxis(function () {\n        return model.redraw();\n    });\n};\n\ninitialize();\ninitializeSubsriptions();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanM/OTU1MiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBOzs7O0FBQ0E7O0FBQ0E7O0lBQVk7O0FBQ1o7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFFQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUEsSUFBSTthQUVBO1lBQVEsaUJBQ1I7ZUFBVyxpQkFBRTtBQUZiOztBQUtKLElBQU0sY0FBYyxxQkFBQywwQkFBMEIsZUFDM0M7UUFBSSxNQUFNLFNBQ047Z0JBQVEsNEJBQVUsMEJBQ3JCO0FBRkQsV0FJSTtjQUFNLFVBQVUsMEJBQ25CO0FBQ0o7QUFQRDs7QUFTQSxJQUFNLGFBQWEsc0JBQ2Y7NEJBQWdCLFVBQUMsU0FDYjt5Q0FBMkIsUUFDOUI7QUFFRDs7MEJBQWMsVUFBQyxPQUNYO3lDQUEyQixNQUFNLE1BQ2pDO2NBQU0sY0FBYyxZQUNoQjtrQkFDSDtBQUNEO2NBQU0sZUFBZSxVQUFDLE1BQ2xCO2tCQUFNLHVCQUF1QixzQkFBRSxNQUFNLEtBQ3hDO0FBQ0o7QUFFRDs7NkJBQWlCLFVBQUMsVUFDZDtZQUFNLGlCQUFpQixTQUV2Qjs7dUJBQWUsU0FBUyxLQUFLLFlBQ3pCO2lEQUFtQyxTQUVuQzs7a0NBQUUsd0JBQXdCLE9BQU8sVUFBQyxLQUM5QjtzQkFBTSxPQUFPLEVBQUMsR0FBRyxJQUFJLE9BQ3hCO0FBQ0Q7a0NBQUUsUUFBUSxPQUFPLFlBQ2I7c0JBQ0g7QUFFRDs7MkJBQWUsY0FBYyxJQUFJLFlBQzdCO3NCQUNIO0FBRUQ7OzJCQUFlLGlCQUFpQixJQUFJLFlBQ2hDO3NCQUNIO0FBRUQ7OzJCQUFlLFNBQVMsSUFBSSxZQUN4QjtzQkFDSDtBQUNEOzJCQUFlLHdCQUF3QixJQUFJLFlBQ3ZDO3NCQUNIO0FBQ0Q7MkJBQWUsaUNBQWlDLElBQUksWUFDaEQ7c0JBQ0g7QUFDRDsyQkFBZSx1QkFBdUIsSUFBSSxVQUFDLE9BQ3ZDO3NCQUFNLHVCQUF1QixNQUFNLEtBQ3RDO0FBQ0o7QUFFSjtBQUVEOzt5QkFBYSxVQUFDLE1BQ1Y7WUFBTSxhQUFhLEtBRW5COzttQkFBVyxlQUFlLEtBQUssWUFDM0I7aURBQStCLEtBRS9COzt1QkFBVyxlQUFlLElBQUksWUFDMUI7c0JBQ0g7QUFDRDt1QkFBVyxjQUFjLElBQUksWUFDekI7c0JBQ0g7QUFDRDt1QkFBVyxlQUFlLElBQUksVUFBQyxNQUMzQjtzQkFBTSx1QkFBdUIsS0FBSyxLQUNyQztBQUNEO3VCQUFXLHdCQUF3QixJQUFJLFlBQ25DO3NCQUNIO0FBQ0o7QUFDSjtBQUNKO0FBeEVEOztBQTBFQSxJQUFNLHlCQUF5QixrQ0FDM0I7a0JBQWMsbUJBQW1CO2VBQU0sTUFBTTtBQUM3QztrQkFBYyxpQkFBaUI7ZUFBTSxNQUFNO0FBQzNDO2tCQUFjLHFCQUFxQjtlQUFNLE1BQU07QUFDbEQ7QUFKRDs7QUFNQTtBQUNBIiwiZmlsZSI6IjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xyXG5pbXBvcnQge29uQm9hcmRDcmVhdGUsIG9uVGltZWxpbmVDcmVhdGUsIG9uTGlzdENyZWF0ZSwgb25EZXRhaWxzQ3JlYXRlfSBmcm9tICd0YXUvYXBpL2JvYXJkL3YxJztcclxuaW1wb3J0ICogYXMgc3Vic2NyaXB0aW9ucyBmcm9tICcuL2J1cy5zdWJzY3JpcHRpb25zJztcclxuaW1wb3J0IFJlbGF0aW9uc0RyYXcgZnJvbSAnLi9yZWxhdGlvbnMuZHJhdyc7XHJcbmltcG9ydCBSZWxhdGlvbnNEcmF3VGltZWxpbmUgZnJvbSAnLi9yZWxhdGlvbnMuZHJhdy50aW1lbGluZSc7XHJcbmltcG9ydCBSZWxhdGlvbnNEcmF3TGlzdCBmcm9tICcuL3JlbGF0aW9ucy5kcmF3Lmxpc3QnO1xyXG5pbXBvcnQgTW9kZWwgZnJvbSAnLi9yZWxhdGlvbnMuZHJhdy5tb2RlbCc7XHJcblxyXG5pbXBvcnQgJy4vaW5kZXguY3NzJztcclxuXHJcbmxldCBtb2RlbCA9IHtcclxuICAgIGlzRW1wdHk6IHRydWUsXHJcbiAgICByZWRyYXc6ICQubm9vcCxcclxuICAgIHNldENvbmZpZzogJC5ub29wXHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVNb2RlbCA9IChSZWxhdGlvbnNEcmF3Q29uc3RydWN0b3IsIGJvYXJkU2V0dGluZ3MpID0+IHtcclxuICAgIGlmIChtb2RlbC5pc0VtcHR5KSB7XHJcbiAgICAgICAgbW9kZWwgPSBuZXcgTW9kZWwoUmVsYXRpb25zRHJhd0NvbnN0cnVjdG9yLCBib2FyZFNldHRpbmdzKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIG1vZGVsLnNldENvbmZpZyhSZWxhdGlvbnNEcmF3Q29uc3RydWN0b3IsIGJvYXJkU2V0dGluZ3MpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuY29uc3QgaW5pdGlhbGl6ZSA9ICgpID0+IHtcclxuICAgIG9uRGV0YWlsc0NyZWF0ZSgoZGV0YWlscykgPT4ge1xyXG4gICAgICAgIGNyZWF0ZU1vZGVsKFJlbGF0aW9uc0RyYXcsIGRldGFpbHMuYm9hcmRTZXR0aW5ncyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBvbkJvYXJkQ3JlYXRlKChib2FyZCkgPT4ge1xyXG4gICAgICAgIGNyZWF0ZU1vZGVsKFJlbGF0aW9uc0RyYXcsIGJvYXJkLmJvYXJkLmJvYXJkU2V0dGluZ3MpO1xyXG4gICAgICAgIGJvYXJkLm9uQ2VsbHNVcGRhdGUoKCkgPT4ge1xyXG4gICAgICAgICAgICBtb2RlbC5yZWRyYXcoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBib2FyZC5vbkNhcmREcmFnZ2luZygoY2FyZCkgPT4ge1xyXG4gICAgICAgICAgICBtb2RlbC51cGRhdGVSZWxhdGlvbnNGb3JDYXJkKCQoY2FyZCkuZGF0YSgnaWQnKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBvblRpbWVsaW5lQ3JlYXRlKCh0aW1lbGluZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRpbWVsaW5lRXZlbnRzID0gdGltZWxpbmUuZXZlbnRzO1xyXG5cclxuICAgICAgICB0aW1lbGluZUV2ZW50cy5vblJlbmRlci5vbmNlKCgpID0+IHtcclxuICAgICAgICAgICAgY3JlYXRlTW9kZWwoUmVsYXRpb25zRHJhd1RpbWVsaW5lLCB0aW1lbGluZS5ib2FyZFNldHRpbmdzKTtcclxuXHJcbiAgICAgICAgICAgICQoJy50YXUtdGltZWxpbmUtY2FudmFzJykuc2Nyb2xsKChldnQpID0+IHtcclxuICAgICAgICAgICAgICAgIG1vZGVsLnVwZGF0ZSh7eTogZXZ0LnRhcmdldC5zY3JvbGxUb3B9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICQod2luZG93KS5yZXNpemUoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbW9kZWwudXBkYXRlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGltZWxpbmVFdmVudHMub25DZWxsVXBkYXRlZC5hZGQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbW9kZWwucmVkcmF3KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGltZWxpbmVFdmVudHMub25Nb3ZlQ2FyZFRvQ2VsbC5hZGQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbW9kZWwucmVkcmF3KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGltZWxpbmVFdmVudHMub25SZW5kZXIuYWRkKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIG1vZGVsLnJlZHJhdygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGltZWxpbmVFdmVudHMub25Mb2NhbERhdGVSYW5nZUNoYW5nZWQuYWRkKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIG1vZGVsLnJlZHJhdygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGltZWxpbmVFdmVudHMub25WaWV3VGltZWxpbmVUcmFja3NDb3VudENoYW5nZWQuYWRkKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIG1vZGVsLnJlZHJhdygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGltZWxpbmVFdmVudHMub25QbGFubmVkRGF0ZXNVcGRhdGluZy5hZGQoKCRjYXJkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBtb2RlbC51cGRhdGVSZWxhdGlvbnNGb3JDYXJkKCRjYXJkLmRhdGEoJ2lkJykpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICBvbkxpc3RDcmVhdGUoKGxpc3QpID0+IHtcclxuICAgICAgICBjb25zdCBsaXN0RXZlbnRzID0gbGlzdC5ldmVudHM7XHJcblxyXG4gICAgICAgIGxpc3RFdmVudHMub25UcmVlUmVuZGVyZWQub25jZSgoKSA9PiB7XHJcbiAgICAgICAgICAgIGNyZWF0ZU1vZGVsKFJlbGF0aW9uc0RyYXdMaXN0LCBsaXN0LmJvYXJkU2V0dGluZ3MpO1xyXG5cclxuICAgICAgICAgICAgbGlzdEV2ZW50cy5vblRyZWVSZW5kZXJlZC5hZGQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbW9kZWwucmVkcmF3KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBsaXN0RXZlbnRzLm9uVHJlZUNoYW5nZWQuYWRkKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIG1vZGVsLnJlZHJhdygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbGlzdEV2ZW50cy5vbkNhcmREcmFnZ2luZy5hZGQoKGNhcmQpID0+IHtcclxuICAgICAgICAgICAgICAgIG1vZGVsLnVwZGF0ZVJlbGF0aW9uc0ZvckNhcmQoY2FyZC5kYXRhKCdpZCcpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGxpc3RFdmVudHMub25FeHBhbnNpb25TdGF0ZUNoYW5nZWQuYWRkKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIG1vZGVsLnJlZHJhdygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuY29uc3QgaW5pdGlhbGl6ZVN1YnNyaXB0aW9ucyA9ICgpID0+IHtcclxuICAgIHN1YnNjcmlwdGlvbnMub25ab29tTGV2ZWxDaGFuZ2VkKCgpID0+IG1vZGVsLnJlZHJhdygpKTtcclxuICAgIHN1YnNjcmlwdGlvbnMub25IaWRlRW1wdHlMaW5lcygoKSA9PiBtb2RlbC5yZWRyYXcoKSk7XHJcbiAgICBzdWJzY3JpcHRpb25zLm9uRXhwYW5kQ29sbGFwc2VBeGlzKCgpID0+IG1vZGVsLnJlZHJhdygpKTtcclxufTtcclxuXHJcbmluaXRpYWxpemUoKTtcclxuaW5pdGlhbGl6ZVN1YnNyaXB0aW9ucygpO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvaW5kZXguanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 4 */
/*!*************************!*\
  !*** external "jQuery" ***!
  \*************************/
/***/ (function(module, exports) {

	eval("module.exports = __WEBPACK_EXTERNAL_MODULE_4__;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJqUXVlcnlcIj8wY2I4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfNF9fO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwialF1ZXJ5XCJcbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAyIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 5 */
/*!***********************************!*\
  !*** external "tau/api/board/v1" ***!
  \***********************************/
/***/ (function(module, exports) {

	eval("module.exports = __WEBPACK_EXTERNAL_MODULE_5__;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ0YXUvYXBpL2JvYXJkL3YxXCI/NzhiMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiI1LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzVfXztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcInRhdS9hcGkvYm9hcmQvdjFcIlxuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9IDIiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 6 */
/*!**********************************!*\
  !*** ./src/bus.subscriptions.js ***!
  \**********************************/
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.onExpandCollapseAxis = exports.onHideEmptyLines = exports.onZoomLevelChanged = undefined;\n\nvar _events = __webpack_require__(/*! targetprocess-mashup-helper/lib/events */ 7);\n\nvar _jQuery = __webpack_require__(/*! jQuery */ 4);\n\nvar _jQuery2 = _interopRequireDefault(_jQuery);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar onZoomLevelChanged = exports.onZoomLevelChanged = function onZoomLevelChanged(next) {\n    (0, _events.addBusListener)('board_plus', 'model.zoomLevelChanged', function () {\n        return next();\n    });\n};\n\nvar onHideEmptyLines = exports.onHideEmptyLines = function onHideEmptyLines(next) {\n    return (0, _jQuery2.default)(document).on('click', '.i-role-hide-empty-lanes', function () {\n        return next();\n    });\n};\n\nvar onExpandCollapseAxis = exports.onExpandCollapseAxis = function onExpandCollapseAxis(next) {\n    return (0, _events.addBusListener)('board_plus', 'view.axis.collapser.executed.after', function () {\n        return next();\n    });\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYnVzLnN1YnNjcmlwdGlvbnMuanM/YWE2MiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7Ozs7O0FBRU8sSUFBTSxrREFBcUIsNEJBQUMsTUFDL0I7Z0NBQWUsY0FBYywwQkFBMEI7ZUFBTTtBQUNoRTtBQUZNOztBQUlBLElBQU0sOENBQW1CLDBCQUFDLE1BQUQ7aUNBQVksVUFBVSxHQUFHLFNBQVMsNEJBQTRCO2VBQU07QUFBMUQ7QUFBbkM7O0FBRUEsSUFBTSxzREFDVCw4QkFBQyxNQUFEO3VDQUF5QixjQUFjLHNDQUFzQztlQUFNO0FBQXpFO0FBRFAiLCJmaWxlIjoiNi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7YWRkQnVzTGlzdGVuZXJ9IGZyb20gJ3RhcmdldHByb2Nlc3MtbWFzaHVwLWhlbHBlci9saWIvZXZlbnRzJztcclxuaW1wb3J0ICQgZnJvbSAnalF1ZXJ5JztcclxuXHJcbmV4cG9ydCBjb25zdCBvblpvb21MZXZlbENoYW5nZWQgPSAobmV4dCkgPT4ge1xyXG4gICAgYWRkQnVzTGlzdGVuZXIoJ2JvYXJkX3BsdXMnLCAnbW9kZWwuem9vbUxldmVsQ2hhbmdlZCcsICgpID0+IG5leHQoKSk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3Qgb25IaWRlRW1wdHlMaW5lcyA9IChuZXh0KSA9PiAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmktcm9sZS1oaWRlLWVtcHR5LWxhbmVzJywgKCkgPT4gbmV4dCgpKTtcclxuXHJcbmV4cG9ydCBjb25zdCBvbkV4cGFuZENvbGxhcHNlQXhpcyA9XHJcbiAgICAobmV4dCkgPT4gYWRkQnVzTGlzdGVuZXIoJ2JvYXJkX3BsdXMnLCAndmlldy5heGlzLmNvbGxhcHNlci5leGVjdXRlZC5hZnRlcicsICgpID0+IG5leHQoKSk7XHJcblxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYnVzLnN1YnNjcmlwdGlvbnMuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 7 */
/*!*****************************************************!*\
  !*** ./~/targetprocess-mashup-helper/lib/events.js ***!
  \*****************************************************/
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar configurator = __webpack_require__(/*! tau/configurator */ 8);\n\nvar reg = configurator.getBusRegistry();\n\nvar makeCb = function(cb) {\n\n    return function() {\n\n        cb.apply(null, Array.prototype.slice.call(arguments).slice(1));\n\n    };\n\n};\n\nvar addBusListener = function(busName, eventName, listener, once) {\n\n    var globalListener = makeCb(function(data) {\n\n        var bus = data.bus;\n\n        if (bus.name === busName) {\n\n            bus[once ? 'once' : 'on'](eventName, listener);\n\n        }\n\n    });\n\n    var scope = reg.addEventListener('create', globalListener);\n\n    reg.addEventListener('destroy', makeCb(function(data) {\n\n        var bus = data.bus;\n\n        if (bus.name === busName) {\n\n            bus.removeListener(eventName, listener, scope);\n\n        }\n\n    }));\n\n    return {\n        remove: function() {\n\n            reg.removeListener('create', globalListener, scope);\n            reg.getBusRegistry().getByName(busName).then(function(bus) {\n\n                bus.removeListener(eventName, listener, scope);\n\n            });\n\n        }\n    };\n\n};\n\nvar addBusListenerOnce = function(busName, eventName, listener) {\n\n    return addBusListener(busName, eventName, listener, true);\n\n};\n\nmodule.exports = {\n    addBusListener: addBusListener,\n    addBusListenerOnce: addBusListenerOnce\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3RhcmdldHByb2Nlc3MtbWFzaHVwLWhlbHBlci9saWIvZXZlbnRzLmpzPzliNzUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUEsS0FBSzs7QUFFTDs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQSxhQUFhOztBQUViO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiNy5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIGNvbmZpZ3VyYXRvciA9IHJlcXVpcmUoJ3RhdS9jb25maWd1cmF0b3InKTtcblxudmFyIHJlZyA9IGNvbmZpZ3VyYXRvci5nZXRCdXNSZWdpc3RyeSgpO1xuXG52YXIgbWFrZUNiID0gZnVuY3Rpb24oY2IpIHtcblxuICAgIHJldHVybiBmdW5jdGlvbigpIHtcblxuICAgICAgICBjYi5hcHBseShudWxsLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLnNsaWNlKDEpKTtcblxuICAgIH07XG5cbn07XG5cbnZhciBhZGRCdXNMaXN0ZW5lciA9IGZ1bmN0aW9uKGJ1c05hbWUsIGV2ZW50TmFtZSwgbGlzdGVuZXIsIG9uY2UpIHtcblxuICAgIHZhciBnbG9iYWxMaXN0ZW5lciA9IG1ha2VDYihmdW5jdGlvbihkYXRhKSB7XG5cbiAgICAgICAgdmFyIGJ1cyA9IGRhdGEuYnVzO1xuXG4gICAgICAgIGlmIChidXMubmFtZSA9PT0gYnVzTmFtZSkge1xuXG4gICAgICAgICAgICBidXNbb25jZSA/ICdvbmNlJyA6ICdvbiddKGV2ZW50TmFtZSwgbGlzdGVuZXIpO1xuXG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgdmFyIHNjb3BlID0gcmVnLmFkZEV2ZW50TGlzdGVuZXIoJ2NyZWF0ZScsIGdsb2JhbExpc3RlbmVyKTtcblxuICAgIHJlZy5hZGRFdmVudExpc3RlbmVyKCdkZXN0cm95JywgbWFrZUNiKGZ1bmN0aW9uKGRhdGEpIHtcblxuICAgICAgICB2YXIgYnVzID0gZGF0YS5idXM7XG5cbiAgICAgICAgaWYgKGJ1cy5uYW1lID09PSBidXNOYW1lKSB7XG5cbiAgICAgICAgICAgIGJ1cy5yZW1vdmVMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyLCBzY29wZSk7XG5cbiAgICAgICAgfVxuXG4gICAgfSkpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgcmVnLnJlbW92ZUxpc3RlbmVyKCdjcmVhdGUnLCBnbG9iYWxMaXN0ZW5lciwgc2NvcGUpO1xuICAgICAgICAgICAgcmVnLmdldEJ1c1JlZ2lzdHJ5KCkuZ2V0QnlOYW1lKGJ1c05hbWUpLnRoZW4oZnVuY3Rpb24oYnVzKSB7XG5cbiAgICAgICAgICAgICAgICBidXMucmVtb3ZlTGlzdGVuZXIoZXZlbnROYW1lLCBsaXN0ZW5lciwgc2NvcGUpO1xuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG4gICAgfTtcblxufTtcblxudmFyIGFkZEJ1c0xpc3RlbmVyT25jZSA9IGZ1bmN0aW9uKGJ1c05hbWUsIGV2ZW50TmFtZSwgbGlzdGVuZXIpIHtcblxuICAgIHJldHVybiBhZGRCdXNMaXN0ZW5lcihidXNOYW1lLCBldmVudE5hbWUsIGxpc3RlbmVyLCB0cnVlKTtcblxufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgYWRkQnVzTGlzdGVuZXI6IGFkZEJ1c0xpc3RlbmVyLFxuICAgIGFkZEJ1c0xpc3RlbmVyT25jZTogYWRkQnVzTGlzdGVuZXJPbmNlXG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3RhcmdldHByb2Nlc3MtbWFzaHVwLWhlbHBlci9saWIvZXZlbnRzLmpzXG4vLyBtb2R1bGUgaWQgPSA3XG4vLyBtb2R1bGUgY2h1bmtzID0gMiJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 8 */
/*!***********************************!*\
  !*** external "tau/configurator" ***!
  \***********************************/
/***/ (function(module, exports) {

	eval("module.exports = __WEBPACK_EXTERNAL_MODULE_8__;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ0YXUvY29uZmlndXJhdG9yXCI/YmJjZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiI4LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzhfXztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcInRhdS9jb25maWd1cmF0b3JcIlxuLy8gbW9kdWxlIGlkID0gOFxuLy8gbW9kdWxlIGNodW5rcyA9IDIiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 9 */
/*!*******************************!*\
  !*** ./src/relations.draw.js ***!
  \*******************************/
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];for (var key in source) {\n            if (Object.prototype.hasOwnProperty.call(source, key)) {\n                target[key] = source[key];\n            }\n        }\n    }return target;\n};\n\nvar _createClass = function () {\n    function defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n        }\n    }return function (Constructor, protoProps, staticProps) {\n        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n    };\n}();\n\nvar _jquery = __webpack_require__(/*! jquery */ 4);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _underscore = __webpack_require__(/*! underscore */ 10);\n\nvar _underscore2 = _interopRequireDefault(_underscore);\n\nvar _constView = __webpack_require__(/*! ./const.view.modes */ 11);\n\nvar _constView2 = _interopRequireDefault(_constView);\n\nvar _intersection = __webpack_require__(/*! ./utils/intersection */ 12);\n\nvar _svg = __webpack_require__(/*! ./utils/svg */ 13);\n\nvar _relation = __webpack_require__(/*! ./utils/relation.lines */ 14);\n\nvar relationUtils = _interopRequireWildcard(_relation);\n\nvar _relationDirections = __webpack_require__(/*! ./relationDirections */ 18);\n\nvar _relationDirections2 = _interopRequireDefault(_relationDirections);\n\nvar _relation2 = __webpack_require__(/*! ./relation.highlight */ 19);\n\nvar _relations = __webpack_require__(/*! ./relations.interactions */ 20);\n\nfunction _interopRequireWildcard(obj) {\n    if (obj && obj.__esModule) {\n        return obj;\n    } else {\n        var newObj = {};if (obj != null) {\n            for (var key in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n            }\n        }newObj.default = obj;return newObj;\n    }\n}\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n\nvar isEmptyRect = function isEmptyRect(_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return !width && !height;\n};\n\nvar ns = 'http://www.w3.org/2000/svg';\n\nvar RelationsDraw = function () {\n    function RelationsDraw(dataFetcher) {\n        var _this = this;\n\n        _classCallCheck(this, RelationsDraw);\n\n        this._getDrawRelationsForCard = function () {\n            (0, _relations.updateInteractionsData)(_this.cardsByEntityId, _this.arrows, _this.viewMode);\n            return _this._drawRelationsForCard;\n        };\n\n        this._drawRelationsForCard = function (relations) {\n            var sourceCard = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n            _this._processRelations(relations).forEach(function (rel) {\n                _this.drawRelation(rel, sourceCard || _underscore2.default.first(_this.cardsByEntityId[rel.main.id]));\n            });\n        };\n\n        this._getElementSelectFunction = function (id, el) {\n            return function () {\n                return _underscore2.default.first((_this.cardsByEntityId[id] || []).filter(function (c) {\n                    return _underscore2.default.isEqual(JSON.parse(c.dataset.dataItem).coords || '', JSON.parse(el.dataset.dataItem).coords || '');\n                }));\n            };\n        };\n\n        this._updateRelationArrow = function (arrow) {\n            var fromEl = arrow.fromEl();\n            var toEl = arrow.toEl();\n\n            if (fromEl && toEl) {\n                arrow.$lines.show();\n\n                var _getClientRects2 = _this._getClientRects(fromEl, toEl),\n                    cardRect = _getClientRects2.cardRect,\n                    targetRect = _getClientRects2.targetRect,\n                    tableRect = _getClientRects2.tableRect,\n                    gridRect = _getClientRects2.gridRect;\n\n                var cardPos = _this._getPositionFromRect(cardRect, tableRect);\n                var targetPos = _this._getPositionFromRect(targetRect, tableRect);\n                var points = _this._getIntersectionPoints(cardPos, targetPos, gridRect, arrow.relation);\n\n                if (!points) {\n                    arrow.$lines.hide();\n                    return;\n                }\n\n                if (_this._isValidPoints(points) && !(isEmptyRect(cardRect) || isEmptyRect(targetRect))) {\n                    var bezierCoords = relationUtils.generateBezierCoords(points.start, points.end, arrow.relation.directionType === _relationDirections2.default.inbound);\n\n                    arrow.$lines.each(function (index, l) {\n                        return l.setAttributeNS(null, 'd', bezierCoords);\n                    });\n                } else {\n                    arrow.$lines.remove();\n                    _underscore2.default.compact(_this.arrows);\n                }\n            } else {\n                arrow.$lines.hide();\n            }\n        };\n\n        this.update = function (offset) {\n            if (_this.$svg) {\n                if (offset) {\n                    _this.offset = offset.y;\n                }\n\n                _this.updateGridAndTable();\n                _this.arrows.forEach(_this._updateRelationArrow);\n                _this.applyRelationsAndCards([_this.highlightCardsByRelations()]);\n            }\n        };\n\n        this.redraw = function () {\n            if (_this.updateGridAndTable()) {\n                _this.arrows = [];\n                _this.$svg.find('path.line, path.helperLine').remove();\n\n                _this.getAndSaveRelations().then(function () {\n                    if (!_this.$svg) return;\n\n                    _this.applyRelationsAndCards([_this._getDrawRelationsForCard(), _this.highlightCardsByRelations()]);\n                    (0, _relations.redrawInteractionsHighlights)(_this.arrows, _this.cardsByEntityId, _this.viewMode);\n                });\n            }\n        };\n\n        this.updateRelationsForCard = function (id) {\n            _this.arrows.filter(function (_ref2) {\n                var main = _ref2.main,\n                    slave = _ref2.slave;\n                return main === id || slave === id;\n            }).forEach(_this._updateRelationArrow);\n        };\n\n        this.cardsByEntityId = [];\n        this.offset = 0;\n        this.groupedRelations = [];\n        this.$table = null;\n        this.arrows = [];\n        this.viewMode = _constView2.default.BOARD;\n        this.dataFetcher = dataFetcher;\n    }\n\n    _createClass(RelationsDraw, [{\n        key: '_appendSvgToGrid',\n        value: function _appendSvgToGrid($svg) {\n            this.$grid.append($svg);\n        }\n    }, {\n        key: 'createSvg',\n        value: function createSvg() {\n            var $svg = (0, _svg.createSvgFromTemplate)(this.$table.width(), this.$table.height());\n\n            this._appendSvgToGrid($svg);\n            return $svg;\n        }\n    }, {\n        key: 'updateGridAndTable',\n        value: function updateGridAndTable() {\n            this.$grid = (0, _jquery2.default)('.i-role-grid');\n            this.$table = this._getTable();\n\n            if (this.$grid.length > 0 && this.$table.length > 0) {\n                this.cardsByEntityId = this._getCardsGroupedByEntityId();\n\n                if (!this.$svg) {\n                    this.$svg = this.createSvg();\n                }\n                return true;\n            }\n            return false;\n        }\n    }, {\n        key: '_getTable',\n        value: function _getTable() {\n            return this.$grid.children('table');\n        }\n    }, {\n        key: '_getCardsGroupedByEntityId',\n        value: function _getCardsGroupedByEntityId() {\n            return _underscore2.default.groupBy(this.$grid.find('.i-role-card').toArray(), function (v) {\n                return v.getAttribute('data-entity-id');\n            });\n        }\n    }, {\n        key: 'getAndSaveRelations',\n        value: function getAndSaveRelations() {\n            var _this2 = this;\n\n            var ids = Object.keys(this.cardsByEntityId).filter(function (v) {\n                return v.match(/^\\d+$/);\n            });\n\n            return this.dataFetcher.load(ids).then(function (allRelations) {\n                var relations = allRelations.filter(function (_ref3) {\n                    var id = _ref3.entity.id;\n                    return _this2.cardsByEntityId[id];\n                }).map(function (relation, index) {\n                    return _extends({ index: index }, relation);\n                });\n\n                _this2.relations = relations;\n                _this2.groupedRelations = _underscore2.default.groupBy(relations, function (_ref4) {\n                    var id = _ref4.main.id;\n                    return id;\n                });\n            });\n        }\n    }, {\n        key: 'highlightCardsByRelations',\n        value: function highlightCardsByRelations() {\n            return (0, _relation2.getHighlightCardsByRelations)(this.$grid, this.cardsByEntityId, this.viewMode);\n        }\n    }, {\n        key: 'applyRelationsAndCards',\n        value: function applyRelationsAndCards(functions) {\n            var _this3 = this;\n\n            Object.keys(this.groupedRelations).forEach(function (entityId) {\n                var entityRelations = _this3.groupedRelations[entityId];\n                var entityCards = _this3.cardsByEntityId[entityId] || [];\n\n                entityCards.forEach(function (card) {\n                    functions.forEach(function (func) {\n                        return func(entityRelations, card);\n                    });\n                });\n            });\n        }\n    }, {\n        key: 'drawRelation',\n        value: function drawRelation(relation, sourceCard) {\n            var _this4 = this;\n\n            var targetCards = this.cardsByEntityId[relation.entity.id];\n\n            if (targetCards) {\n                this._processTargetCards(targetCards).forEach(function (targetCard) {\n                    return _this4.drawRelationArrow(relation, sourceCard, targetCard);\n                });\n            }\n        }\n    }, {\n        key: '_processRelations',\n        value: function _processRelations(relations) {\n            return relations;\n        }\n    }, {\n        key: '_processTargetCards',\n        value: function _processTargetCards(cards) {\n            return cards;\n        }\n    }, {\n        key: '_getClientRects',\n        value: function _getClientRects(fromEl, toEl) {\n            return {\n                cardRect: fromEl.getBoundingClientRect(),\n                targetRect: toEl.getBoundingClientRect(),\n                tableRect: this.$table[0].getBoundingClientRect(),\n                gridRect: this.$table[0].getBoundingClientRect()\n            };\n        }\n    }, {\n        key: '_getPositionFromRect',\n        value: function _getPositionFromRect(cardRect, tableRect) {\n            return {\n                x: cardRect.left - tableRect.left,\n                y: cardRect.top - tableRect.top,\n                height: cardRect.height,\n                width: cardRect.width\n            };\n        }\n    }, {\n        key: '_getIntersectionPoints',\n        value: function _getIntersectionPoints(cardPos, targetPos) {\n            return (0, _intersection.intersectRects)(cardPos, targetPos);\n        }\n    }, {\n        key: '_isValidPoints',\n        value: function _isValidPoints(points) {\n            return !_underscore2.default.some([points.start.x, points.start.y, points.end.x, points.end.y], function (p) {\n                return _underscore2.default.isNaN(p);\n            });\n        }\n    }, {\n        key: '_createLine',\n        value: function _createLine(options) {\n            var line = document.createElementNS(ns, 'path');\n\n            line.setAttribute('class', options.cssClass || '');\n            line.setAttributeNS(null, 'd', options.bezierCoords);\n            line.setAttributeNS(null, 'stroke', options.stroke || 'grey');\n            line.setAttributeNS(null, 'fill', options.fill || 'none');\n            line.setAttributeNS(null, 'stroke-width', options.strokeWidth || '1');\n            return line;\n        }\n    }, {\n        key: 'drawRelationArrow',\n        value: function drawRelationArrow(relation, fromEl, toEl) {\n            var _getClientRects3 = this._getClientRects(fromEl, toEl),\n                cardRect = _getClientRects3.cardRect,\n                targetRect = _getClientRects3.targetRect,\n                tableRect = _getClientRects3.tableRect,\n                gridRect = _getClientRects3.gridRect;\n\n            // sometimes cards are removed from grid on draw start\n\n\n            if (isEmptyRect(cardRect) || isEmptyRect(targetRect)) return;\n\n            var main = relation.main.id,\n                slave = relation.entity.id,\n                relationType = relation.relationType.name,\n                directionType = relation.directionType;\n\n            var arrow = {\n                lines: [],\n                main: main,\n                slave: slave,\n                arrowId: main + '-' + slave,\n                relation: relation,\n                fromEl: this._getElementSelectFunction(main, fromEl),\n                toEl: this._getElementSelectFunction(slave, toEl)\n            };\n\n            var cardPos = this._getPositionFromRect(cardRect, tableRect);\n            var targetPos = this._getPositionFromRect(targetRect, tableRect);\n            var points = this._getIntersectionPoints(cardPos, targetPos, gridRect, relation);\n\n            if (points && this._isValidPoints(points)) {\n                var bezierCoords = relationUtils.generateBezierCoords(points.start, points.end, directionType === _relationDirections2.default.inbound);\n                var color = relationUtils.getRelationColor(relationType);\n                var helperLine = this._createLine({\n                    cssClass: 'helperLine',\n                    bezierCoords: bezierCoords,\n                    stroke: color,\n                    strokeWidth: '6'\n                });\n\n                var line = this._createLine({\n                    cssClass: 'line',\n                    bezierCoords: bezierCoords,\n                    stroke: color,\n                    strokeWidth: '1.2'\n                });\n\n                if (directionType === _relationDirections2.default.inbound) {\n                    line.setAttributeNS(null, 'marker-start', 'url(#' + relationUtils.getInboundRelationTypeMarkerEndId(relation.relationType) + ')');\n                    line.setAttributeNS(null, 'marker-end', 'url(#' + relationUtils.getRelationTypeMarkerStartId(relation.relationType) + ')');\n                } else {\n                    line.setAttributeNS(null, 'marker-start', 'url(#' + relationUtils.getRelationTypeMarkerStartId(relation.relationType) + ')');\n                    line.setAttributeNS(null, 'marker-end', 'url(#' + relationUtils.getOutboundRelationTypeMarkerEndId(relation.relationType) + ')');\n                }\n\n                this.$svg.append(line);\n                this.$svg.append(helperLine);\n\n                var $lines = (0, _jquery2.default)(helperLine).add(line);\n\n                arrow.$lines = $lines;\n\n                (0, _relations.bindArrowHighlightInteractions)($lines, main, slave, relationType);\n\n                this.arrows.push(arrow);\n            }\n        }\n    }, {\n        key: 'removeAll',\n        value: function removeAll() {\n            (0, _relation2.cleanGridAndCards)(this.$grid);\n            (0, _relations.unbindAndResetHighlights)();\n            this.removeSvg();\n        }\n    }, {\n        key: 'removeSvg',\n        value: function removeSvg() {\n            if (this.$svg) {\n                this.$svg.remove();\n                this.$svg = null;\n            }\n        }\n    }]);\n\n    return RelationsDraw;\n}();\n\nexports.default = RelationsDraw;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcmVsYXRpb25zLmRyYXcuanM/MjI2NSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOztBQUNBOztBQUNBOztJQUFZOztBQUNaOzs7O0FBQ0E7O0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU9BLElBQU0sY0FBYztRQUFFO1FBQU87V0FBWSxDQUFDLFNBQVMsQ0FBQztBQUFwRDs7QUFFQSxJQUFNLEtBQUs7O0lBRVUsNEJBQ2pCOzJCQUFZLGFBQWE7b0JBQUE7OzhCQUFBOzthQThFekIsMkJBQTJCLFlBQ3ZCO21EQUF1QixNQUFLLGlCQUFpQixNQUFLLFFBQVEsTUFDMUQ7bUJBQU8sTUFDVjtBQWpGd0I7O2FBbUZ6Qix3QkFBd0IsVUFBQyxXQUFpQztnQkFBQSxpRkFDdEQ7O2tCQUFLLGtCQUFrQixXQUFXLFFBQVEsVUFBQyxLQUN2QztzQkFBSyxhQUFhLEtBQUssY0FBYyxxQkFBRSxNQUFNLE1BQUssZ0JBQWdCLElBQUksS0FDekU7QUFDSjtBQXZGd0I7O2FBMEd6Qiw0QkFBNEIsVUFBQyxJQUFJLElBQUw7bUJBQVk7NENBQVEsT0FBTyxNQUFLLGdCQUFnQixPQUFPLElBQzlFLE9BQU87MkJBQUsscUJBQUUsUUFDWCxLQUFLLE1BQU0sRUFBRSxRQUFRLFVBQVUsVUFBVSxJQUN6QyxLQUFLLE1BQU0sR0FBRyxRQUFRLFVBQVUsVUFBVTtBQUhJLGtCQUFSO0FBQWxCO0FBMUdIOzthQXVOekIsdUJBQXVCLFVBQUMsT0FDcEI7Z0JBQU0sU0FBUyxNQUNmO2dCQUFNLE9BQU8sTUFFYjs7Z0JBQUksVUFBVSxNQUNWO3NCQUFNLE9BQU87O3VDQUN1QyxNQUFLLGdCQUFnQixRQUFRO29CQUExRTtvQkFBVTtvQkFBWTtvQkFBVyw0QkFDeEM7O29CQUFNLFVBQVUsTUFBSyxxQkFBcUIsVUFDMUM7b0JBQU0sWUFBWSxNQUFLLHFCQUFxQixZQUM1QztvQkFBTSxTQUFTLE1BQUssdUJBQXVCLFNBQVMsV0FBVyxVQUFVLE1BRXpFOztvQkFBSSxDQUFDLFFBQ0Q7MEJBQU0sT0FDTjtBQUNIO0FBRUQ7O29CQUFJLE1BQUssZUFBZSxXQUFXLEVBQUUsWUFBWSxhQUFhLFlBQVksY0FDdEU7d0JBQU0sZUFBZSxjQUNoQixxQkFBcUIsT0FBTyxPQUFPLE9BQU8sS0FBSyxNQUFNLFNBQVMsa0JBQWtCLDZCQUVyRjs7MEJBQU0sT0FBTyxLQUFLLFVBQUMsT0FBTyxHQUFSOytCQUFjLEVBQUUsZUFBZSxNQUFNLEtBQUs7QUFDL0Q7QUFMRCx1QkFNSTswQkFBTSxPQUNOO3lDQUFFLFFBQVEsTUFDYjtBQUNKO0FBckJELG1CQXNCSTtzQkFBTSxPQUNUO0FBQ0o7QUFuUHdCOzthQXFQekIsU0FBUyxVQUFDLFFBQ047Z0JBQUksTUFBSyxNQUNMO29CQUFJLFFBQ0E7MEJBQUssU0FBUyxPQUNqQjtBQUVEOztzQkFDQTtzQkFBSyxPQUFPLFFBQVEsTUFDcEI7c0JBQUssdUJBQXVCLENBQUMsTUFDaEM7QUFDSjtBQS9Qd0I7O2FBaVF6QixTQUFTLFlBQ0w7Z0JBQUksTUFBSyxzQkFDTDtzQkFBSyxTQUNMO3NCQUFLLEtBQUssS0FBSyw4QkFFZjs7c0JBQUssc0JBQ0EsS0FBSyxZQUNGO3dCQUFJLENBQUMsTUFBSyxNQUVWOzswQkFBSyx1QkFBdUIsQ0FDeEIsTUFBSyw0QkFDTCxNQUVKO2lFQUE2QixNQUFLLFFBQVEsTUFBSyxpQkFBaUIsTUFDbkU7QUFDUjtBQUNKO0FBalJ3Qjs7YUFtUnpCLHlCQUF5QixVQUFDLElBQ3RCO2tCQUFLLE9BQU8sT0FBTztvQkFBRTtvQkFBTTt1QkFBVyxTQUFTLE1BQU0sVUFBVTtBQUEvRCxlQUFtRSxRQUFRLE1BQzlFO0FBcFJHOzthQUFLLGtCQUNMO2FBQUssU0FDTDthQUFLLG1CQUNMO2FBQUssU0FDTDthQUFLLFNBQ0w7YUFBSyxXQUFXLG9CQUNoQjthQUFLLGNBQ1I7Ozs7O3lDQUVnQixNQUNiO2lCQUFLLE1BQU0sT0FDZDs7OztvQ0FHRztnQkFBTSxPQUFPLGdDQUFzQixLQUFLLE9BQU8sU0FBUyxLQUFLLE9BRTdEOztpQkFBSyxpQkFDTDttQkFDSDs7Ozs2Q0FHRztpQkFBSyxRQUFRLHNCQUNiO2lCQUFLLFNBQVMsS0FFZDs7Z0JBQUksS0FBSyxNQUFNLFNBQVMsS0FBSyxLQUFLLE9BQU8sU0FBUyxHQUM5QztxQkFBSyxrQkFBa0IsS0FFdkI7O29CQUFJLENBQUMsS0FBSyxNQUNOO3lCQUFLLE9BQU8sS0FDZjtBQUNEO3VCQUNIO0FBQ0Q7bUJBQ0g7Ozs7b0NBR0c7bUJBQU8sS0FBSyxNQUFNLFNBQ3JCOzs7O3FEQUdHO3dDQUFTLFFBQVEsS0FBSyxNQUFNLEtBQUssZ0JBQWdCLFdBQVcsVUFBQyxHQUFEO3VCQUFPLEVBQUUsYUFBYTtBQUNyRixhQURVOzs7OzhDQUdXO3lCQUNsQjs7Z0JBQU0sYUFBYSxLQUFLLEtBQUssaUJBQWlCLE9BQU8sVUFBQyxHQUFEO3VCQUFPLEVBQUUsTUFBTTtBQUVwRSxhQUZZOzt3QkFFQSxZQUFZLEtBQUssS0FDeEIsS0FBSyxVQUFDLGNBQ0g7b0JBQU0seUJBQ0QsT0FBTzt3QkFBVyxXQUFULE9BQVM7MkJBQVMsT0FBSyxnQkFBZ0I7QUFEbkMsbUJBRWIsSUFBSSxVQUFDLFVBQVUsT0FBWDtzQ0FBdUIsT0FBdkIsU0FBaUM7QUFFMUM7O3VCQUFLLFlBQ0w7dUJBQUssd0NBQXFCLFFBQVEsV0FBVzt3QkFBUyxXQUFQLEtBQU87MkJBQVM7QUFDbEUsaUJBRDJCO0FBRW5DLGFBVFU7Ozs7b0RBWVA7bUJBQU8sNkNBQ0gsS0FBSyxPQUNMLEtBQUssaUJBQ0wsS0FFUDs7OzsrQ0FFc0IsV0FBVzt5QkFDOUI7O21CQUFPLEtBQUssS0FBSyxrQkFDWixRQUFRLFVBQUMsVUFDTjtvQkFBTSxrQkFBa0IsT0FBSyxpQkFDN0I7b0JBQU0sY0FBYyxPQUFLLGdCQUFnQixhQUV6Qzs7NEJBQVksUUFBUSxVQUFDLE1BQ2pCOzhCQUFVLFFBQVEsVUFBQyxNQUFEOytCQUFVLEtBQUssaUJBQWlCO0FBQ3JEO0FBQ0o7QUFDUjs7OztxQ0FhWSxVQUFVLFlBQVk7eUJBQy9COztnQkFBTSxjQUFjLEtBQUssZ0JBQWdCLFNBQVMsT0FFbEQ7O2dCQUFJLGFBQ0E7cUJBQUssb0JBQW9CLGFBQ3BCLFFBQVEsVUFBQyxZQUFEOzJCQUFnQixPQUFLLGtCQUFrQixVQUFVLFlBQVk7QUFDN0U7QUFDSjs7OzswQ0FFaUIsV0FDZDttQkFDSDs7Ozs0Q0FFbUIsT0FDaEI7bUJBQ0g7Ozs7d0NBUWUsUUFBUSxNQUNwQjs7MEJBQ2MsT0FDVjs0QkFBWSxLQUNaOzJCQUFXLEtBQUssT0FBTyxHQUN2QjswQkFBVSxLQUFLLE9BQU8sR0FFN0I7QUFMTzs7Ozs2Q0FPYSxVQUFVLFdBQzNCOzttQkFDTyxTQUFTLE9BQU8sVUFDbkI7bUJBQUcsU0FBUyxNQUFNLFVBQ2xCO3dCQUFRLFNBQ1I7dUJBQU8sU0FFZDtBQUxPOzs7OytDQU9lLFNBQVMsV0FDNUI7bUJBQU8sa0NBQWUsU0FDekI7Ozs7dUNBRWMsUUFDWDttQkFBTyxzQkFBRyxLQUFLLENBQUMsT0FBTyxNQUFNLEdBQUcsT0FBTyxNQUFNLEdBQUcsT0FBTyxJQUFJLEdBQUcsT0FBTyxJQUFJLElBQUk7dUJBQUsscUJBQUUsTUFBTTtBQUM3RixhQURXOzs7O29DQUdBLFNBQ1I7Z0JBQU0sT0FBTyxTQUFTLGdCQUFnQixJQUV0Qzs7aUJBQUssYUFBYSxTQUFTLFFBQVEsWUFDbkM7aUJBQUssZUFBZSxNQUFNLEtBQUssUUFDL0I7aUJBQUssZUFBZSxNQUFNLFVBQVUsUUFBUSxVQUM1QztpQkFBSyxlQUFlLE1BQU0sUUFBUSxRQUFRLFFBQzFDO2lCQUFLLGVBQWUsTUFBTSxnQkFBZ0IsUUFBUSxlQUNsRDttQkFDSDs7OzswQ0FFaUIsVUFBVSxRQUFRLE1BQU07bUNBQ2MsS0FBSyxnQkFBZ0IsUUFBUTtnQkFBMUU7Z0JBQVU7Z0JBQVk7Z0JBQVcsNEJBRXhDOztBQUNBOzs7Z0JBQUksWUFBWSxhQUFhLFlBQVksYUFBYTs7Z0JBR3ZDLE9BSVgsU0FKQSxLQUFPO2dCQUNNLFFBR2IsU0FIQSxPQUFTO2dCQUNZLGVBRXJCLFNBRkEsYUFBZTtnQkFDZixnQkFDQSxTQUVKOztnQkFBTTt1QkFFRjtzQkFDQTt1QkFDQTt5QkFBWSxhQUNaOzBCQUNBO3dCQUFRLEtBQUssMEJBQTBCLE1BQ3ZDO3NCQUFNLEtBQUssMEJBQTBCLE9BR3pDO0FBVEk7O2dCQVNFLFVBQVUsS0FBSyxxQkFBcUIsVUFDMUM7Z0JBQU0sWUFBWSxLQUFLLHFCQUFxQixZQUM1QztnQkFBTSxTQUFTLEtBQUssdUJBQXVCLFNBQVMsV0FBVyxVQUUvRDs7Z0JBQUksVUFBVSxLQUFLLGVBQWUsU0FDOUI7b0JBQU0sZUFBZSxjQUFjLHFCQUFxQixPQUFPLE9BQU8sT0FBTyxLQUFLLGtCQUFrQiw2QkFDcEc7b0JBQU0sUUFBUSxjQUFjLGlCQUM1QjtvQkFBTSxrQkFBa0I7OEJBRXBCO2tDQUNBOzRCQUNBO2lDQUdKO0FBTkksaUJBRGU7O29CQU9iLFlBQVk7OEJBRWQ7a0NBQ0E7NEJBQ0E7aUNBR0o7QUFOSSxpQkFEUzs7b0JBT1Qsa0JBQWtCLDZCQUFrQixTQUNwQzt5QkFBSyxlQUFlLE1BQU0sMEJBQXdCLGNBQWMsa0NBQWtDLFNBQVMsZ0JBQzNHO3lCQUFLLGVBQWUsTUFBTSx3QkFBc0IsY0FBYyw2QkFBNkIsU0FBUyxnQkFFdkc7QUFKRCx1QkFLSTt5QkFBSyxlQUFlLE1BQU0sMEJBQXdCLGNBQWMsNkJBQTZCLFNBQVMsZ0JBQ3RHO3lCQUFLLGVBQWUsTUFBTSx3QkFBc0IsY0FBYyxtQ0FBbUMsU0FBUyxnQkFDN0c7QUFFRDs7cUJBQUssS0FBSyxPQUNWO3FCQUFLLEtBQUssT0FFVjs7b0JBQU0sU0FBUyxzQkFBRSxZQUFZLElBRTdCOztzQkFBTSxTQUVOOzsrREFBK0IsUUFBUSxNQUFNLE9BRTdDOztxQkFBSyxPQUFPLEtBQ2Y7QUFDSjs7OztvQ0FtRUc7OENBQWtCLEtBQ2xCOzJCQUNBO2lCQUNIOzs7O29DQUdHO2dCQUFJLEtBQUssTUFDTDtxQkFBSyxLQUNMO3FCQUFLLE9BQ1I7QUFDSjs7Ozs7OztrQkFuU2dCIiwiZmlsZSI6IjkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xyXG5pbXBvcnQgXyBmcm9tICd1bmRlcnNjb3JlJztcclxuaW1wb3J0IHZpZXdNb2RlcyBmcm9tICcuL2NvbnN0LnZpZXcubW9kZXMnO1xyXG5pbXBvcnQge2ludGVyc2VjdFJlY3RzfSBmcm9tICcuL3V0aWxzL2ludGVyc2VjdGlvbic7XHJcbmltcG9ydCB7Y3JlYXRlU3ZnRnJvbVRlbXBsYXRlfSBmcm9tICcuL3V0aWxzL3N2Zyc7XHJcbmltcG9ydCAqIGFzIHJlbGF0aW9uVXRpbHMgZnJvbSAnLi91dGlscy9yZWxhdGlvbi5saW5lcyc7XHJcbmltcG9ydCByZWxhdGlvbkRpcmVjdGlvbiBmcm9tICcuL3JlbGF0aW9uRGlyZWN0aW9ucyc7XHJcbmltcG9ydCB7Z2V0SGlnaGxpZ2h0Q2FyZHNCeVJlbGF0aW9ucywgY2xlYW5HcmlkQW5kQ2FyZHN9IGZyb20gJy4vcmVsYXRpb24uaGlnaGxpZ2h0JztcclxuaW1wb3J0IHtcclxuICAgIGJpbmRBcnJvd0hpZ2hsaWdodEludGVyYWN0aW9ucyxcclxuICAgIHJlZHJhd0ludGVyYWN0aW9uc0hpZ2hsaWdodHMsXHJcbiAgICB1cGRhdGVJbnRlcmFjdGlvbnNEYXRhLFxyXG4gICAgdW5iaW5kQW5kUmVzZXRIaWdobGlnaHRzXHJcbn0gZnJvbSAnLi9yZWxhdGlvbnMuaW50ZXJhY3Rpb25zJztcclxuXHJcbmNvbnN0IGlzRW1wdHlSZWN0ID0gKHt3aWR0aCwgaGVpZ2h0fSkgPT4gIXdpZHRoICYmICFoZWlnaHQ7XHJcblxyXG5jb25zdCBucyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWxhdGlvbnNEcmF3IHtcclxuICAgIGNvbnN0cnVjdG9yKGRhdGFGZXRjaGVyKSB7XHJcbiAgICAgICAgdGhpcy5jYXJkc0J5RW50aXR5SWQgPSBbXTtcclxuICAgICAgICB0aGlzLm9mZnNldCA9IDA7XHJcbiAgICAgICAgdGhpcy5ncm91cGVkUmVsYXRpb25zID0gW107XHJcbiAgICAgICAgdGhpcy4kdGFibGUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuYXJyb3dzID0gW107XHJcbiAgICAgICAgdGhpcy52aWV3TW9kZSA9IHZpZXdNb2Rlcy5CT0FSRDtcclxuICAgICAgICB0aGlzLmRhdGFGZXRjaGVyID0gZGF0YUZldGNoZXI7XHJcbiAgICB9XHJcblxyXG4gICAgX2FwcGVuZFN2Z1RvR3JpZCgkc3ZnKSB7XHJcbiAgICAgICAgdGhpcy4kZ3JpZC5hcHBlbmQoJHN2Zyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlU3ZnKCkge1xyXG4gICAgICAgIGNvbnN0ICRzdmcgPSBjcmVhdGVTdmdGcm9tVGVtcGxhdGUodGhpcy4kdGFibGUud2lkdGgoKSwgdGhpcy4kdGFibGUuaGVpZ2h0KCkpO1xyXG5cclxuICAgICAgICB0aGlzLl9hcHBlbmRTdmdUb0dyaWQoJHN2Zyk7XHJcbiAgICAgICAgcmV0dXJuICRzdmc7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlR3JpZEFuZFRhYmxlKCkge1xyXG4gICAgICAgIHRoaXMuJGdyaWQgPSAkKCcuaS1yb2xlLWdyaWQnKTtcclxuICAgICAgICB0aGlzLiR0YWJsZSA9IHRoaXMuX2dldFRhYmxlKCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLiRncmlkLmxlbmd0aCA+IDAgJiYgdGhpcy4kdGFibGUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmNhcmRzQnlFbnRpdHlJZCA9IHRoaXMuX2dldENhcmRzR3JvdXBlZEJ5RW50aXR5SWQoKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghdGhpcy4kc3ZnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRzdmcgPSB0aGlzLmNyZWF0ZVN2ZygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgX2dldFRhYmxlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLiRncmlkLmNoaWxkcmVuKCd0YWJsZScpO1xyXG4gICAgfVxyXG5cclxuICAgIF9nZXRDYXJkc0dyb3VwZWRCeUVudGl0eUlkKCkge1xyXG4gICAgICAgIHJldHVybiBfLmdyb3VwQnkodGhpcy4kZ3JpZC5maW5kKCcuaS1yb2xlLWNhcmQnKS50b0FycmF5KCksICh2KSA9PiB2LmdldEF0dHJpYnV0ZSgnZGF0YS1lbnRpdHktaWQnKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QW5kU2F2ZVJlbGF0aW9ucygpIHtcclxuICAgICAgICBjb25zdCBpZHMgPSBPYmplY3Qua2V5cyh0aGlzLmNhcmRzQnlFbnRpdHlJZCkuZmlsdGVyKCh2KSA9PiB2Lm1hdGNoKC9eXFxkKyQvKSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFGZXRjaGVyLmxvYWQoaWRzKVxyXG4gICAgICAgICAgICAudGhlbigoYWxsUmVsYXRpb25zKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZWxhdGlvbnMgPSBhbGxSZWxhdGlvbnNcclxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKCh7ZW50aXR5OiB7aWR9fSkgPT4gdGhpcy5jYXJkc0J5RW50aXR5SWRbaWRdKVxyXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKHJlbGF0aW9uLCBpbmRleCkgPT4gKHtpbmRleCwgLi4ucmVsYXRpb259KSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWxhdGlvbnMgPSByZWxhdGlvbnM7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdyb3VwZWRSZWxhdGlvbnMgPSBfLmdyb3VwQnkocmVsYXRpb25zLCAoe21haW46IHtpZH19KSA9PiBpZCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGhpZ2hsaWdodENhcmRzQnlSZWxhdGlvbnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIGdldEhpZ2hsaWdodENhcmRzQnlSZWxhdGlvbnMoXHJcbiAgICAgICAgICAgIHRoaXMuJGdyaWQsXHJcbiAgICAgICAgICAgIHRoaXMuY2FyZHNCeUVudGl0eUlkLFxyXG4gICAgICAgICAgICB0aGlzLnZpZXdNb2RlXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBhcHBseVJlbGF0aW9uc0FuZENhcmRzKGZ1bmN0aW9ucykge1xyXG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXMuZ3JvdXBlZFJlbGF0aW9ucylcclxuICAgICAgICAgICAgLmZvckVhY2goKGVudGl0eUlkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlbnRpdHlSZWxhdGlvbnMgPSB0aGlzLmdyb3VwZWRSZWxhdGlvbnNbZW50aXR5SWRdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZW50aXR5Q2FyZHMgPSB0aGlzLmNhcmRzQnlFbnRpdHlJZFtlbnRpdHlJZF0gfHwgW107XHJcblxyXG4gICAgICAgICAgICAgICAgZW50aXR5Q2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9ucy5mb3JFYWNoKChmdW5jKSA9PiBmdW5jKGVudGl0eVJlbGF0aW9ucywgY2FyZCkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIF9nZXREcmF3UmVsYXRpb25zRm9yQ2FyZCA9ICgpID0+IHtcclxuICAgICAgICB1cGRhdGVJbnRlcmFjdGlvbnNEYXRhKHRoaXMuY2FyZHNCeUVudGl0eUlkLCB0aGlzLmFycm93cywgdGhpcy52aWV3TW9kZSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RyYXdSZWxhdGlvbnNGb3JDYXJkO1xyXG4gICAgfTtcclxuXHJcbiAgICBfZHJhd1JlbGF0aW9uc0ZvckNhcmQgPSAocmVsYXRpb25zLCBzb3VyY2VDYXJkID0gbnVsbCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX3Byb2Nlc3NSZWxhdGlvbnMocmVsYXRpb25zKS5mb3JFYWNoKChyZWwpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5kcmF3UmVsYXRpb24ocmVsLCBzb3VyY2VDYXJkIHx8IF8uZmlyc3QodGhpcy5jYXJkc0J5RW50aXR5SWRbcmVsLm1haW4uaWRdKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGRyYXdSZWxhdGlvbihyZWxhdGlvbiwgc291cmNlQ2FyZCkge1xyXG4gICAgICAgIGNvbnN0IHRhcmdldENhcmRzID0gdGhpcy5jYXJkc0J5RW50aXR5SWRbcmVsYXRpb24uZW50aXR5LmlkXTtcclxuXHJcbiAgICAgICAgaWYgKHRhcmdldENhcmRzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NUYXJnZXRDYXJkcyh0YXJnZXRDYXJkcylcclxuICAgICAgICAgICAgICAgIC5mb3JFYWNoKCh0YXJnZXRDYXJkKSA9PiB0aGlzLmRyYXdSZWxhdGlvbkFycm93KHJlbGF0aW9uLCBzb3VyY2VDYXJkLCB0YXJnZXRDYXJkKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9wcm9jZXNzUmVsYXRpb25zKHJlbGF0aW9ucykge1xyXG4gICAgICAgIHJldHVybiByZWxhdGlvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgX3Byb2Nlc3NUYXJnZXRDYXJkcyhjYXJkcykge1xyXG4gICAgICAgIHJldHVybiBjYXJkcztcclxuICAgIH1cclxuXHJcbiAgICBfZ2V0RWxlbWVudFNlbGVjdEZ1bmN0aW9uID0gKGlkLCBlbCkgPT4gKCkgPT4gXy5maXJzdCgodGhpcy5jYXJkc0J5RW50aXR5SWRbaWRdIHx8IFtdKVxyXG4gICAgICAgIC5maWx0ZXIoYyA9PiBfLmlzRXF1YWwoXHJcbiAgICAgICAgICAgIEpTT04ucGFyc2UoYy5kYXRhc2V0LmRhdGFJdGVtKS5jb29yZHMgfHwgJycsXHJcbiAgICAgICAgICAgIEpTT04ucGFyc2UoZWwuZGF0YXNldC5kYXRhSXRlbSkuY29vcmRzIHx8ICcnXHJcbiAgICAgICAgKSkpO1xyXG5cclxuICAgIF9nZXRDbGllbnRSZWN0cyhmcm9tRWwsIHRvRWwpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBjYXJkUmVjdDogZnJvbUVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxyXG4gICAgICAgICAgICB0YXJnZXRSZWN0OiB0b0VsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxyXG4gICAgICAgICAgICB0YWJsZVJlY3Q6IHRoaXMuJHRhYmxlWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxyXG4gICAgICAgICAgICBncmlkUmVjdDogdGhpcy4kdGFibGVbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIF9nZXRQb3NpdGlvbkZyb21SZWN0KGNhcmRSZWN0LCB0YWJsZVJlY3QpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB4OiBjYXJkUmVjdC5sZWZ0IC0gdGFibGVSZWN0LmxlZnQsXHJcbiAgICAgICAgICAgIHk6IGNhcmRSZWN0LnRvcCAtIHRhYmxlUmVjdC50b3AsXHJcbiAgICAgICAgICAgIGhlaWdodDogY2FyZFJlY3QuaGVpZ2h0LFxyXG4gICAgICAgICAgICB3aWR0aDogY2FyZFJlY3Qud2lkdGhcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIF9nZXRJbnRlcnNlY3Rpb25Qb2ludHMoY2FyZFBvcywgdGFyZ2V0UG9zKSB7XHJcbiAgICAgICAgcmV0dXJuIGludGVyc2VjdFJlY3RzKGNhcmRQb3MsIHRhcmdldFBvcyk7XHJcbiAgICB9XHJcblxyXG4gICAgX2lzVmFsaWRQb2ludHMocG9pbnRzKSB7XHJcbiAgICAgICAgcmV0dXJuICFfLnNvbWUoW3BvaW50cy5zdGFydC54LCBwb2ludHMuc3RhcnQueSwgcG9pbnRzLmVuZC54LCBwb2ludHMuZW5kLnldLCBwID0+IF8uaXNOYU4ocCkpO1xyXG4gICAgfVxyXG5cclxuICAgIF9jcmVhdGVMaW5lKG9wdGlvbnMpIHtcclxuICAgICAgICBjb25zdCBsaW5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5zLCAncGF0aCcpO1xyXG5cclxuICAgICAgICBsaW5lLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBvcHRpb25zLmNzc0NsYXNzIHx8ICcnKTtcclxuICAgICAgICBsaW5lLnNldEF0dHJpYnV0ZU5TKG51bGwsICdkJywgb3B0aW9ucy5iZXppZXJDb29yZHMpO1xyXG4gICAgICAgIGxpbmUuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3N0cm9rZScsIG9wdGlvbnMuc3Ryb2tlIHx8ICdncmV5Jyk7XHJcbiAgICAgICAgbGluZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnZmlsbCcsIG9wdGlvbnMuZmlsbCB8fCAnbm9uZScpO1xyXG4gICAgICAgIGxpbmUuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3N0cm9rZS13aWR0aCcsIG9wdGlvbnMuc3Ryb2tlV2lkdGggfHwgJzEnKTtcclxuICAgICAgICByZXR1cm4gbGluZTtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3UmVsYXRpb25BcnJvdyhyZWxhdGlvbiwgZnJvbUVsLCB0b0VsKSB7XHJcbiAgICAgICAgY29uc3Qge2NhcmRSZWN0LCB0YXJnZXRSZWN0LCB0YWJsZVJlY3QsIGdyaWRSZWN0fSA9IHRoaXMuX2dldENsaWVudFJlY3RzKGZyb21FbCwgdG9FbCk7XHJcblxyXG4gICAgICAgIC8vIHNvbWV0aW1lcyBjYXJkcyBhcmUgcmVtb3ZlZCBmcm9tIGdyaWQgb24gZHJhdyBzdGFydFxyXG4gICAgICAgIGlmIChpc0VtcHR5UmVjdChjYXJkUmVjdCkgfHwgaXNFbXB0eVJlY3QodGFyZ2V0UmVjdCkpIHJldHVybjtcclxuXHJcbiAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgICBtYWluOiB7aWQ6IG1haW59LFxyXG4gICAgICAgICAgICBlbnRpdHk6IHtpZDogc2xhdmV9LFxyXG4gICAgICAgICAgICByZWxhdGlvblR5cGU6IHtuYW1lOiByZWxhdGlvblR5cGV9LFxyXG4gICAgICAgICAgICBkaXJlY3Rpb25UeXBlXHJcbiAgICAgICAgfSA9IHJlbGF0aW9uO1xyXG5cclxuICAgICAgICBjb25zdCBhcnJvdyA9IHtcclxuICAgICAgICAgICAgbGluZXM6IFtdLFxyXG4gICAgICAgICAgICBtYWluLFxyXG4gICAgICAgICAgICBzbGF2ZSxcclxuICAgICAgICAgICAgYXJyb3dJZDogYCR7bWFpbn0tJHtzbGF2ZX1gLFxyXG4gICAgICAgICAgICByZWxhdGlvbixcclxuICAgICAgICAgICAgZnJvbUVsOiB0aGlzLl9nZXRFbGVtZW50U2VsZWN0RnVuY3Rpb24obWFpbiwgZnJvbUVsKSxcclxuICAgICAgICAgICAgdG9FbDogdGhpcy5fZ2V0RWxlbWVudFNlbGVjdEZ1bmN0aW9uKHNsYXZlLCB0b0VsKVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnN0IGNhcmRQb3MgPSB0aGlzLl9nZXRQb3NpdGlvbkZyb21SZWN0KGNhcmRSZWN0LCB0YWJsZVJlY3QpO1xyXG4gICAgICAgIGNvbnN0IHRhcmdldFBvcyA9IHRoaXMuX2dldFBvc2l0aW9uRnJvbVJlY3QodGFyZ2V0UmVjdCwgdGFibGVSZWN0KTtcclxuICAgICAgICBjb25zdCBwb2ludHMgPSB0aGlzLl9nZXRJbnRlcnNlY3Rpb25Qb2ludHMoY2FyZFBvcywgdGFyZ2V0UG9zLCBncmlkUmVjdCwgcmVsYXRpb24pO1xyXG5cclxuICAgICAgICBpZiAocG9pbnRzICYmIHRoaXMuX2lzVmFsaWRQb2ludHMocG9pbnRzKSkge1xyXG4gICAgICAgICAgICBjb25zdCBiZXppZXJDb29yZHMgPSByZWxhdGlvblV0aWxzLmdlbmVyYXRlQmV6aWVyQ29vcmRzKHBvaW50cy5zdGFydCwgcG9pbnRzLmVuZCwgZGlyZWN0aW9uVHlwZSA9PT0gcmVsYXRpb25EaXJlY3Rpb24uaW5ib3VuZCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gcmVsYXRpb25VdGlscy5nZXRSZWxhdGlvbkNvbG9yKHJlbGF0aW9uVHlwZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGhlbHBlckxpbmUgPSB0aGlzLl9jcmVhdGVMaW5lKHtcclxuICAgICAgICAgICAgICAgIGNzc0NsYXNzOiAnaGVscGVyTGluZScsXHJcbiAgICAgICAgICAgICAgICBiZXppZXJDb29yZHMsXHJcbiAgICAgICAgICAgICAgICBzdHJva2U6IGNvbG9yLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6ICc2J1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGxpbmUgPSB0aGlzLl9jcmVhdGVMaW5lKHtcclxuICAgICAgICAgICAgICAgIGNzc0NsYXNzOiAnbGluZScsXHJcbiAgICAgICAgICAgICAgICBiZXppZXJDb29yZHMsXHJcbiAgICAgICAgICAgICAgICBzdHJva2U6IGNvbG9yLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6ICcxLjInXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKGRpcmVjdGlvblR5cGUgPT09IHJlbGF0aW9uRGlyZWN0aW9uLmluYm91bmQpIHtcclxuICAgICAgICAgICAgICAgIGxpbmUuc2V0QXR0cmlidXRlTlMobnVsbCwgJ21hcmtlci1zdGFydCcsIGB1cmwoIyR7cmVsYXRpb25VdGlscy5nZXRJbmJvdW5kUmVsYXRpb25UeXBlTWFya2VyRW5kSWQocmVsYXRpb24ucmVsYXRpb25UeXBlKX0pYCk7XHJcbiAgICAgICAgICAgICAgICBsaW5lLnNldEF0dHJpYnV0ZU5TKG51bGwsICdtYXJrZXItZW5kJywgYHVybCgjJHtyZWxhdGlvblV0aWxzLmdldFJlbGF0aW9uVHlwZU1hcmtlclN0YXJ0SWQocmVsYXRpb24ucmVsYXRpb25UeXBlKX0pYCk7XHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGluZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnbWFya2VyLXN0YXJ0JywgYHVybCgjJHtyZWxhdGlvblV0aWxzLmdldFJlbGF0aW9uVHlwZU1hcmtlclN0YXJ0SWQocmVsYXRpb24ucmVsYXRpb25UeXBlKX0pYCk7XHJcbiAgICAgICAgICAgICAgICBsaW5lLnNldEF0dHJpYnV0ZU5TKG51bGwsICdtYXJrZXItZW5kJywgYHVybCgjJHtyZWxhdGlvblV0aWxzLmdldE91dGJvdW5kUmVsYXRpb25UeXBlTWFya2VyRW5kSWQocmVsYXRpb24ucmVsYXRpb25UeXBlKX0pYCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuJHN2Zy5hcHBlbmQobGluZSk7XHJcbiAgICAgICAgICAgIHRoaXMuJHN2Zy5hcHBlbmQoaGVscGVyTGluZSk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCAkbGluZXMgPSAkKGhlbHBlckxpbmUpLmFkZChsaW5lKTtcclxuXHJcbiAgICAgICAgICAgIGFycm93LiRsaW5lcyA9ICRsaW5lcztcclxuXHJcbiAgICAgICAgICAgIGJpbmRBcnJvd0hpZ2hsaWdodEludGVyYWN0aW9ucygkbGluZXMsIG1haW4sIHNsYXZlLCByZWxhdGlvblR5cGUpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hcnJvd3MucHVzaChhcnJvdyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF91cGRhdGVSZWxhdGlvbkFycm93ID0gKGFycm93KSA9PiB7XHJcbiAgICAgICAgY29uc3QgZnJvbUVsID0gYXJyb3cuZnJvbUVsKCk7XHJcbiAgICAgICAgY29uc3QgdG9FbCA9IGFycm93LnRvRWwoKTtcclxuXHJcbiAgICAgICAgaWYgKGZyb21FbCAmJiB0b0VsKSB7XHJcbiAgICAgICAgICAgIGFycm93LiRsaW5lcy5zaG93KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHtjYXJkUmVjdCwgdGFyZ2V0UmVjdCwgdGFibGVSZWN0LCBncmlkUmVjdH0gPSB0aGlzLl9nZXRDbGllbnRSZWN0cyhmcm9tRWwsIHRvRWwpO1xyXG4gICAgICAgICAgICBjb25zdCBjYXJkUG9zID0gdGhpcy5fZ2V0UG9zaXRpb25Gcm9tUmVjdChjYXJkUmVjdCwgdGFibGVSZWN0KTtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0UG9zID0gdGhpcy5fZ2V0UG9zaXRpb25Gcm9tUmVjdCh0YXJnZXRSZWN0LCB0YWJsZVJlY3QpO1xyXG4gICAgICAgICAgICBjb25zdCBwb2ludHMgPSB0aGlzLl9nZXRJbnRlcnNlY3Rpb25Qb2ludHMoY2FyZFBvcywgdGFyZ2V0UG9zLCBncmlkUmVjdCwgYXJyb3cucmVsYXRpb24pO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFwb2ludHMpIHtcclxuICAgICAgICAgICAgICAgIGFycm93LiRsaW5lcy5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc1ZhbGlkUG9pbnRzKHBvaW50cykgJiYgIShpc0VtcHR5UmVjdChjYXJkUmVjdCkgfHwgaXNFbXB0eVJlY3QodGFyZ2V0UmVjdCkpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBiZXppZXJDb29yZHMgPSByZWxhdGlvblV0aWxzXHJcbiAgICAgICAgICAgICAgICAgICAgLmdlbmVyYXRlQmV6aWVyQ29vcmRzKHBvaW50cy5zdGFydCwgcG9pbnRzLmVuZCwgYXJyb3cucmVsYXRpb24uZGlyZWN0aW9uVHlwZSA9PT0gcmVsYXRpb25EaXJlY3Rpb24uaW5ib3VuZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgYXJyb3cuJGxpbmVzLmVhY2goKGluZGV4LCBsKSA9PiBsLnNldEF0dHJpYnV0ZU5TKG51bGwsICdkJywgYmV6aWVyQ29vcmRzKSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhcnJvdy4kbGluZXMucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICBfLmNvbXBhY3QodGhpcy5hcnJvd3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYXJyb3cuJGxpbmVzLmhpZGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHVwZGF0ZSA9IChvZmZzZXQpID0+IHtcclxuICAgICAgICBpZiAodGhpcy4kc3ZnKSB7XHJcbiAgICAgICAgICAgIGlmIChvZmZzZXQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub2Zmc2V0ID0gb2Zmc2V0Lnk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlR3JpZEFuZFRhYmxlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuYXJyb3dzLmZvckVhY2godGhpcy5fdXBkYXRlUmVsYXRpb25BcnJvdyk7XHJcbiAgICAgICAgICAgIHRoaXMuYXBwbHlSZWxhdGlvbnNBbmRDYXJkcyhbdGhpcy5oaWdobGlnaHRDYXJkc0J5UmVsYXRpb25zKCldKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHJlZHJhdyA9ICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy51cGRhdGVHcmlkQW5kVGFibGUoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmFycm93cyA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLiRzdmcuZmluZCgncGF0aC5saW5lLCBwYXRoLmhlbHBlckxpbmUnKS5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0QW5kU2F2ZVJlbGF0aW9ucygpXHJcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLiRzdmcpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBseVJlbGF0aW9uc0FuZENhcmRzKFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2V0RHJhd1JlbGF0aW9uc0ZvckNhcmQoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oaWdobGlnaHRDYXJkc0J5UmVsYXRpb25zKClcclxuICAgICAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgICAgICAgICByZWRyYXdJbnRlcmFjdGlvbnNIaWdobGlnaHRzKHRoaXMuYXJyb3dzLCB0aGlzLmNhcmRzQnlFbnRpdHlJZCwgdGhpcy52aWV3TW9kZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHVwZGF0ZVJlbGF0aW9uc0ZvckNhcmQgPSAoaWQpID0+IHtcclxuICAgICAgICB0aGlzLmFycm93cy5maWx0ZXIoKHttYWluLCBzbGF2ZX0pID0+IG1haW4gPT09IGlkIHx8IHNsYXZlID09PSBpZCkuZm9yRWFjaCh0aGlzLl91cGRhdGVSZWxhdGlvbkFycm93KTtcclxuICAgIH07XHJcblxyXG4gICAgcmVtb3ZlQWxsKCkge1xyXG4gICAgICAgIGNsZWFuR3JpZEFuZENhcmRzKHRoaXMuJGdyaWQpO1xyXG4gICAgICAgIHVuYmluZEFuZFJlc2V0SGlnaGxpZ2h0cygpO1xyXG4gICAgICAgIHRoaXMucmVtb3ZlU3ZnKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlU3ZnKCkge1xyXG4gICAgICAgIGlmICh0aGlzLiRzdmcpIHtcclxuICAgICAgICAgICAgdGhpcy4kc3ZnLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLiRzdmcgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvcmVsYXRpb25zLmRyYXcuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 10 */
/*!*****************************!*\
  !*** external "Underscore" ***!
  \*****************************/
/***/ (function(module, exports) {

	eval("module.exports = __WEBPACK_EXTERNAL_MODULE_10__;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJVbmRlcnNjb3JlXCI/ODNlOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIxMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8xMF9fO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwiVW5kZXJzY29yZVwiXG4vLyBtb2R1bGUgaWQgPSAxMFxuLy8gbW9kdWxlIGNodW5rcyA9IDIiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 11 */
/*!*********************************!*\
  !*** ./src/const.view.modes.js ***!
  \*********************************/
/***/ (function(module, exports) {

	eval("'use strict';\n\n/**\r\n * Enum for view modes values.\r\n * @readonly\r\n * @enum {string}\r\n */\n\nvar viewModes = {\n  LIST: 'newlist',\n  BOARD: 'board',\n  DETAILS: 'list',\n  TIMELINE: 'timeline'\n};\n\nmodule.exports = viewModes;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uc3Qudmlldy5tb2Rlcy5qcz83N2RjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUE7Ozs7OztBQUtBLElBQU07UUFFRjtTQUNBO1dBQ0E7WUFBVTtBQUhWOztBQU1KLE9BQU8sVUFBVSIsImZpbGUiOiIxMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBFbnVtIGZvciB2aWV3IG1vZGVzIHZhbHVlcy5cclxuICogQHJlYWRvbmx5XHJcbiAqIEBlbnVtIHtzdHJpbmd9XHJcbiAqL1xyXG5jb25zdCB2aWV3TW9kZXMgPSB7XHJcbiAgICBMSVNUOiAnbmV3bGlzdCcsXHJcbiAgICBCT0FSRDogJ2JvYXJkJyxcclxuICAgIERFVEFJTFM6ICdsaXN0JyxcclxuICAgIFRJTUVMSU5FOiAndGltZWxpbmUnXHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHZpZXdNb2RlcztcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbnN0LnZpZXcubW9kZXMuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 12 */
/*!***********************************!*\
  !*** ./src/utils/intersection.js ***!
  \***********************************/
/***/ (function(module, exports) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar intersectSlices = function intersectSlices(_ref, _ref2) {\n    var x11 = _ref.x1,\n        x12 = _ref.x2,\n        y11 = _ref.y1,\n        y12 = _ref.y2;\n    var x21 = _ref2.x1,\n        x22 = _ref2.x2,\n        y21 = _ref2.y1,\n        y22 = _ref2.y2;\n\n    var y = (y11 * (y22 - y21) * (x12 - x11) - y21 * (y12 - y11) * (x22 - x21) + (x21 - x11) * (y22 - y21) * (y12 - y11)) / ((y22 - y21) * (x12 - x11) - (y12 - y11) * (x22 - x21));\n\n    var x = (x11 * (x22 - x21) * (y12 - y11) - x21 * (x12 - x11) * (y22 - y21) + (y21 - y11) * (x22 - x21) * (x12 - x11)) / ((x22 - x21) * (y12 - y11) - (x12 - x11) * (y22 - y21));\n\n    return { x: x, y: y };\n};\n\nvar getSlicesByRect = function getSlicesByRect(rect) {\n\n    return [{\n        x1: rect.x,\n        y1: rect.y,\n        x2: rect.x + rect.width,\n        y2: rect.y\n    }, {\n        x1: rect.x + rect.width,\n        y1: rect.y,\n        x2: rect.x + rect.width,\n        y2: rect.y + rect.height\n    }, {\n        x1: rect.x,\n        y1: rect.y + rect.height,\n        x2: rect.x + rect.width,\n        y2: rect.y + rect.height\n    }, {\n        x1: rect.x,\n        y1: rect.y,\n        x2: rect.x,\n        y2: rect.y + rect.height\n    }];\n};\n\nvar isBetween = function isBetween(coord, x, y) {\n    return coord >= Math.floor(x) && coord <= Math.ceil(y);\n};\n\nvar checkInSlices = function checkInSlices(point, s1, s2) {\n    var isX1 = isBetween(point.x, Math.min(s1.x1, s1.x2), Math.max(s1.x1, s1.x2));\n    var isX2 = isBetween(point.x, Math.min(s2.x1, s2.x2), Math.max(s2.x1, s2.x2));\n    var isY1 = isBetween(point.y, Math.min(s1.y1, s1.y2), Math.max(s1.y1, s1.y2));\n    var isY2 = isBetween(point.y, Math.min(s2.y1, s2.y2), Math.max(s2.y1, s2.y2));\n\n    return isX1 && isX2 && isY1 && isY2;\n};\n\nvar intersectRect = function intersectRect(rect, targetSlice) {\n\n    var rectSlices = getSlicesByRect(rect);\n\n    var intersectPoint = void 0;\n    var lastPoint = void 0;\n\n    rectSlices.forEach(function (slice) {\n\n        var point = intersectSlices(slice, targetSlice);\n\n        lastPoint = point;\n        if (checkInSlices(point, targetSlice, slice)) {\n            intersectPoint = point;\n        }\n    });\n\n    return intersectPoint || lastPoint;\n};\n\nvar intersectRects = exports.intersectRects = function intersectRects(rect1, rect2) {\n\n    var sc = {\n        x1: rect1.x + rect1.width / 2,\n        y1: rect1.y + rect1.height / 2,\n        x2: rect2.x + rect2.width / 2,\n        y2: rect2.y + rect2.height / 2\n    };\n\n    return {\n        start: intersectRect(rect1, sc),\n        end: intersectRect(rect2, sc)\n    };\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvaW50ZXJzZWN0aW9uLmpzP2YwOTUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxJQUFNLGtCQUFrQixzQ0FBZ0Y7UUFBQTtRQUFBO1FBQUE7UUFBQTtRQUFBO1FBQUE7UUFBQTtRQUFBLFlBRXBHOztRQUFNLElBQUksQ0FBQyxPQUFPLE1BQU0sUUFBUSxNQUFNLE9BQ2xDLE9BQU8sTUFBTSxRQUFRLE1BQU0sT0FDM0IsQ0FBQyxNQUFNLFFBQVEsTUFBTSxRQUFRLE1BQU0sU0FDbEMsQ0FBQyxNQUFNLFFBQVEsTUFBTSxPQUFPLENBQUMsTUFBTSxRQUFRLE1BRWhEOztRQUFNLElBQUksQ0FBQyxPQUFPLE1BQU0sUUFBUSxNQUFNLE9BQ2xDLE9BQU8sTUFBTSxRQUFRLE1BQU0sT0FDM0IsQ0FBQyxNQUFNLFFBQVEsTUFBTSxRQUFRLE1BQU0sU0FDbEMsQ0FBQyxNQUFNLFFBQVEsTUFBTSxPQUFPLENBQUMsTUFBTSxRQUFRLE1BRWhEOztXQUFPLEVBQUMsR0FBRCxHQUFJLEdBRWQ7QUFkRDs7QUFnQkEsSUFBTSxrQkFBa0IseUJBQUMsTUFFckI7OztZQUNRLEtBQ0o7WUFBSSxLQUNKO1lBQUksS0FBSyxJQUFJLEtBQ2I7WUFBSSxLQUFLO0FBSFQsS0FERztZQU1DLEtBQUssSUFBSSxLQUNiO1lBQUksS0FDSjtZQUFJLEtBQUssSUFBSSxLQUNiO1lBQUksS0FBSyxJQUFJLEtBQUs7QUFIbEI7WUFLSSxLQUNKO1lBQUksS0FBSyxJQUFJLEtBQ2I7WUFBSSxLQUFLLElBQUksS0FDYjtZQUFJLEtBQUssSUFBSSxLQUFLO0FBSGxCO1lBS0ksS0FDSjtZQUFJLEtBQ0o7WUFBSSxLQUNKO1lBQUksS0FBSyxJQUFJLEtBR3BCO0FBTk87QUFsQlI7O0FBMEJBLElBQU0sWUFBWSxtQkFBQyxPQUFPLEdBQUcsR0FDekI7V0FBTyxTQUFTLEtBQUssTUFBTSxNQUFNLFNBQVMsS0FBSyxLQUNsRDtBQUZEOztBQUlBLElBQU0sZ0JBQWdCLHVCQUFDLE9BQU8sSUFBSSxJQUM5QjtRQUFNLE9BQU8sVUFBVSxNQUFNLEdBQUcsS0FBSyxJQUFJLEdBQUcsSUFBSSxHQUFHLEtBQUssS0FBSyxJQUFJLEdBQUcsSUFBSSxHQUN4RTtRQUFNLE9BQU8sVUFBVSxNQUFNLEdBQUcsS0FBSyxJQUFJLEdBQUcsSUFBSSxHQUFHLEtBQUssS0FBSyxJQUFJLEdBQUcsSUFBSSxHQUN4RTtRQUFNLE9BQU8sVUFBVSxNQUFNLEdBQUcsS0FBSyxJQUFJLEdBQUcsSUFBSSxHQUFHLEtBQUssS0FBSyxJQUFJLEdBQUcsSUFBSSxHQUN4RTtRQUFNLE9BQU8sVUFBVSxNQUFNLEdBQUcsS0FBSyxJQUFJLEdBQUcsSUFBSSxHQUFHLEtBQUssS0FBSyxJQUFJLEdBQUcsSUFBSSxHQUV4RTs7V0FBTyxRQUFRLFFBQVEsUUFFMUI7QUFSRDs7QUFVQSxJQUFNLGdCQUFnQix1QkFBQyxNQUFNLGFBRXpCOztRQUFNLGFBQWEsZ0JBRW5COztRQUFJLHNCQUNKO1FBQUksaUJBRUo7O2VBQVcsUUFBUSxVQUFDLE9BRWhCOztZQUFNLFFBQVEsZ0JBQWdCLE9BRTlCOztvQkFDQTtZQUFJLGNBQWMsT0FBTyxhQUFhLFFBQ2xDOzZCQUNIO0FBRUo7QUFFRDs7V0FBTyxrQkFFVjtBQXBCRDs7QUFzQk8sSUFBTSwwQ0FBaUIsd0JBQUMsT0FBTyxPQUVsQzs7UUFBTTtZQUNFLE1BQU0sSUFBSSxNQUFNLFFBQ3BCO1lBQUksTUFBTSxJQUFJLE1BQU0sU0FDcEI7WUFBSSxNQUFNLElBQUksTUFBTSxRQUNwQjtZQUFJLE1BQU0sSUFBSSxNQUFNLFNBR3hCO0FBTkk7OztlQU9PLGNBQWMsT0FDckI7YUFBSyxjQUFjLE9BRzFCO0FBSk87QUFWRCIsImZpbGUiOiIxMi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGludGVyc2VjdFNsaWNlcyA9ICh7eDE6IHgxMSwgeDI6IHgxMiwgeTE6IHkxMSwgeTI6IHkxMn0sIHt4MTogeDIxLCB4MjogeDIyLCB5MTogeTIxLCB5MjogeTIyfSkgPT4ge1xuXG4gICAgY29uc3QgeSA9ICh5MTEgKiAoeTIyIC0geTIxKSAqICh4MTIgLSB4MTEpIC1cbiAgICAgICAgeTIxICogKHkxMiAtIHkxMSkgKiAoeDIyIC0geDIxKSArXG4gICAgICAgICh4MjEgLSB4MTEpICogKHkyMiAtIHkyMSkgKiAoeTEyIC0geTExKSkgL1xuICAgICAgICAoKHkyMiAtIHkyMSkgKiAoeDEyIC0geDExKSAtICh5MTIgLSB5MTEpICogKHgyMiAtIHgyMSkpO1xuXG4gICAgY29uc3QgeCA9ICh4MTEgKiAoeDIyIC0geDIxKSAqICh5MTIgLSB5MTEpIC1cbiAgICAgICAgeDIxICogKHgxMiAtIHgxMSkgKiAoeTIyIC0geTIxKSArXG4gICAgICAgICh5MjEgLSB5MTEpICogKHgyMiAtIHgyMSkgKiAoeDEyIC0geDExKSkgL1xuICAgICAgICAoKHgyMiAtIHgyMSkgKiAoeTEyIC0geTExKSAtICh4MTIgLSB4MTEpICogKHkyMiAtIHkyMSkpO1xuXG4gICAgcmV0dXJuIHt4LCB5fTtcblxufTtcblxuY29uc3QgZ2V0U2xpY2VzQnlSZWN0ID0gKHJlY3QpID0+IHtcblxuICAgIHJldHVybiBbe1xuICAgICAgICB4MTogcmVjdC54LFxuICAgICAgICB5MTogcmVjdC55LFxuICAgICAgICB4MjogcmVjdC54ICsgcmVjdC53aWR0aCxcbiAgICAgICAgeTI6IHJlY3QueVxuICAgIH0sIHtcbiAgICAgICAgeDE6IHJlY3QueCArIHJlY3Qud2lkdGgsXG4gICAgICAgIHkxOiByZWN0LnksXG4gICAgICAgIHgyOiByZWN0LnggKyByZWN0LndpZHRoLFxuICAgICAgICB5MjogcmVjdC55ICsgcmVjdC5oZWlnaHRcbiAgICB9LCB7XG4gICAgICAgIHgxOiByZWN0LngsXG4gICAgICAgIHkxOiByZWN0LnkgKyByZWN0LmhlaWdodCxcbiAgICAgICAgeDI6IHJlY3QueCArIHJlY3Qud2lkdGgsXG4gICAgICAgIHkyOiByZWN0LnkgKyByZWN0LmhlaWdodFxuICAgIH0sIHtcbiAgICAgICAgeDE6IHJlY3QueCxcbiAgICAgICAgeTE6IHJlY3QueSxcbiAgICAgICAgeDI6IHJlY3QueCxcbiAgICAgICAgeTI6IHJlY3QueSArIHJlY3QuaGVpZ2h0XG4gICAgfV07XG5cbn07XG5cbmNvbnN0IGlzQmV0d2VlbiA9IChjb29yZCwgeCwgeSkgPT4ge1xuICAgIHJldHVybiBjb29yZCA+PSBNYXRoLmZsb29yKHgpICYmIGNvb3JkIDw9IE1hdGguY2VpbCh5KTtcbn07XG5cbmNvbnN0IGNoZWNrSW5TbGljZXMgPSAocG9pbnQsIHMxLCBzMikgPT4ge1xuICAgIGNvbnN0IGlzWDEgPSBpc0JldHdlZW4ocG9pbnQueCwgTWF0aC5taW4oczEueDEsIHMxLngyKSwgTWF0aC5tYXgoczEueDEsIHMxLngyKSk7XG4gICAgY29uc3QgaXNYMiA9IGlzQmV0d2Vlbihwb2ludC54LCBNYXRoLm1pbihzMi54MSwgczIueDIpLCBNYXRoLm1heChzMi54MSwgczIueDIpKTtcbiAgICBjb25zdCBpc1kxID0gaXNCZXR3ZWVuKHBvaW50LnksIE1hdGgubWluKHMxLnkxLCBzMS55MiksIE1hdGgubWF4KHMxLnkxLCBzMS55MikpO1xuICAgIGNvbnN0IGlzWTIgPSBpc0JldHdlZW4ocG9pbnQueSwgTWF0aC5taW4oczIueTEsIHMyLnkyKSwgTWF0aC5tYXgoczIueTEsIHMyLnkyKSk7XG5cbiAgICByZXR1cm4gaXNYMSAmJiBpc1gyICYmIGlzWTEgJiYgaXNZMjtcblxufTtcblxuY29uc3QgaW50ZXJzZWN0UmVjdCA9IChyZWN0LCB0YXJnZXRTbGljZSkgPT4ge1xuXG4gICAgY29uc3QgcmVjdFNsaWNlcyA9IGdldFNsaWNlc0J5UmVjdChyZWN0KTtcblxuICAgIGxldCBpbnRlcnNlY3RQb2ludDtcbiAgICBsZXQgbGFzdFBvaW50O1xuXG4gICAgcmVjdFNsaWNlcy5mb3JFYWNoKChzbGljZSkgPT4ge1xuXG4gICAgICAgIGNvbnN0IHBvaW50ID0gaW50ZXJzZWN0U2xpY2VzKHNsaWNlLCB0YXJnZXRTbGljZSk7XG5cbiAgICAgICAgbGFzdFBvaW50ID0gcG9pbnQ7XG4gICAgICAgIGlmIChjaGVja0luU2xpY2VzKHBvaW50LCB0YXJnZXRTbGljZSwgc2xpY2UpKSB7XG4gICAgICAgICAgICBpbnRlcnNlY3RQb2ludCA9IHBvaW50O1xuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIHJldHVybiBpbnRlcnNlY3RQb2ludCB8fCBsYXN0UG9pbnQ7XG5cbn07XG5cbmV4cG9ydCBjb25zdCBpbnRlcnNlY3RSZWN0cyA9IChyZWN0MSwgcmVjdDIpID0+IHtcblxuICAgIGNvbnN0IHNjID0ge1xuICAgICAgICB4MTogcmVjdDEueCArIHJlY3QxLndpZHRoIC8gMixcbiAgICAgICAgeTE6IHJlY3QxLnkgKyByZWN0MS5oZWlnaHQgLyAyLFxuICAgICAgICB4MjogcmVjdDIueCArIHJlY3QyLndpZHRoIC8gMixcbiAgICAgICAgeTI6IHJlY3QyLnkgKyByZWN0Mi5oZWlnaHQgLyAyXG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHN0YXJ0OiBpbnRlcnNlY3RSZWN0KHJlY3QxLCBzYyksXG4gICAgICAgIGVuZDogaW50ZXJzZWN0UmVjdChyZWN0Miwgc2MpXG4gICAgfTtcblxufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy91dGlscy9pbnRlcnNlY3Rpb24uanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 13 */
/*!**************************!*\
  !*** ./src/utils/svg.js ***!
  \**************************/
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.createSvgFromTemplate = undefined;\n\nvar _jQuery = __webpack_require__(/*! jQuery */ 4);\n\nvar _jQuery2 = _interopRequireDefault(_jQuery);\n\nvar _relation = __webpack_require__(/*! ../utils/relation.lines */ 14);\n\nvar relationUtils = _interopRequireWildcard(_relation);\n\nvar _svg = __webpack_require__(/*! ../templates/svg.html */ 17);\n\nvar _svg2 = _interopRequireDefault(_svg);\n\nvar _relationTypes = __webpack_require__(/*! ../relationTypes */ 15);\n\nvar _relationTypes2 = _interopRequireDefault(_relationTypes);\n\nfunction _interopRequireWildcard(obj) {\n    if (obj && obj.__esModule) {\n        return obj;\n    } else {\n        var newObj = {};if (obj != null) {\n            for (var key in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n            }\n        }newObj.default = obj;return newObj;\n    }\n}\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar createSvgFromTemplate = exports.createSvgFromTemplate = function createSvgFromTemplate(width, height) {\n    return (0, _jQuery2.default)((0, _svg2.default)({\n        relationTypes: _relationTypes2.default,\n        width: width,\n        height: height,\n        getRelationTypeColor: relationUtils.getRelationTypeColor,\n        getRelationTypeMarkerStartId: relationUtils.getRelationTypeMarkerStartId,\n        getInboundRelationTypeMarkerEndId: relationUtils.getInboundRelationTypeMarkerEndId,\n        getOutboundRelationTypeMarkerEndId: relationUtils.getOutboundRelationTypeMarkerEndId\n    }));\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvc3ZnLmpzPzU1ZjQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBQ0E7O0lBQVk7O0FBQ1o7Ozs7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFTyxJQUFNLHdEQUF3QiwrQkFBQyxPQUFPLFFBQ3pDOzt1Q0FFSTtlQUNBO2dCQUNBOzhCQUFzQixjQUN0QjtzQ0FBOEIsY0FDOUI7MkNBQW1DLGNBQ25DOzRDQUFvQyxjQUUzQztBQVJPLEtBREssQ0FBRjtBQURKIiwiZmlsZSI6IjEzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICQgZnJvbSAnalF1ZXJ5JztcclxuaW1wb3J0ICogYXMgcmVsYXRpb25VdGlscyBmcm9tICcuLi91dGlscy9yZWxhdGlvbi5saW5lcyc7XHJcbmltcG9ydCBzdmdUZW1wbGF0ZSBmcm9tICcuLi90ZW1wbGF0ZXMvc3ZnLmh0bWwnO1xyXG5pbXBvcnQgcmVsYXRpb25UeXBlcyBmcm9tICcuLi9yZWxhdGlvblR5cGVzJztcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVTdmdGcm9tVGVtcGxhdGUgPSAod2lkdGgsIGhlaWdodCkgPT4ge1xyXG4gICAgcmV0dXJuICQoc3ZnVGVtcGxhdGUoe1xyXG4gICAgICAgIHJlbGF0aW9uVHlwZXMsXHJcbiAgICAgICAgd2lkdGgsXHJcbiAgICAgICAgaGVpZ2h0LFxyXG4gICAgICAgIGdldFJlbGF0aW9uVHlwZUNvbG9yOiByZWxhdGlvblV0aWxzLmdldFJlbGF0aW9uVHlwZUNvbG9yLFxyXG4gICAgICAgIGdldFJlbGF0aW9uVHlwZU1hcmtlclN0YXJ0SWQ6IHJlbGF0aW9uVXRpbHMuZ2V0UmVsYXRpb25UeXBlTWFya2VyU3RhcnRJZCxcclxuICAgICAgICBnZXRJbmJvdW5kUmVsYXRpb25UeXBlTWFya2VyRW5kSWQ6IHJlbGF0aW9uVXRpbHMuZ2V0SW5ib3VuZFJlbGF0aW9uVHlwZU1hcmtlckVuZElkLFxyXG4gICAgICAgIGdldE91dGJvdW5kUmVsYXRpb25UeXBlTWFya2VyRW5kSWQ6IHJlbGF0aW9uVXRpbHMuZ2V0T3V0Ym91bmRSZWxhdGlvblR5cGVNYXJrZXJFbmRJZFxyXG4gICAgfSkpO1xyXG59O1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdXRpbHMvc3ZnLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 14 */
/*!*************************************!*\
  !*** ./src/utils/relation.lines.js ***!
  \*************************************/
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.generateBezierCoords = exports.getRelationColor = exports.getRelationTypeColor = exports.getOutboundRelationTypeMarkerEndId = exports.getInboundRelationTypeMarkerEndId = exports.getRelationTypeMarkerStartId = undefined;\n\nvar _relationTypes = __webpack_require__(/*! ../relationTypes */ 15);\n\nvar _relationTypes2 = _interopRequireDefault(_relationTypes);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar getRelationTypeMarkerStartId = exports.getRelationTypeMarkerStartId = function getRelationTypeMarkerStartId(_ref) {\n    var name = _ref.name;\n    return name + '_start';\n};\nvar getInboundRelationTypeMarkerEndId = exports.getInboundRelationTypeMarkerEndId = function getInboundRelationTypeMarkerEndId(_ref2) {\n    var name = _ref2.name;\n    return name + '_inbound_end';\n};\nvar getOutboundRelationTypeMarkerEndId = exports.getOutboundRelationTypeMarkerEndId = function getOutboundRelationTypeMarkerEndId(_ref3) {\n    var name = _ref3.name;\n    return name + '_outbound_end';\n};\nvar getRelationTypeColor = exports.getRelationTypeColor = function getRelationTypeColor(_ref4) {\n    var style = _ref4.style;\n    return style.color;\n};\nvar getRelationColor = exports.getRelationColor = function getRelationColor(relation) {\n    return getRelationTypeColor(_relationTypes2.default.filter(function (_ref5) {\n        var name = _ref5.name;\n        return name === relation;\n    })[0]);\n};\nvar generateBezierCoords = exports.generateBezierCoords = function generateBezierCoords(start, end) {\n    var down = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    var points = ['M' + start.x + ',' + start.y];\n\n    var rad = Math.PI / 48 * (down ? -1 : 1);\n\n    var cos = Math.cos(rad);\n    var sin = Math.sin(rad);\n\n    var centerOnLine = {\n        x: (start.x + end.x) / 2,\n        y: (start.y + end.y) / 2\n    };\n\n    var centerRot = {\n        x: (centerOnLine.x - start.x) * cos - (centerOnLine.y - start.y) * sin + start.x,\n        y: (centerOnLine.x - start.x) * sin + (centerOnLine.y - start.y) * cos + start.y\n    };\n\n    var center = centerRot.x + ',' + centerRot.y;\n    return points.concat('C' + center).concat(center).concat(end.x + ',' + end.y).join(' ');\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvcmVsYXRpb24ubGluZXMuanM/YzZkYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7Ozs7O0FBRU8sSUFBTSxzRUFBK0I7UUFBRTtXQUFhLE9BQWY7QUFBckM7QUFDQSxJQUFNLGdGQUFvQztRQUFFO1dBQWEsT0FBZjtBQUExQztBQUNBLElBQU0sa0ZBQXFDO1FBQUU7V0FBYSxPQUFmO0FBQTNDO0FBQ0EsSUFBTSxzREFBdUI7UUFBRTtXQUFXLE1BQU07QUFBaEQ7QUFDQSxJQUFNLDhDQUFtQiwwQkFBQyxVQUFEO3dEQUNPLE9BQU87WUFBRTtlQUFVLFNBQVM7QUFBMUMsT0FBb0QsRUFBekU7QUFERztBQUVBLElBQU0sc0RBQXVCLDhCQUFDLE9BQU8sS0FBc0I7UUFBQSwyRUFFOUQ7O1FBQUksU0FBUyxPQUFLLE1BQU0sVUFBSyxNQUU3Qjs7UUFBTSxNQUFNLEtBQUssS0FBSyxNQUFNLE9BQU8sQ0FBQyxJQUVwQzs7UUFBTSxNQUFNLEtBQUssSUFDakI7UUFBTSxNQUFNLEtBQUssSUFFakI7O1FBQU07V0FDQyxDQUFDLE1BQU0sSUFBSSxJQUFJLEtBQ2xCO1dBQUcsQ0FBQyxNQUFNLElBQUksSUFBSSxLQUd0QjtBQUpJOztRQUlFO1dBQ0MsQ0FBQyxhQUFhLElBQUksTUFBTSxLQUFLLE1BQU0sQ0FBQyxhQUFhLElBQUksTUFBTSxLQUFLLE1BQU0sTUFDekU7V0FBRyxDQUFDLGFBQWEsSUFBSSxNQUFNLEtBQUssTUFBTSxDQUFDLGFBQWEsSUFBSSxNQUFNLEtBQUssTUFBTSxNQUc3RTtBQUpJOztRQUlFLFNBQVksVUFBVSxVQUFLLFVBQ2pDO1dBQU8sT0FBTyxhQUFXLFFBQVUsT0FBTyxRQUFRLE9BQVUsSUFBSSxVQUFLLElBQUksR0FBSyxLQUNqRjtBQXJCTSIsImZpbGUiOiIxNC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByZWxhdGlvblR5cGVzIGZyb20gJy4uL3JlbGF0aW9uVHlwZXMnO1xuXG5leHBvcnQgY29uc3QgZ2V0UmVsYXRpb25UeXBlTWFya2VyU3RhcnRJZCA9ICh7bmFtZX0pID0+IGAke25hbWV9X3N0YXJ0YDtcbmV4cG9ydCBjb25zdCBnZXRJbmJvdW5kUmVsYXRpb25UeXBlTWFya2VyRW5kSWQgPSAoe25hbWV9KSA9PiBgJHtuYW1lfV9pbmJvdW5kX2VuZGA7XG5leHBvcnQgY29uc3QgZ2V0T3V0Ym91bmRSZWxhdGlvblR5cGVNYXJrZXJFbmRJZCA9ICh7bmFtZX0pID0+IGAke25hbWV9X291dGJvdW5kX2VuZGA7XG5leHBvcnQgY29uc3QgZ2V0UmVsYXRpb25UeXBlQ29sb3IgPSAoe3N0eWxlfSkgPT4gc3R5bGUuY29sb3I7XG5leHBvcnQgY29uc3QgZ2V0UmVsYXRpb25Db2xvciA9IChyZWxhdGlvbikgPT5cbiAgICBnZXRSZWxhdGlvblR5cGVDb2xvcihyZWxhdGlvblR5cGVzLmZpbHRlcigoe25hbWV9KSA9PiBuYW1lID09PSByZWxhdGlvbilbMF0pO1xuZXhwb3J0IGNvbnN0IGdlbmVyYXRlQmV6aWVyQ29vcmRzID0gKHN0YXJ0LCBlbmQsIGRvd24gPSBmYWxzZSkgPT4ge1xuXG4gICAgbGV0IHBvaW50cyA9IFtgTSR7c3RhcnQueH0sJHtzdGFydC55fWBdO1xuXG4gICAgY29uc3QgcmFkID0gTWF0aC5QSSAvIDQ4ICogKGRvd24gPyAtMSA6IDEpO1xuXG4gICAgY29uc3QgY29zID0gTWF0aC5jb3MocmFkKTtcbiAgICBjb25zdCBzaW4gPSBNYXRoLnNpbihyYWQpO1xuXG4gICAgY29uc3QgY2VudGVyT25MaW5lID0ge1xuICAgICAgICB4OiAoc3RhcnQueCArIGVuZC54KSAvIDIsXG4gICAgICAgIHk6IChzdGFydC55ICsgZW5kLnkpIC8gMlxuICAgIH07XG5cbiAgICBjb25zdCBjZW50ZXJSb3QgPSB7XG4gICAgICAgIHg6IChjZW50ZXJPbkxpbmUueCAtIHN0YXJ0LngpICogY29zIC0gKGNlbnRlck9uTGluZS55IC0gc3RhcnQueSkgKiBzaW4gKyBzdGFydC54LFxuICAgICAgICB5OiAoY2VudGVyT25MaW5lLnggLSBzdGFydC54KSAqIHNpbiArIChjZW50ZXJPbkxpbmUueSAtIHN0YXJ0LnkpICogY29zICsgc3RhcnQueVxuICAgIH07XG5cbiAgICBjb25zdCBjZW50ZXIgPSBgJHtjZW50ZXJSb3QueH0sJHtjZW50ZXJSb3QueX1gO1xuICAgIHJldHVybiBwb2ludHMuY29uY2F0KGBDJHtjZW50ZXJ9YCkuY29uY2F0KGNlbnRlcikuY29uY2F0KGAke2VuZC54fSwke2VuZC55fWApLmpvaW4oJyAnKTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdXRpbHMvcmVsYXRpb24ubGluZXMuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 15 */
/*!******************************!*\
  !*** ./src/relationTypes.js ***!
  \******************************/
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _tauIntl = __webpack_require__(/*! tau-intl */ 16);\n\nvar intl = _interopRequireWildcard(_tauIntl);\n\nfunction _interopRequireWildcard(obj) {\n    if (obj && obj.__esModule) {\n        return obj;\n    } else {\n        var newObj = {};if (obj != null) {\n            for (var key in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n            }\n        }newObj.default = obj;return newObj;\n    }\n}\n\nexports.default = [{\n    label: intl.formatMessage('Dependencies'),\n    name: 'Dependency',\n    style: { color: '#6abcd0' }\n}, {\n    label: intl.formatMessage('Blockers'),\n    name: 'Blocker',\n    style: { color: '#c30010' }\n}, {\n    label: intl.formatMessage('Relations'),\n    name: 'Relation',\n    style: { color: '#8e98a9' }\n}, {\n    label: intl.formatMessage('Links'),\n    name: 'Link',\n    style: { color: '#4d7fbe' }\n}, {\n    label: intl.formatMessage('Duplicates'),\n    name: 'Duplicate',\n    style: { color: '#e79010' }\n}];//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcmVsYXRpb25UeXBlcy5qcz84ZjFlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOztJQUFZOzs7Ozs7Ozs7Ozs7Ozs7V0FJRyxLQUFLLGNBQ1o7VUFDQTtXQUFPLEVBQUMsT0FBTztBQUZmLENBRk87V0FPQSxLQUFLLGNBQ1o7VUFDQTtXQUFPLEVBQUMsT0FBTztBQUZmO1dBS08sS0FBSyxjQUNaO1VBQ0E7V0FBTyxFQUFDLE9BQU87QUFGZjtXQUtPLEtBQUssY0FDWjtVQUNBO1dBQU8sRUFBQyxPQUFPO0FBRmY7V0FLTyxLQUFLLGNBQ1o7VUFDQTtXQUFPLEVBQUMsT0FBTztBQUZmIiwiZmlsZSI6IjE1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgaW50bCBmcm9tICd0YXUtaW50bCc7XG5cbmV4cG9ydCBkZWZhdWx0IFtcbiAgICB7XG4gICAgICAgIGxhYmVsOiBpbnRsLmZvcm1hdE1lc3NhZ2UoJ0RlcGVuZGVuY2llcycpLFxuICAgICAgICBuYW1lOiAnRGVwZW5kZW5jeScsXG4gICAgICAgIHN0eWxlOiB7Y29sb3I6ICcjNmFiY2QwJ31cbiAgICB9LFxuICAgIHtcbiAgICAgICAgbGFiZWw6IGludGwuZm9ybWF0TWVzc2FnZSgnQmxvY2tlcnMnKSxcbiAgICAgICAgbmFtZTogJ0Jsb2NrZXInLFxuICAgICAgICBzdHlsZToge2NvbG9yOiAnI2MzMDAxMCd9XG4gICAgfSxcbiAgICB7XG4gICAgICAgIGxhYmVsOiBpbnRsLmZvcm1hdE1lc3NhZ2UoJ1JlbGF0aW9ucycpLFxuICAgICAgICBuYW1lOiAnUmVsYXRpb24nLFxuICAgICAgICBzdHlsZToge2NvbG9yOiAnIzhlOThhOSd9XG4gICAgfSxcbiAgICB7XG4gICAgICAgIGxhYmVsOiBpbnRsLmZvcm1hdE1lc3NhZ2UoJ0xpbmtzJyksXG4gICAgICAgIG5hbWU6ICdMaW5rJyxcbiAgICAgICAgc3R5bGU6IHtjb2xvcjogJyM0ZDdmYmUnfVxuICAgIH0sXG4gICAge1xuICAgICAgICBsYWJlbDogaW50bC5mb3JtYXRNZXNzYWdlKCdEdXBsaWNhdGVzJyksXG4gICAgICAgIG5hbWU6ICdEdXBsaWNhdGUnLFxuICAgICAgICBzdHlsZToge2NvbG9yOiAnI2U3OTAxMCd9XG4gICAgfVxuXTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9yZWxhdGlvblR5cGVzLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 16 */
/*!***************************!*\
  !*** external "tau-intl" ***!
  \***************************/
/***/ (function(module, exports) {

	eval("module.exports = __WEBPACK_EXTERNAL_MODULE_16__;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ0YXUtaW50bFwiPzRhZjAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMTZfXztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcInRhdS1pbnRsXCJcbi8vIG1vZHVsZSBpZCA9IDE2XG4vLyBtb2R1bGUgY2h1bmtzID0gMiJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 17 */
/*!********************************!*\
  !*** ./src/templates/svg.html ***!
  \********************************/
/***/ (function(module, exports) {

	eval("module.exports = function(obj){\nvar __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\nwith(obj||{}){\n__p+='<svg xmlns=\"http://www.w3.org/2000/svg\" class=\"mashupCustomUnitShowRelations__svg\"\\r\\n     viewBox=\"0 0 '+\n((__t=( width || 0 ))==null?'':__t)+\n' '+\n((__t=( height || 0))==null?'':__t)+\n'\"\\r\\n     width=\"'+\n((__t=( width || 0 ))==null?'':__t)+\n'px\" height=\"'+\n((__t=( height || 0))==null?'':__t)+\n'px\">\\r\\n    <defs>\\r\\n        ';\n relationTypes.forEach(function(v) { \n__p+='\\r\\n\\r\\n        <marker viewBox=\"0 0 10 10\" id=\"'+\n((__t=( getRelationTypeMarkerStartId(v) ))==null?'':__t)+\n'\" markerWidth=\"17\" markerHeight=\"17\"\\r\\n                refX=\"5\" refY=\"5\">\\r\\n            <circle cx=\"5\" cy=\"5\" r=\"2\" style=\"stroke: none; fill:'+\n((__t=( getRelationTypeColor(v) ))==null?'':__t)+\n';\"/>\\r\\n        </marker>\\r\\n        <marker viewBox=\"0 0 10 10\" id=\"'+\n((__t=( getOutboundRelationTypeMarkerEndId(v) ))==null?'':__t)+\n'\" markerWidth=\"16\" markerHeight=\"16\"\\r\\n                orient=\"auto\" refY=\"2\" refX=\"0\">\\r\\n            <path d=\"M0,0 L4,2 0,4\" fill=\"'+\n((__t=( getRelationTypeColor(v) ))==null?'':__t)+\n'\"/>\\r\\n        </marker>\\r\\n        <marker viewBox=\"0 0 10 10\" id=\"'+\n((__t=( getInboundRelationTypeMarkerEndId(v) ))==null?'':__t)+\n'\" markerWidth=\"16\" markerHeight=\"16\"\\r\\n                orient=\"auto\" refY=\"2\" refX=\"4\">\\r\\n            <path d=\"M0,0 L4,2 0,4\" fill=\"'+\n((__t=( getRelationTypeColor(v) ))==null?'':__t)+\n'\" transform=\"rotate(180 2 2)\"/>\\r\\n        </marker>\\r\\n\\r\\n        ';\n }); \n__p+='\\r\\n    </defs>\\r\\n</svg>\\r\\n';\n}\nreturn __p;\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdGVtcGxhdGVzL3N2Zy5odG1sPzFiMTgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSx5REFBeUQ7QUFDekQsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DO0FBQ0E7QUFDQTtBQUNBLDJJQUEySTtBQUMzSTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSxFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iail7XG52YXIgX190LF9fcD0nJyxfX2o9QXJyYXkucHJvdG90eXBlLmpvaW4scHJpbnQ9ZnVuY3Rpb24oKXtfX3ArPV9fai5jYWxsKGFyZ3VtZW50cywnJyk7fTtcbndpdGgob2JqfHx7fSl7XG5fX3ArPSc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBjbGFzcz1cIm1hc2h1cEN1c3RvbVVuaXRTaG93UmVsYXRpb25zX19zdmdcIlxcclxcbiAgICAgdmlld0JveD1cIjAgMCAnK1xuKChfX3Q9KCB3aWR0aCB8fCAwICkpPT1udWxsPycnOl9fdCkrXG4nICcrXG4oKF9fdD0oIGhlaWdodCB8fCAwKSk9PW51bGw/Jyc6X190KStcbidcIlxcclxcbiAgICAgd2lkdGg9XCInK1xuKChfX3Q9KCB3aWR0aCB8fCAwICkpPT1udWxsPycnOl9fdCkrXG4ncHhcIiBoZWlnaHQ9XCInK1xuKChfX3Q9KCBoZWlnaHQgfHwgMCkpPT1udWxsPycnOl9fdCkrXG4ncHhcIj5cXHJcXG4gICAgPGRlZnM+XFxyXFxuICAgICAgICAnO1xuIHJlbGF0aW9uVHlwZXMuZm9yRWFjaChmdW5jdGlvbih2KSB7IFxuX19wKz0nXFxyXFxuXFxyXFxuICAgICAgICA8bWFya2VyIHZpZXdCb3g9XCIwIDAgMTAgMTBcIiBpZD1cIicrXG4oKF9fdD0oIGdldFJlbGF0aW9uVHlwZU1hcmtlclN0YXJ0SWQodikgKSk9PW51bGw/Jyc6X190KStcbidcIiBtYXJrZXJXaWR0aD1cIjE3XCIgbWFya2VySGVpZ2h0PVwiMTdcIlxcclxcbiAgICAgICAgICAgICAgICByZWZYPVwiNVwiIHJlZlk9XCI1XCI+XFxyXFxuICAgICAgICAgICAgPGNpcmNsZSBjeD1cIjVcIiBjeT1cIjVcIiByPVwiMlwiIHN0eWxlPVwic3Ryb2tlOiBub25lOyBmaWxsOicrXG4oKF9fdD0oIGdldFJlbGF0aW9uVHlwZUNvbG9yKHYpICkpPT1udWxsPycnOl9fdCkrXG4nO1wiLz5cXHJcXG4gICAgICAgIDwvbWFya2VyPlxcclxcbiAgICAgICAgPG1hcmtlciB2aWV3Qm94PVwiMCAwIDEwIDEwXCIgaWQ9XCInK1xuKChfX3Q9KCBnZXRPdXRib3VuZFJlbGF0aW9uVHlwZU1hcmtlckVuZElkKHYpICkpPT1udWxsPycnOl9fdCkrXG4nXCIgbWFya2VyV2lkdGg9XCIxNlwiIG1hcmtlckhlaWdodD1cIjE2XCJcXHJcXG4gICAgICAgICAgICAgICAgb3JpZW50PVwiYXV0b1wiIHJlZlk9XCIyXCIgcmVmWD1cIjBcIj5cXHJcXG4gICAgICAgICAgICA8cGF0aCBkPVwiTTAsMCBMNCwyIDAsNFwiIGZpbGw9XCInK1xuKChfX3Q9KCBnZXRSZWxhdGlvblR5cGVDb2xvcih2KSApKT09bnVsbD8nJzpfX3QpK1xuJ1wiLz5cXHJcXG4gICAgICAgIDwvbWFya2VyPlxcclxcbiAgICAgICAgPG1hcmtlciB2aWV3Qm94PVwiMCAwIDEwIDEwXCIgaWQ9XCInK1xuKChfX3Q9KCBnZXRJbmJvdW5kUmVsYXRpb25UeXBlTWFya2VyRW5kSWQodikgKSk9PW51bGw/Jyc6X190KStcbidcIiBtYXJrZXJXaWR0aD1cIjE2XCIgbWFya2VySGVpZ2h0PVwiMTZcIlxcclxcbiAgICAgICAgICAgICAgICBvcmllbnQ9XCJhdXRvXCIgcmVmWT1cIjJcIiByZWZYPVwiNFwiPlxcclxcbiAgICAgICAgICAgIDxwYXRoIGQ9XCJNMCwwIEw0LDIgMCw0XCIgZmlsbD1cIicrXG4oKF9fdD0oIGdldFJlbGF0aW9uVHlwZUNvbG9yKHYpICkpPT1udWxsPycnOl9fdCkrXG4nXCIgdHJhbnNmb3JtPVwicm90YXRlKDE4MCAyIDIpXCIvPlxcclxcbiAgICAgICAgPC9tYXJrZXI+XFxyXFxuXFxyXFxuICAgICAgICAnO1xuIH0pOyBcbl9fcCs9J1xcclxcbiAgICA8L2RlZnM+XFxyXFxuPC9zdmc+XFxyXFxuJztcbn1cbnJldHVybiBfX3A7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3RlbXBsYXRlcy9zdmcuaHRtbFxuLy8gbW9kdWxlIGlkID0gMTdcbi8vIG1vZHVsZSBjaHVua3MgPSAyIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 18 */
/*!***********************************!*\
  !*** ./src/relationDirections.js ***!
  \***********************************/
/***/ (function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = {\n    inbound: 'inbound',\n    outbound: 'outbound'\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcmVsYXRpb25EaXJlY3Rpb25zLmpzPzA3MTQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O2FBRUk7Y0FBVTtBQURWIiwiZmlsZSI6IjE4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQge1xuICAgIGluYm91bmQ6ICdpbmJvdW5kJyxcbiAgICBvdXRib3VuZDogJ291dGJvdW5kJ1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9yZWxhdGlvbkRpcmVjdGlvbnMuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 19 */
/*!***********************************!*\
  !*** ./src/relation.highlight.js ***!
  \***********************************/
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.getHighlightCardsByRelations = exports.cleanGridAndCards = undefined;\n\nvar _jquery = __webpack_require__(/*! jquery */ 4);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar selectedCardIds = [];\n\nvar hideSelection = function hideSelection($card) {\n    if ($card.hasClass('tau-selected')) {\n        $card.removeClass('tau-selected');\n        selectedCardIds = selectedCardIds.concat($card.data('id'));\n    }\n};\n\nvar highlightCard = function highlightCard(card, directionType, viewMode) {\n    var $el = (0, _jquery2.default)(card);\n\n    if (viewMode === 'timeline') {\n        var $parent = $el.parent('.i-role-timeline-card-holder');\n\n        if ($parent.length) {\n            $parent.addClass('mashupCustomUnitShowRelations__related');\n            $parent.addClass('mashupCustomUnitShowRelations__' + directionType);\n            hideSelection($parent);\n        }\n    }\n\n    hideSelection($el);\n    $el.addClass('mashupCustomUnitShowRelations__related');\n};\n\nvar cleanCards = function cleanCards($grid) {\n    ['related', 'related-inbound', 'related-outbound', 'source'].forEach(function (v) {\n        var className = 'mashupCustomUnitShowRelations__' + v;\n\n        $grid.find('.' + className).removeClass(className);\n    });\n};\n\nvar cleanGridAndCards = exports.cleanGridAndCards = function cleanGridAndCards($grid) {\n    if ($grid) {\n        $grid.removeClass('mashupCustomUnitShowRelations');\n        $grid.removeClass('mashupCustomUnitShowRelations-highlighted');\n\n        cleanCards($grid);\n    }\n};\n\nvar getHighlightCardsByRelations = exports.getHighlightCardsByRelations = function getHighlightCardsByRelations($grid, cardsByEntityId, viewMode) {\n    var getCardsByEntityId = function getCardsByEntityId(entityId) {\n        return cardsByEntityId[entityId] || [];\n    };\n\n    var highlightCardsByRelation = function highlightCardsByRelation(relation) {\n        getCardsByEntityId(relation.entity.id).forEach(function (card) {\n            highlightCard(card, relation.directionType, viewMode);\n        });\n    };\n\n    cleanCards($grid);\n\n    return function (relations, sourceCard) {\n        var $card = (0, _jquery2.default)(sourceCard);\n\n        $grid.addClass('mashupCustomUnitShowRelations');\n        $card.addClass('mashupCustomUnitShowRelations__source');\n        hideSelection($card);\n\n        relations.forEach(highlightCardsByRelation);\n    };\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcmVsYXRpb24uaGlnaGxpZ2h0LmpzP2Q4ZTQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7Ozs7OztBQUVBLElBQUksa0JBQWtCOztBQUV0QixJQUFNLGdCQUFnQix1QkFBQyxPQUNuQjtRQUFJLE1BQU0sU0FBUyxpQkFDZjtjQUFNLFlBQ047MEJBQWtCLGdCQUFnQixPQUFPLE1BQU0sS0FDbEQ7QUFDSjtBQUxEOztBQU9BLElBQU0sZ0JBQWdCLHVCQUFDLE1BQU0sZUFBZSxVQUN4QztRQUFNLE1BQU0sc0JBRVo7O1FBQUksYUFBYSxZQUNiO1lBQU0sVUFBVSxJQUFJLE9BRXBCOztZQUFJLFFBQVEsUUFDUjtvQkFBUSxTQUNSO29CQUFRLDZDQUNSOzBCQUNIO0FBQ0o7QUFFRDs7a0JBQ0E7UUFBSSxTQUNQO0FBZkQ7O0FBaUJBLElBQU0sYUFBYSxvQkFBQyxPQUNoQjtLQUFDLFdBQVcsbUJBQW1CLG9CQUFvQixVQUFVLFFBQVEsVUFBQyxHQUNsRTtZQUFNLGdEQUVOOztjQUFNLFdBQVMsV0FBYSxZQUMvQjtBQUNKO0FBTkQ7O0FBUU8sSUFBTSxnREFBb0IsMkJBQUMsT0FDOUI7UUFBSSxPQUNBO2NBQU0sWUFDTjtjQUFNLFlBRU47O21CQUNIO0FBQ0o7QUFQTTs7QUFTQSxJQUFNLHNFQUErQixzQ0FBQyxPQUFPLGlCQUFpQixVQUNqRTtRQUFNLHFCQUFxQiw0QkFBQyxVQUFEO2VBQWMsZ0JBQWdCLGFBQWE7QUFFdEU7O1FBQU0sMkJBQTJCLGtDQUFDLFVBQzlCOzJCQUFtQixTQUFTLE9BQU8sSUFBSSxRQUFRLFVBQUMsTUFDNUM7MEJBQWMsTUFBTSxTQUFTLGVBQ2hDO0FBQ0o7QUFFRDs7ZUFFQTs7V0FBTyxVQUFDLFdBQVcsWUFDZjtZQUFNLFFBQVEsc0JBRWQ7O2NBQU0sU0FDTjtjQUFNLFNBQ047c0JBRUE7O2tCQUFVLFFBQ2I7QUFDSjtBQXBCTSIsImZpbGUiOiIxOS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XHJcblxyXG5sZXQgc2VsZWN0ZWRDYXJkSWRzID0gW107XHJcblxyXG5jb25zdCBoaWRlU2VsZWN0aW9uID0gKCRjYXJkKSA9PiB7XHJcbiAgICBpZiAoJGNhcmQuaGFzQ2xhc3MoJ3RhdS1zZWxlY3RlZCcpKSB7XHJcbiAgICAgICAgJGNhcmQucmVtb3ZlQ2xhc3MoJ3RhdS1zZWxlY3RlZCcpO1xyXG4gICAgICAgIHNlbGVjdGVkQ2FyZElkcyA9IHNlbGVjdGVkQ2FyZElkcy5jb25jYXQoJGNhcmQuZGF0YSgnaWQnKSk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5jb25zdCBoaWdobGlnaHRDYXJkID0gKGNhcmQsIGRpcmVjdGlvblR5cGUsIHZpZXdNb2RlKSA9PiB7XHJcbiAgICBjb25zdCAkZWwgPSAkKGNhcmQpO1xyXG5cclxuICAgIGlmICh2aWV3TW9kZSA9PT0gJ3RpbWVsaW5lJykge1xyXG4gICAgICAgIGNvbnN0ICRwYXJlbnQgPSAkZWwucGFyZW50KCcuaS1yb2xlLXRpbWVsaW5lLWNhcmQtaG9sZGVyJyk7XHJcblxyXG4gICAgICAgIGlmICgkcGFyZW50Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAkcGFyZW50LmFkZENsYXNzKCdtYXNodXBDdXN0b21Vbml0U2hvd1JlbGF0aW9uc19fcmVsYXRlZCcpO1xyXG4gICAgICAgICAgICAkcGFyZW50LmFkZENsYXNzKGBtYXNodXBDdXN0b21Vbml0U2hvd1JlbGF0aW9uc19fJHtkaXJlY3Rpb25UeXBlfWApO1xyXG4gICAgICAgICAgICBoaWRlU2VsZWN0aW9uKCRwYXJlbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoaWRlU2VsZWN0aW9uKCRlbCk7XHJcbiAgICAkZWwuYWRkQ2xhc3MoJ21hc2h1cEN1c3RvbVVuaXRTaG93UmVsYXRpb25zX19yZWxhdGVkJyk7XHJcbn07XHJcblxyXG5jb25zdCBjbGVhbkNhcmRzID0gKCRncmlkKSA9PiB7XHJcbiAgICBbJ3JlbGF0ZWQnLCAncmVsYXRlZC1pbmJvdW5kJywgJ3JlbGF0ZWQtb3V0Ym91bmQnLCAnc291cmNlJ10uZm9yRWFjaCgodikgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNsYXNzTmFtZSA9IGBtYXNodXBDdXN0b21Vbml0U2hvd1JlbGF0aW9uc19fJHt2fWA7XHJcblxyXG4gICAgICAgICRncmlkLmZpbmQoYC4ke2NsYXNzTmFtZX1gKS5yZW1vdmVDbGFzcyhjbGFzc05hbWUpO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY2xlYW5HcmlkQW5kQ2FyZHMgPSAoJGdyaWQpID0+IHtcclxuICAgIGlmICgkZ3JpZCkge1xyXG4gICAgICAgICRncmlkLnJlbW92ZUNsYXNzKCdtYXNodXBDdXN0b21Vbml0U2hvd1JlbGF0aW9ucycpO1xyXG4gICAgICAgICRncmlkLnJlbW92ZUNsYXNzKCdtYXNodXBDdXN0b21Vbml0U2hvd1JlbGF0aW9ucy1oaWdobGlnaHRlZCcpO1xyXG5cclxuICAgICAgICBjbGVhbkNhcmRzKCRncmlkKTtcclxuICAgIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRIaWdobGlnaHRDYXJkc0J5UmVsYXRpb25zID0gKCRncmlkLCBjYXJkc0J5RW50aXR5SWQsIHZpZXdNb2RlKSA9PiB7XHJcbiAgICBjb25zdCBnZXRDYXJkc0J5RW50aXR5SWQgPSAoZW50aXR5SWQpID0+IGNhcmRzQnlFbnRpdHlJZFtlbnRpdHlJZF0gfHwgW107XHJcblxyXG4gICAgY29uc3QgaGlnaGxpZ2h0Q2FyZHNCeVJlbGF0aW9uID0gKHJlbGF0aW9uKSA9PiB7XHJcbiAgICAgICAgZ2V0Q2FyZHNCeUVudGl0eUlkKHJlbGF0aW9uLmVudGl0eS5pZCkuZm9yRWFjaCgoY2FyZCkgPT4ge1xyXG4gICAgICAgICAgICBoaWdobGlnaHRDYXJkKGNhcmQsIHJlbGF0aW9uLmRpcmVjdGlvblR5cGUsIHZpZXdNb2RlKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgY2xlYW5DYXJkcygkZ3JpZCk7XHJcblxyXG4gICAgcmV0dXJuIChyZWxhdGlvbnMsIHNvdXJjZUNhcmQpID0+IHtcclxuICAgICAgICBjb25zdCAkY2FyZCA9ICQoc291cmNlQ2FyZCk7XHJcblxyXG4gICAgICAgICRncmlkLmFkZENsYXNzKCdtYXNodXBDdXN0b21Vbml0U2hvd1JlbGF0aW9ucycpO1xyXG4gICAgICAgICRjYXJkLmFkZENsYXNzKCdtYXNodXBDdXN0b21Vbml0U2hvd1JlbGF0aW9uc19fc291cmNlJyk7XHJcbiAgICAgICAgaGlkZVNlbGVjdGlvbigkY2FyZCk7XHJcblxyXG4gICAgICAgIHJlbGF0aW9ucy5mb3JFYWNoKGhpZ2hsaWdodENhcmRzQnlSZWxhdGlvbik7XHJcbiAgICB9O1xyXG59O1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvcmVsYXRpb24uaGlnaGxpZ2h0LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 20 */
/*!***************************************!*\
  !*** ./src/relations.interactions.js ***!
  \***************************************/
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.unbindAndResetHighlights = exports.updateInteractionsData = exports.redrawInteractionsHighlights = exports.bindArrowHighlightInteractions = undefined;\n\nvar _jquery = __webpack_require__(/*! jquery */ 4);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _relations = __webpack_require__(/*! ./relations.taus */ 21);\n\nvar _relations2 = _interopRequireDefault(_relations);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar highlightedMode = 'mashupCustomUnitShowRelations__highlighted';\nvar highlightedElement = 'mashupCustomUnitShowRelations-highlighted';\nvar highlightSvgParentClass = 'mashupCustomUnitShowRelations__svg-highlighted';\n\nvar highlightedArrowsArray = [];\nvar highlightedCardsArray = [];\nvar arrows = [];\nvar cardsByEntityId = [];\nvar viewMode = void 0;\nvar clickedArrows = {};\n\nvar getGrid = function getGrid() {\n    return (0, _jquery2.default)('.i-role-grid');\n};\n\nvar highlightSvgParent = function highlightSvgParent() {\n    return getGrid().addClass(highlightSvgParentClass);\n};\nvar unHighlightSvgParent = function unHighlightSvgParent() {\n    return getGrid().removeClass(highlightSvgParentClass);\n};\n\nvar highlightArrowLines = function highlightArrowLines($lines) {\n    return (0, _jquery2.default)($lines).filter('.line').attr('class', 'line line__highlighted');\n};\nvar unHighlightArrowLines = function unHighlightArrowLines($lines) {\n    return (0, _jquery2.default)($lines).filter('.line').attr('class', 'line');\n};\n\nvar getArrowsLinesByIds = function getArrowsLinesByIds(id) {\n    return arrows.filter(function (_ref) {\n        var arrowId = _ref.arrowId;\n        return arrowId === id;\n    }).map(function (_ref2) {\n        var $lines = _ref2.$lines;\n        return $lines;\n    });\n};\n\nvar highlightArrows = function highlightArrows(arrowsId) {\n    if (highlightedArrowsArray.indexOf(arrowsId) === -1) {\n        getArrowsLinesByIds(arrowsId).forEach(highlightArrowLines);\n        highlightSvgParent();\n    }\n\n    highlightedArrowsArray.push(arrowsId);\n};\nvar unHighlightArrows = function unHighlightArrows(arrowsId) {\n    highlightedArrowsArray.splice(highlightedArrowsArray.indexOf(arrowsId), 1);\n\n    if (highlightedArrowsArray.indexOf(arrowsId) === -1) {\n        getArrowsLinesByIds(arrowsId).forEach(unHighlightArrowLines);\n        if (!highlightedArrowsArray.length) {\n            unHighlightSvgParent();\n        }\n    }\n};\n\nvar highlightCardElement = function highlightCardElement(card) {\n    var cardElement = (0, _jquery2.default)(card);\n\n    if (!cardElement.length) return;\n\n    cardElement.addClass(highlightedMode);\n    getGrid().addClass(highlightedElement);\n\n    if (viewMode === 'timeline') {\n        cardElement.parent('.i-role-timeline-card-holder').addClass(highlightedMode);\n    }\n};\nvar unHighlightCardElement = function unHighlightCardElement(card) {\n    var cardElement = (0, _jquery2.default)(card);\n\n    cardElement.removeClass(highlightedMode);\n\n    if (viewMode === 'timeline') {\n        cardElement.parent('.i-role-timeline-card-holder').removeClass(highlightedMode);\n    }\n\n    if (!highlightedCardsArray.length) {\n        getGrid().removeClass(highlightedElement);\n    }\n};\n\nvar highlightCards = function highlightCards(id) {\n    if (highlightedCardsArray.indexOf(id) === -1) {\n        cardsByEntityId[id].forEach(highlightCardElement);\n    }\n    highlightedCardsArray.push(id);\n};\nvar unHighlightCards = function unHighlightCards(id) {\n    highlightedCardsArray.splice(highlightedCardsArray.indexOf(id), 1);\n\n    if (highlightedCardsArray.indexOf(id) === -1) {\n        cardsByEntityId[id].forEach(unHighlightCardElement);\n    }\n};\n\nvar getArrowId = function getArrowId(main, slave) {\n    return main + '-' + slave;\n};\n\nvar getHighlightRelationArrow = function getHighlightRelationArrow(main, slave) {\n    return function () {\n        [String(main), String(slave)].forEach(highlightCards);\n        highlightArrows(getArrowId(main, slave));\n    };\n};\nvar getUnHighlightRelationArrow = function getUnHighlightRelationArrow(main, slave) {\n    return function () {\n        [String(main), String(slave)].forEach(unHighlightCards);\n        unHighlightArrows(getArrowId(main, slave));\n    };\n};\n\nvar getClickHandler = function getClickHandler(fromId, toId, relationType) {\n    return function () {\n        var arrowId = getArrowId(fromId, toId);\n        var notClickedBefore = !clickedArrows[arrowId];\n\n        clickedArrows[arrowId] = notClickedBefore;\n\n        (0, _relations2.default)({\n            name: notClickedBefore ? 'fix-arrow' : 'unfix-arrow',\n            fromId: fromId,\n            toId: toId,\n            relationType: relationType\n        });\n\n        (notClickedBefore ? getHighlightRelationArrow(fromId, toId) : getUnHighlightRelationArrow(fromId, toId))();\n\n        return false;\n    };\n};\n\nvar clearHighLights = function clearHighLights() {\n    [].concat(highlightedArrowsArray).forEach(unHighlightArrows);\n    [].concat(highlightedCardsArray).forEach(unHighlightCards);\n};\n\nvar bindArrowHighlightInteractions = exports.bindArrowHighlightInteractions = function bindArrowHighlightInteractions($lines, main, slave, relationType) {\n    $lines.on('mouseenter', getHighlightRelationArrow(main, slave));\n    $lines.on('mouseleave', getUnHighlightRelationArrow(main, slave));\n    $lines.on('mousedown', getClickHandler(main, slave, relationType));\n};\n\nvar redrawInteractionsHighlights = exports.redrawInteractionsHighlights = function redrawInteractionsHighlights() {\n    var highlightedArrowsArrayDub = [].concat(highlightedArrowsArray);\n    var highlightedCardsArrayDub = [].concat(highlightedCardsArray);\n\n    clearHighLights();\n\n    highlightedArrowsArrayDub.forEach(highlightArrows);\n    highlightedCardsArrayDub.forEach(highlightCards);\n};\n\nvar updateInteractionsData = exports.updateInteractionsData = function updateInteractionsData(cardsByEntityId_, arrows_, viewMode_) {\n    cardsByEntityId = cardsByEntityId_;\n    arrows = arrows_;\n    viewMode = viewMode_;\n\n    getGrid().on('mousedown.highlights', function (_ref3) {\n        var target = _ref3.target;\n\n        if ((0, _jquery2.default)(target).parents().hasClass('i-role-card')) return;\n\n        (0, _relations2.default)({\n            name: 'reset-highlights'\n        });\n        clearHighLights();\n        clickedArrows = {};\n    });\n};\n\nvar unbindAndResetHighlights = exports.unbindAndResetHighlights = function unbindAndResetHighlights() {\n    clickedArrows = {};\n    clearHighLights();\n    getGrid().off('mousedown.highlights');\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcmVsYXRpb25zLmludGVyYWN0aW9ucy5qcz82ZWI5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7Ozs7OztBQUVBLElBQU0sa0JBQWtCO0FBQ3hCLElBQU0scUJBQXFCO0FBQzNCLElBQU0sMEJBQTBCOztBQUVoQyxJQUFNLHlCQUF5QjtBQUMvQixJQUFNLHdCQUF3QjtBQUM5QixJQUFJLFNBQVM7QUFDYixJQUFJLGtCQUFrQjtBQUN0QixJQUFJLGdCQUFKO0FBQ0EsSUFBSSxnQkFBZ0I7O0FBRXBCLElBQU0sVUFBVTtXQUFNLHNCQUFFO0FBQXhCOztBQUVBLElBQU0scUJBQXFCO1dBQU0sVUFBVSxTQUFTO0FBQXBEO0FBQ0EsSUFBTSx1QkFBdUI7V0FBTSxVQUFVLFlBQVk7QUFBekQ7O0FBRUEsSUFBTSxzQkFBc0I7V0FBVSxzQkFBRSxRQUFRLE9BQU8sU0FBUyxLQUFLLFNBQVM7QUFBOUU7QUFDQSxJQUFNLHdCQUF3QjtXQUFVLHNCQUFFLFFBQVEsT0FBTyxTQUFTLEtBQUssU0FBUztBQUFoRjs7QUFFQSxJQUFNLHNCQUFzQjtrQkFBYSxPQUFPO1lBQUU7ZUFBYSxZQUFZO0FBQXpDLE9BQTZDLElBQUk7WUFBRTtlQUFZO0FBQS9EO0FBQWxDOztBQUVBLElBQU0sa0JBQWtCLHlCQUFDLFVBQ3JCO1FBQUksdUJBQXVCLFFBQVEsY0FBYyxDQUFDLEdBQzlDOzRCQUFvQixVQUFVLFFBQzlCO0FBQ0g7QUFFRDs7MkJBQXVCLEtBQzFCO0FBUEQ7QUFRQSxJQUFNLG9CQUFvQiwyQkFBQyxVQUN2QjsyQkFBdUIsT0FBTyx1QkFBdUIsUUFBUSxXQUU3RDs7UUFBSSx1QkFBdUIsUUFBUSxjQUFjLENBQUMsR0FDOUM7NEJBQW9CLFVBQVUsUUFDOUI7WUFBSSxDQUFDLHVCQUF1QixRQUN4QjtBQUNIO0FBQ0o7QUFDSjtBQVREOztBQVdBLElBQU0sdUJBQXVCLDhCQUFDLE1BQzFCO1FBQU0sY0FBYyxzQkFFcEI7O1FBQUksQ0FBQyxZQUFZLFFBRWpCOztnQkFBWSxTQUNaO2NBQVUsU0FFVjs7UUFBSSxhQUFhLFlBQ2I7b0JBQVksT0FBTyxnQ0FBZ0MsU0FDdEQ7QUFDSjtBQVhEO0FBWUEsSUFBTSx5QkFBeUIsZ0NBQUMsTUFDNUI7UUFBTSxjQUFjLHNCQUVwQjs7Z0JBQVksWUFFWjs7UUFBSSxhQUFhLFlBQ2I7b0JBQVksT0FBTyxnQ0FBZ0MsWUFDdEQ7QUFFRDs7UUFBSSxDQUFDLHNCQUFzQixRQUN2QjtrQkFBVSxZQUNiO0FBQ0o7QUFaRDs7QUFjQSxJQUFNLGlCQUFpQix3QkFBQyxJQUNwQjtRQUFJLHNCQUFzQixRQUFRLFFBQVEsQ0FBQyxHQUN2Qzt3QkFBZ0IsSUFBSSxRQUN2QjtBQUNEOzBCQUFzQixLQUN6QjtBQUxEO0FBTUEsSUFBTSxtQkFBbUIsMEJBQUMsSUFDdEI7MEJBQXNCLE9BQU8sc0JBQXNCLFFBQVEsS0FFM0Q7O1FBQUksc0JBQXNCLFFBQVEsUUFBUSxDQUFDLEdBQ3ZDO3dCQUFnQixJQUFJLFFBQ3ZCO0FBQ0o7QUFORDs7QUFRQSxJQUFNLGFBQWEsb0JBQUMsTUFBTSxPQUFQO1dBQW9CLGFBQVE7QUFBL0M7O0FBRUEsSUFBTSw0QkFBNEIsbUNBQUMsTUFBTSxPQUFQO1dBQWlCLFlBQy9DO1NBQUMsT0FBTyxPQUFPLE9BQU8sUUFBUSxRQUM5Qjt3QkFBZ0IsV0FBVyxNQUM5QjtBQUhpQztBQUFsQztBQUlBLElBQU0sOEJBQThCLHFDQUFDLE1BQU0sT0FBUDtXQUFpQixZQUNqRDtTQUFDLE9BQU8sT0FBTyxPQUFPLFFBQVEsUUFDOUI7MEJBQWtCLFdBQVcsTUFDaEM7QUFIbUM7QUFBcEM7O0FBS0EsSUFBTSxrQkFBa0IseUJBQUMsUUFBUSxNQUFNLGNBQWY7V0FBZ0MsWUFDcEQ7WUFBTSxVQUFVLFdBQVcsUUFDM0I7WUFBTSxtQkFBbUIsQ0FBQyxjQUUxQjs7c0JBQWMsV0FFZDs7O2tCQUNVLG1CQUFtQixjQUN6QjtvQkFDQTtrQkFDQTswQkFHSjtBQU5JOztTQU1ILG1CQUFtQiwwQkFBMEIsUUFBUSxRQUFRLDRCQUE0QixRQUUxRjs7ZUFDSDtBQWhCdUI7QUFBeEI7O0FBa0JBLElBQU0sa0JBQWtCLDJCQUNwQjtjQUFJLHdCQUF3QixRQUM1QjtjQUFJLHVCQUF1QixRQUM5QjtBQUhEOztBQUtPLElBQU0sMEVBQWlDLHdDQUFDLFFBQVEsTUFBTSxPQUFPLGNBQ2hFO1dBQU8sR0FBRyxjQUFjLDBCQUEwQixNQUNsRDtXQUFPLEdBQUcsY0FBYyw0QkFBNEIsTUFDcEQ7V0FBTyxHQUFHLGFBQWEsZ0JBQWdCLE1BQU0sT0FDaEQ7QUFKTTs7QUFNQSxJQUFNLHNFQUErQix3Q0FDeEM7UUFBTSxzQ0FDTjtRQUFNLHFDQUVOOztBQUVBOzs4QkFBMEIsUUFDMUI7NkJBQXlCLFFBQzVCO0FBUk07O0FBVUEsSUFBTSwwREFBeUIsZ0NBQUMsa0JBQWtCLFNBQVMsV0FDOUQ7c0JBQ0E7YUFDQTtlQUVBOztjQUFVLEdBQUcsd0JBQXdCLGlCQUFjO1lBQUEsZUFDL0M7O1lBQUksc0JBQUUsUUFBUSxVQUFVLFNBQVMsZ0JBRWpDOzs7a0JBR0E7QUFGSTtBQUdKO3dCQUNIO0FBQ0o7QUFkTTs7QUFnQkEsSUFBTSw4REFBMkIsb0NBQ3BDO29CQUNBO0FBQ0E7Y0FBVSxJQUNiO0FBSk0iLCJmaWxlIjoiMjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xyXG5pbXBvcnQgdGF1c1RyYWNrIGZyb20gJy4vcmVsYXRpb25zLnRhdXMnO1xyXG5cclxuY29uc3QgaGlnaGxpZ2h0ZWRNb2RlID0gJ21hc2h1cEN1c3RvbVVuaXRTaG93UmVsYXRpb25zX19oaWdobGlnaHRlZCc7XHJcbmNvbnN0IGhpZ2hsaWdodGVkRWxlbWVudCA9ICdtYXNodXBDdXN0b21Vbml0U2hvd1JlbGF0aW9ucy1oaWdobGlnaHRlZCc7XHJcbmNvbnN0IGhpZ2hsaWdodFN2Z1BhcmVudENsYXNzID0gJ21hc2h1cEN1c3RvbVVuaXRTaG93UmVsYXRpb25zX19zdmctaGlnaGxpZ2h0ZWQnO1xyXG5cclxuY29uc3QgaGlnaGxpZ2h0ZWRBcnJvd3NBcnJheSA9IFtdO1xyXG5jb25zdCBoaWdobGlnaHRlZENhcmRzQXJyYXkgPSBbXTtcclxubGV0IGFycm93cyA9IFtdO1xyXG5sZXQgY2FyZHNCeUVudGl0eUlkID0gW107XHJcbmxldCB2aWV3TW9kZTtcclxubGV0IGNsaWNrZWRBcnJvd3MgPSB7fTtcclxuXHJcbmNvbnN0IGdldEdyaWQgPSAoKSA9PiAkKCcuaS1yb2xlLWdyaWQnKTtcclxuXHJcbmNvbnN0IGhpZ2hsaWdodFN2Z1BhcmVudCA9ICgpID0+IGdldEdyaWQoKS5hZGRDbGFzcyhoaWdobGlnaHRTdmdQYXJlbnRDbGFzcyk7XHJcbmNvbnN0IHVuSGlnaGxpZ2h0U3ZnUGFyZW50ID0gKCkgPT4gZ2V0R3JpZCgpLnJlbW92ZUNsYXNzKGhpZ2hsaWdodFN2Z1BhcmVudENsYXNzKTtcclxuXHJcbmNvbnN0IGhpZ2hsaWdodEFycm93TGluZXMgPSAkbGluZXMgPT4gJCgkbGluZXMpLmZpbHRlcignLmxpbmUnKS5hdHRyKCdjbGFzcycsICdsaW5lIGxpbmVfX2hpZ2hsaWdodGVkJyk7XHJcbmNvbnN0IHVuSGlnaGxpZ2h0QXJyb3dMaW5lcyA9ICRsaW5lcyA9PiAkKCRsaW5lcykuZmlsdGVyKCcubGluZScpLmF0dHIoJ2NsYXNzJywgJ2xpbmUnKTtcclxuXHJcbmNvbnN0IGdldEFycm93c0xpbmVzQnlJZHMgPSBpZCA9PiBhcnJvd3MuZmlsdGVyKCh7YXJyb3dJZH0pID0+IGFycm93SWQgPT09IGlkKS5tYXAoKHskbGluZXN9KSA9PiAkbGluZXMpO1xyXG5cclxuY29uc3QgaGlnaGxpZ2h0QXJyb3dzID0gKGFycm93c0lkKSA9PiB7XHJcbiAgICBpZiAoaGlnaGxpZ2h0ZWRBcnJvd3NBcnJheS5pbmRleE9mKGFycm93c0lkKSA9PT0gLTEpIHtcclxuICAgICAgICBnZXRBcnJvd3NMaW5lc0J5SWRzKGFycm93c0lkKS5mb3JFYWNoKGhpZ2hsaWdodEFycm93TGluZXMpO1xyXG4gICAgICAgIGhpZ2hsaWdodFN2Z1BhcmVudCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGhpZ2hsaWdodGVkQXJyb3dzQXJyYXkucHVzaChhcnJvd3NJZCk7XHJcbn07XHJcbmNvbnN0IHVuSGlnaGxpZ2h0QXJyb3dzID0gKGFycm93c0lkKSA9PiB7XHJcbiAgICBoaWdobGlnaHRlZEFycm93c0FycmF5LnNwbGljZShoaWdobGlnaHRlZEFycm93c0FycmF5LmluZGV4T2YoYXJyb3dzSWQpLCAxKTtcclxuXHJcbiAgICBpZiAoaGlnaGxpZ2h0ZWRBcnJvd3NBcnJheS5pbmRleE9mKGFycm93c0lkKSA9PT0gLTEpIHtcclxuICAgICAgICBnZXRBcnJvd3NMaW5lc0J5SWRzKGFycm93c0lkKS5mb3JFYWNoKHVuSGlnaGxpZ2h0QXJyb3dMaW5lcyk7XHJcbiAgICAgICAgaWYgKCFoaWdobGlnaHRlZEFycm93c0FycmF5Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICB1bkhpZ2hsaWdodFN2Z1BhcmVudCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuXHJcbmNvbnN0IGhpZ2hsaWdodENhcmRFbGVtZW50ID0gKGNhcmQpID0+IHtcclxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gJChjYXJkKTtcclxuXHJcbiAgICBpZiAoIWNhcmRFbGVtZW50Lmxlbmd0aCkgcmV0dXJuO1xyXG5cclxuICAgIGNhcmRFbGVtZW50LmFkZENsYXNzKGhpZ2hsaWdodGVkTW9kZSk7XHJcbiAgICBnZXRHcmlkKCkuYWRkQ2xhc3MoaGlnaGxpZ2h0ZWRFbGVtZW50KTtcclxuXHJcbiAgICBpZiAodmlld01vZGUgPT09ICd0aW1lbGluZScpIHtcclxuICAgICAgICBjYXJkRWxlbWVudC5wYXJlbnQoJy5pLXJvbGUtdGltZWxpbmUtY2FyZC1ob2xkZXInKS5hZGRDbGFzcyhoaWdobGlnaHRlZE1vZGUpO1xyXG4gICAgfVxyXG59O1xyXG5jb25zdCB1bkhpZ2hsaWdodENhcmRFbGVtZW50ID0gKGNhcmQpID0+IHtcclxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gJChjYXJkKTtcclxuXHJcbiAgICBjYXJkRWxlbWVudC5yZW1vdmVDbGFzcyhoaWdobGlnaHRlZE1vZGUpO1xyXG5cclxuICAgIGlmICh2aWV3TW9kZSA9PT0gJ3RpbWVsaW5lJykge1xyXG4gICAgICAgIGNhcmRFbGVtZW50LnBhcmVudCgnLmktcm9sZS10aW1lbGluZS1jYXJkLWhvbGRlcicpLnJlbW92ZUNsYXNzKGhpZ2hsaWdodGVkTW9kZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFoaWdobGlnaHRlZENhcmRzQXJyYXkubGVuZ3RoKSB7XHJcbiAgICAgICAgZ2V0R3JpZCgpLnJlbW92ZUNsYXNzKGhpZ2hsaWdodGVkRWxlbWVudCk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5jb25zdCBoaWdobGlnaHRDYXJkcyA9IChpZCkgPT4ge1xyXG4gICAgaWYgKGhpZ2hsaWdodGVkQ2FyZHNBcnJheS5pbmRleE9mKGlkKSA9PT0gLTEpIHtcclxuICAgICAgICBjYXJkc0J5RW50aXR5SWRbaWRdLmZvckVhY2goaGlnaGxpZ2h0Q2FyZEVsZW1lbnQpO1xyXG4gICAgfVxyXG4gICAgaGlnaGxpZ2h0ZWRDYXJkc0FycmF5LnB1c2goaWQpO1xyXG59O1xyXG5jb25zdCB1bkhpZ2hsaWdodENhcmRzID0gKGlkKSA9PiB7XHJcbiAgICBoaWdobGlnaHRlZENhcmRzQXJyYXkuc3BsaWNlKGhpZ2hsaWdodGVkQ2FyZHNBcnJheS5pbmRleE9mKGlkKSwgMSk7XHJcblxyXG4gICAgaWYgKGhpZ2hsaWdodGVkQ2FyZHNBcnJheS5pbmRleE9mKGlkKSA9PT0gLTEpIHtcclxuICAgICAgICBjYXJkc0J5RW50aXR5SWRbaWRdLmZvckVhY2godW5IaWdobGlnaHRDYXJkRWxlbWVudCk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5jb25zdCBnZXRBcnJvd0lkID0gKG1haW4sIHNsYXZlKSA9PiBgJHttYWlufS0ke3NsYXZlfWA7XHJcblxyXG5jb25zdCBnZXRIaWdobGlnaHRSZWxhdGlvbkFycm93ID0gKG1haW4sIHNsYXZlKSA9PiAoKSA9PiB7XHJcbiAgICBbU3RyaW5nKG1haW4pLCBTdHJpbmcoc2xhdmUpXS5mb3JFYWNoKGhpZ2hsaWdodENhcmRzKTtcclxuICAgIGhpZ2hsaWdodEFycm93cyhnZXRBcnJvd0lkKG1haW4sIHNsYXZlKSk7XHJcbn07XHJcbmNvbnN0IGdldFVuSGlnaGxpZ2h0UmVsYXRpb25BcnJvdyA9IChtYWluLCBzbGF2ZSkgPT4gKCkgPT4ge1xyXG4gICAgW1N0cmluZyhtYWluKSwgU3RyaW5nKHNsYXZlKV0uZm9yRWFjaCh1bkhpZ2hsaWdodENhcmRzKTtcclxuICAgIHVuSGlnaGxpZ2h0QXJyb3dzKGdldEFycm93SWQobWFpbiwgc2xhdmUpKTtcclxufTtcclxuXHJcbmNvbnN0IGdldENsaWNrSGFuZGxlciA9IChmcm9tSWQsIHRvSWQsIHJlbGF0aW9uVHlwZSkgPT4gKCkgPT4ge1xyXG4gICAgY29uc3QgYXJyb3dJZCA9IGdldEFycm93SWQoZnJvbUlkLCB0b0lkKTtcclxuICAgIGNvbnN0IG5vdENsaWNrZWRCZWZvcmUgPSAhY2xpY2tlZEFycm93c1thcnJvd0lkXTtcclxuXHJcbiAgICBjbGlja2VkQXJyb3dzW2Fycm93SWRdID0gbm90Q2xpY2tlZEJlZm9yZTtcclxuXHJcbiAgICB0YXVzVHJhY2soe1xyXG4gICAgICAgIG5hbWU6IG5vdENsaWNrZWRCZWZvcmUgPyAnZml4LWFycm93JyA6ICd1bmZpeC1hcnJvdycsXHJcbiAgICAgICAgZnJvbUlkLFxyXG4gICAgICAgIHRvSWQsXHJcbiAgICAgICAgcmVsYXRpb25UeXBlXHJcbiAgICB9KTtcclxuXHJcbiAgICAobm90Q2xpY2tlZEJlZm9yZSA/IGdldEhpZ2hsaWdodFJlbGF0aW9uQXJyb3coZnJvbUlkLCB0b0lkKSA6IGdldFVuSGlnaGxpZ2h0UmVsYXRpb25BcnJvdyhmcm9tSWQsIHRvSWQpKSgpO1xyXG5cclxuICAgIHJldHVybiBmYWxzZTtcclxufTtcclxuXHJcbmNvbnN0IGNsZWFySGlnaExpZ2h0cyA9ICgpID0+IHtcclxuICAgIFsuLi5oaWdobGlnaHRlZEFycm93c0FycmF5XS5mb3JFYWNoKHVuSGlnaGxpZ2h0QXJyb3dzKTtcclxuICAgIFsuLi5oaWdobGlnaHRlZENhcmRzQXJyYXldLmZvckVhY2godW5IaWdobGlnaHRDYXJkcyk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgYmluZEFycm93SGlnaGxpZ2h0SW50ZXJhY3Rpb25zID0gKCRsaW5lcywgbWFpbiwgc2xhdmUsIHJlbGF0aW9uVHlwZSkgPT4ge1xyXG4gICAgJGxpbmVzLm9uKCdtb3VzZWVudGVyJywgZ2V0SGlnaGxpZ2h0UmVsYXRpb25BcnJvdyhtYWluLCBzbGF2ZSkpO1xyXG4gICAgJGxpbmVzLm9uKCdtb3VzZWxlYXZlJywgZ2V0VW5IaWdobGlnaHRSZWxhdGlvbkFycm93KG1haW4sIHNsYXZlKSk7XHJcbiAgICAkbGluZXMub24oJ21vdXNlZG93bicsIGdldENsaWNrSGFuZGxlcihtYWluLCBzbGF2ZSwgcmVsYXRpb25UeXBlKSk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgcmVkcmF3SW50ZXJhY3Rpb25zSGlnaGxpZ2h0cyA9ICgpID0+IHtcclxuICAgIGNvbnN0IGhpZ2hsaWdodGVkQXJyb3dzQXJyYXlEdWIgPSBbLi4uaGlnaGxpZ2h0ZWRBcnJvd3NBcnJheV07XHJcbiAgICBjb25zdCBoaWdobGlnaHRlZENhcmRzQXJyYXlEdWIgPSBbLi4uaGlnaGxpZ2h0ZWRDYXJkc0FycmF5XTtcclxuXHJcbiAgICBjbGVhckhpZ2hMaWdodHMoKTtcclxuXHJcbiAgICBoaWdobGlnaHRlZEFycm93c0FycmF5RHViLmZvckVhY2goaGlnaGxpZ2h0QXJyb3dzKTtcclxuICAgIGhpZ2hsaWdodGVkQ2FyZHNBcnJheUR1Yi5mb3JFYWNoKGhpZ2hsaWdodENhcmRzKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB1cGRhdGVJbnRlcmFjdGlvbnNEYXRhID0gKGNhcmRzQnlFbnRpdHlJZF8sIGFycm93c18sIHZpZXdNb2RlXykgPT4ge1xyXG4gICAgY2FyZHNCeUVudGl0eUlkID0gY2FyZHNCeUVudGl0eUlkXztcclxuICAgIGFycm93cyA9IGFycm93c187XHJcbiAgICB2aWV3TW9kZSA9IHZpZXdNb2RlXztcclxuXHJcbiAgICBnZXRHcmlkKCkub24oJ21vdXNlZG93bi5oaWdobGlnaHRzJywgKHt0YXJnZXR9KSA9PiB7XHJcbiAgICAgICAgaWYgKCQodGFyZ2V0KS5wYXJlbnRzKCkuaGFzQ2xhc3MoJ2ktcm9sZS1jYXJkJykpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGF1c1RyYWNrKHtcclxuICAgICAgICAgICAgbmFtZTogJ3Jlc2V0LWhpZ2hsaWdodHMnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY2xlYXJIaWdoTGlnaHRzKCk7XHJcbiAgICAgICAgY2xpY2tlZEFycm93cyA9IHt9O1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgdW5iaW5kQW5kUmVzZXRIaWdobGlnaHRzID0gKCkgPT4ge1xyXG4gICAgY2xpY2tlZEFycm93cyA9IHt9O1xyXG4gICAgY2xlYXJIaWdoTGlnaHRzKCk7XHJcbiAgICBnZXRHcmlkKCkub2ZmKCdtb3VzZWRvd24uaGlnaGxpZ2h0cycpO1xyXG59O1xyXG5cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3JlbGF0aW9ucy5pbnRlcmFjdGlvbnMuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 21 */
/*!*******************************!*\
  !*** ./src/relations.taus.js ***!
  \*******************************/
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _Underscore = __webpack_require__(/*! Underscore */ 10);\n\nvar doAction = function doAction(param, action) {\n    if (param) {\n        action();\n    }\n};\n\nexports.default = function (_ref) {\n    var name = _ref.name,\n        fromId = _ref.fromId,\n        toId = _ref.toId,\n        relationType = _ref.relationType;\n\n    var trackData = {\n        name: 'relations-' + name,\n        tags: ['relations']\n    };\n\n    doAction(fromId, function () {\n        return (0, _Underscore.extend)(trackData, { fromId: fromId });\n    });\n    doAction(toId, function () {\n        return (0, _Underscore.extend)(trackData, { toId: toId });\n    });\n    doAction(relationType, function () {\n        return (0, _Underscore.extend)(trackData, { relationType: relationType });\n    });\n\n    if (window.taus) {\n        window.taus.track(trackData);\n    }\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcmVsYXRpb25zLnRhdXMuanM/ODZmMyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7QUFFQSxJQUFNLFdBQVcsa0JBQUMsT0FBTyxRQUNyQjtRQUFJLE9BQ0E7QUFDSDtBQUNKO0FBSkQ7O2tCQU1lLGdCQUF3QztRQUFBO1FBQUE7UUFBQTtRQUFBLG9CQUNuRDs7UUFBTTs2QkFFRjtjQUFNLENBR1Y7QUFKSTs7YUFJSyxRQUFRO2VBQU0sd0JBQU8sV0FBVyxFQUFDLFFBQUQ7QUFDekM7YUFBUyxNQUFNO2VBQU0sd0JBQU8sV0FBVyxFQUFDLE1BQUQ7QUFDdkM7YUFBUyxjQUFjO2VBQU0sd0JBQU8sV0FBVyxFQUFDLGNBQUQ7QUFFL0M7O1FBQUksT0FBTyxNQUNQO2VBQU8sS0FBSyxNQUNmO0FBQ0oiLCJmaWxlIjoiMjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2V4dGVuZH0gZnJvbSAnVW5kZXJzY29yZSc7XHJcblxyXG5jb25zdCBkb0FjdGlvbiA9IChwYXJhbSwgYWN0aW9uKSA9PiB7XHJcbiAgICBpZiAocGFyYW0pIHtcclxuICAgICAgICBhY3Rpb24oKTtcclxuICAgIH1cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0ICh7bmFtZSwgZnJvbUlkLCB0b0lkLCByZWxhdGlvblR5cGV9KSA9PiB7XHJcbiAgICBjb25zdCB0cmFja0RhdGEgPSB7XHJcbiAgICAgICAgbmFtZTogYHJlbGF0aW9ucy0ke25hbWV9YCxcclxuICAgICAgICB0YWdzOiBbJ3JlbGF0aW9ucyddXHJcbiAgICB9O1xyXG5cclxuICAgIGRvQWN0aW9uKGZyb21JZCwgKCkgPT4gZXh0ZW5kKHRyYWNrRGF0YSwge2Zyb21JZH0pKTtcclxuICAgIGRvQWN0aW9uKHRvSWQsICgpID0+IGV4dGVuZCh0cmFja0RhdGEsIHt0b0lkfSkpO1xyXG4gICAgZG9BY3Rpb24ocmVsYXRpb25UeXBlLCAoKSA9PiBleHRlbmQodHJhY2tEYXRhLCB7cmVsYXRpb25UeXBlfSkpO1xyXG5cclxuICAgIGlmICh3aW5kb3cudGF1cykge1xyXG4gICAgICAgIHdpbmRvdy50YXVzLnRyYWNrKHRyYWNrRGF0YSk7XHJcbiAgICB9XHJcbn07XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9yZWxhdGlvbnMudGF1cy5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 22 */
/*!****************************************!*\
  !*** ./src/relations.draw.timeline.js ***!
  \****************************************/
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () {\n    function defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n        }\n    }return function (Constructor, protoProps, staticProps) {\n        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n    };\n}();\n\nvar _underscore = __webpack_require__(/*! underscore */ 10);\n\nvar _underscore2 = _interopRequireDefault(_underscore);\n\nvar _jquery = __webpack_require__(/*! jquery */ 4);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _relationsDraw = __webpack_require__(/*! ./relations.draw.js */ 9);\n\nvar _relationsDraw2 = _interopRequireDefault(_relationsDraw);\n\nvar _constView = __webpack_require__(/*! ./const.view.modes */ 11);\n\nvar _constView2 = _interopRequireDefault(_constView);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction _toConsumableArray(arr) {\n    if (Array.isArray(arr)) {\n        for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n            arr2[i] = arr[i];\n        }return arr2;\n    } else {\n        return Array.from(arr);\n    }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n    if (!self) {\n        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }return call && ((typeof call === \"undefined\" ? \"undefined\" : _typeof(call)) === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n        throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : _typeof(superClass)));\n    }subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar RelationsDrawTimeline = function (_RelationsDraw) {\n    _inherits(RelationsDrawTimeline, _RelationsDraw);\n\n    function RelationsDrawTimeline(dataFetcher) {\n        _classCallCheck(this, RelationsDrawTimeline);\n\n        var _this = _possibleConstructorReturn(this, (RelationsDrawTimeline.__proto__ || Object.getPrototypeOf(RelationsDrawTimeline)).call(this, dataFetcher));\n\n        _this._getElementSelectFunction = function (id, el) {\n            return function () {\n                return _underscore2.default.first((_this.cardsByEntityId[id] || []).filter(function (c) {\n                    return c.sectionType === el.sectionType && el.coords && _underscore2.default.isEqual(c.coords || '', el.coords || '');\n                }));\n            };\n        };\n\n        _this.viewMode = _constView2.default.TIMELINE;\n        return _this;\n    }\n\n    _createClass(RelationsDrawTimeline, [{\n        key: '_appendSvgToGrid',\n        value: function _appendSvgToGrid($svg) {\n            this.$grid.find('.tau-timeline.i-role-timeline-column').append($svg);\n        }\n    }, {\n        key: '_getCardsGroupedByEntityId',\n        value: function _getCardsGroupedByEntityId() {\n            var groupedCards = _underscore2.default.groupBy([].concat(_toConsumableArray(this.$grid.find('.tau-backlog-body .i-role-card, .tau-backlog-body .tau-sortable__placeholder').toArray().map(function (card) {\n                return _underscore2.default.extend(card, {\n                    sectionType: 'backlog',\n                    holder: card,\n                    coords: JSON.parse(card.dataset.dataItem).coords\n                });\n            })), _toConsumableArray(this.$grid.find('.tau-card-planner:not(.tau-section-invisible) .i-role-card, .tau-card-planner:not(.tau-section-invisible) .tau-sortable__placeholder').toArray().map(function (card) {\n                return _underscore2.default.extend(card, {\n                    sectionType: 'planned',\n                    holder: card.parentElement,\n                    coords: JSON.parse(card.dataset.dataItem).coords\n                });\n            })), _toConsumableArray(this.$grid.find('.tau-timeline-card > .tau-card-holder:not(.tau-section-invisible) .i-role-card').toArray().map(function (card) {\n                return _underscore2.default.extend(card, {\n                    sectionType: 'actual',\n                    holder: card,\n                    coords: JSON.parse(card.dataset.dataItem).coords\n                });\n            }))), function (v) {\n                return v.getAttribute('data-entity-id');\n            });\n\n            return _underscore2.default.keys(groupedCards).reduce(function (cards, key) {\n                var sectionTypes = _underscore2.default.chain(groupedCards[key]).pluck('sectionType').uniq().value();\n                var hasBacklog = sectionTypes.filter(function (f) {\n                    return f === 'backlog';\n                }).length > 0;\n\n                if (sectionTypes.length > 1 && !hasBacklog) {\n                    cards[key] = groupedCards[key].filter(function (card) {\n                        return card.sectionType === 'actual';\n                    });\n                } else cards[key] = groupedCards[key];\n                return cards;\n            }, {});\n        }\n    }, {\n        key: '_getTable',\n        value: function _getTable() {\n            return this.$grid.find('.tau-timeline-flow');\n        }\n    }, {\n        key: '_getPositionFromRect',\n        value: function _getPositionFromRect(cardRect, tableRect) {\n            return {\n                x: cardRect.left - tableRect.left,\n                y: cardRect.top - tableRect.top - this.offset,\n                height: cardRect.height,\n                width: cardRect.width\n            };\n        }\n    }, {\n        key: '_getClientRects',\n        value: function _getClientRects(fromEl, toEl) {\n            var rects = {\n                cardRect: (fromEl.holder || fromEl).getBoundingClientRect(),\n                targetRect: (toEl.holder || toEl).getBoundingClientRect(),\n                tableRect: this.$table[0].getBoundingClientRect(),\n                gridRect: this.$grid[0].getBoundingClientRect()\n            };\n\n            if (fromEl.sectionType === 'actual' || toEl.sectionType === 'actual') {\n                var nowMarker = this.$table.find('.tau-timeline-now-marker');\n                var nowMarkerRect = nowMarker[0].getBoundingClientRect();\n\n                [rects.cardRect, rects.targetRect].forEach(function (rect) {\n                    if (rect.left < nowMarkerRect.left && rect.width > nowMarkerRect.left - rect.left) {\n                        rect.width = nowMarkerRect.left - rect.left;\n                    }\n                });\n            }\n\n            return rects;\n        }\n    }, {\n        key: '_processTargetCards',\n        value: function _processTargetCards(cards) {\n            return cards.map(function (card) {\n                var $parent = (0, _jquery2.default)(card).parent();\n                var parentCard = $parent.hasClass('i-role-timeline-planner-card-holder') ? $parent[0] : card;\n\n                parentCard.sectionType = card.sectionType;\n                parentCard.holder = card.holder;\n                parentCard.coords = card.coords;\n                return parentCard;\n            });\n        }\n    }]);\n\n    return RelationsDrawTimeline;\n}(_relationsDraw2.default);\n\nexports.default = RelationsDrawTimeline;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcmVsYXRpb25zLmRyYXcudGltZWxpbmUuanM/YzliNyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBRXFCO3FDQUNqQjs7bUNBQVksYUFBYTs4QkFBQTs7a0pBQ2Y7O2NBeURWLDRCQUE0QixVQUFDLElBQUksSUFBTDttQkFDeEI7NENBQVEsT0FBTyxNQUFLLGdCQUFnQixPQUFPLElBQ3RDLE9BQU8sVUFBQyxHQUFEOzJCQUFPLEVBQUUsZ0JBQWdCLEdBQUcsZUFBZSxHQUFHLFVBQVUscUJBQUUsUUFBUSxFQUFFLFVBQVUsSUFBSSxHQUFHLFVBQVU7QUFEN0Ysa0JBQVI7QUFEa0I7QUF4RHhCOztjQUFLLFdBQVcsb0JBQVU7ZUFDN0I7Ozs7O3lDQUVnQixNQUNiO2lCQUFLLE1BQU0sS0FBSyx3Q0FBd0MsT0FDM0Q7Ozs7cURBR0c7Z0JBQU0sb0NBQWlCLDBDQUVQLE1BQU0sS0FBSyxnRkFBZ0YsVUFBVSxJQUFJLFVBQUMsTUFBRDs0Q0FBWSxPQUFPO2lDQUVoSTs0QkFDQTs0QkFBUSxLQUFLLE1BQU0sS0FBSyxRQUFRLFVBQVU7QUFGMUMsaUJBRHVIO0FBQXhILHlDQUtLLE1BQU0sS0FBSyx3SUFDZCxVQUNBLElBQUksVUFBQyxNQUFEOzRDQUFZLE9BQU87aUNBRXBCOzRCQUFRLEtBQ1I7NEJBQVEsS0FBSyxNQUFNLEtBQUssUUFBUSxVQUFVO0FBRjFDLGlCQURXO0FBRmhCLHlDQU9LLE1BQU0sS0FBSyxrRkFDZCxVQUNBLElBQUksVUFBQyxNQUFEOzRDQUFZLE9BQU87aUNBRXBCOzRCQUNBOzRCQUFRLEtBQUssTUFBTSxLQUFLLFFBQVEsVUFBVTtBQUYxQyxpQkFEVztBQUZoQixrQkFPUCxVQUFDLEdBQUQ7dUJBQU8sRUFBRSxhQUFhO0FBRTFCLGFBdkJxQjs7d0NBdUJaLEtBQUssY0FBYyxPQUFPLFVBQUMsT0FBTyxLQUN2QztvQkFBTSxlQUFlLHFCQUFFLE1BQU0sYUFBYSxNQUFNLE1BQU0sZUFBZSxPQUNyRTtvQkFBTSwwQkFBMEIsT0FBTyxVQUFDLEdBQUQ7MkJBQU8sTUFBTTtBQUFqQyxtQkFBNEMsU0FFL0Q7O29CQUFJLGFBQWEsU0FBUyxLQUFLLENBQUMsWUFDNUI7MEJBQU0sb0JBQW9CLEtBQUssT0FBTyxVQUFDLE1BQUQ7K0JBQVUsS0FBSyxnQkFBZ0I7QUFDeEUscUJBRGdCO0FBRGpCLHVCQUdLLE1BQU0sT0FBTyxhQUNsQjt1QkFDSDtBQVRNLGVBVVY7Ozs7b0NBR0c7bUJBQU8sS0FBSyxNQUFNLEtBQ3JCOzs7OzZDQUVvQixVQUFVLFdBQzNCOzttQkFDTyxTQUFTLE9BQU8sVUFDbkI7bUJBQUcsU0FBUyxNQUFNLFVBQVUsTUFBTSxLQUNsQzt3QkFBUSxTQUNSO3VCQUFPLFNBRWQ7QUFMTzs7Ozt3Q0FXUSxRQUFRLE1BQ3BCO2dCQUFNOzBCQUNRLENBQUMsT0FBTyxVQUFVLFFBQzVCOzRCQUFZLENBQUMsS0FBSyxVQUFVLE1BQzVCOzJCQUFXLEtBQUssT0FBTyxHQUN2QjswQkFBVSxLQUFLLE1BQU0sR0FHekI7QUFOSTs7Z0JBTUEsT0FBTyxnQkFBZ0IsWUFBWSxLQUFLLGdCQUFnQixVQUN4RDtvQkFBTSxZQUFZLEtBQUssT0FBTyxLQUM5QjtvQkFBTSxnQkFBZ0IsVUFBVSxHQUVoQzs7aUJBQUMsTUFBTSxVQUFVLE1BQU0sWUFBWSxRQUFRLFVBQUMsTUFDeEM7d0JBQUksS0FBSyxPQUFPLGNBQWMsUUFBUSxLQUFLLFFBQVEsY0FBYyxPQUFPLEtBQUssTUFDekU7NkJBQUssUUFBUSxjQUFjLE9BQU8sS0FDckM7QUFDSjtBQUNKO0FBRUQ7O21CQUNIOzs7OzRDQUVtQixPQUNoQjt5QkFBYSxJQUFJLFVBQUMsTUFDZDtvQkFBTSxVQUFVLHNCQUFFLE1BQ2xCO29CQUFNLGFBQWEsUUFBUSxTQUFTLHlDQUF5QyxRQUFRLEtBRXJGOzsyQkFBVyxjQUFjLEtBQ3pCOzJCQUFXLFNBQVMsS0FDcEI7MkJBQVcsU0FBUyxLQUNwQjt1QkFDSDtBQUNKLGFBVFU7Ozs7Ozs7a0JBdEZNIiwiZmlsZSI6IjIyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF8gZnJvbSAndW5kZXJzY29yZSc7XG5pbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuaW1wb3J0IFJlbGF0aW9uc0RyYXcgZnJvbSAnLi9yZWxhdGlvbnMuZHJhdy5qcyc7XG5pbXBvcnQgdmlld01vZGVzIGZyb20gJy4vY29uc3Qudmlldy5tb2Rlcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlbGF0aW9uc0RyYXdUaW1lbGluZSBleHRlbmRzIFJlbGF0aW9uc0RyYXcge1xuICAgIGNvbnN0cnVjdG9yKGRhdGFGZXRjaGVyKSB7XG4gICAgICAgIHN1cGVyKGRhdGFGZXRjaGVyKTtcbiAgICAgICAgdGhpcy52aWV3TW9kZSA9IHZpZXdNb2Rlcy5USU1FTElORTtcbiAgICB9XG5cbiAgICBfYXBwZW5kU3ZnVG9HcmlkKCRzdmcpIHtcbiAgICAgICAgdGhpcy4kZ3JpZC5maW5kKCcudGF1LXRpbWVsaW5lLmktcm9sZS10aW1lbGluZS1jb2x1bW4nKS5hcHBlbmQoJHN2Zyk7XG4gICAgfVxuXG4gICAgX2dldENhcmRzR3JvdXBlZEJ5RW50aXR5SWQoKSB7XG4gICAgICAgIGNvbnN0IGdyb3VwZWRDYXJkcyA9IF8uZ3JvdXBCeShcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAuLi50aGlzLiRncmlkLmZpbmQoJy50YXUtYmFja2xvZy1ib2R5IC5pLXJvbGUtY2FyZCwgLnRhdS1iYWNrbG9nLWJvZHkgLnRhdS1zb3J0YWJsZV9fcGxhY2Vob2xkZXInKS50b0FycmF5KCkubWFwKChjYXJkKSA9PiBfLmV4dGVuZChjYXJkLCB7XG4gICAgICAgICAgICAgICAgICAgIHNlY3Rpb25UeXBlOiAnYmFja2xvZycsXG4gICAgICAgICAgICAgICAgICAgIGhvbGRlcjogY2FyZCxcbiAgICAgICAgICAgICAgICAgICAgY29vcmRzOiBKU09OLnBhcnNlKGNhcmQuZGF0YXNldC5kYXRhSXRlbSkuY29vcmRzXG4gICAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgICAgIC4uLnRoaXMuJGdyaWQuZmluZCgnLnRhdS1jYXJkLXBsYW5uZXI6bm90KC50YXUtc2VjdGlvbi1pbnZpc2libGUpIC5pLXJvbGUtY2FyZCwgLnRhdS1jYXJkLXBsYW5uZXI6bm90KC50YXUtc2VjdGlvbi1pbnZpc2libGUpIC50YXUtc29ydGFibGVfX3BsYWNlaG9sZGVyJylcbiAgICAgICAgICAgICAgICAgICAgLnRvQXJyYXkoKVxuICAgICAgICAgICAgICAgICAgICAubWFwKChjYXJkKSA9PiBfLmV4dGVuZChjYXJkLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWN0aW9uVHlwZTogJ3BsYW5uZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaG9sZGVyOiBjYXJkLnBhcmVudEVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb29yZHM6IEpTT04ucGFyc2UoY2FyZC5kYXRhc2V0LmRhdGFJdGVtKS5jb29yZHNcbiAgICAgICAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgICAgIC4uLnRoaXMuJGdyaWQuZmluZCgnLnRhdS10aW1lbGluZS1jYXJkID4gLnRhdS1jYXJkLWhvbGRlcjpub3QoLnRhdS1zZWN0aW9uLWludmlzaWJsZSkgLmktcm9sZS1jYXJkJylcbiAgICAgICAgICAgICAgICAgICAgLnRvQXJyYXkoKVxuICAgICAgICAgICAgICAgICAgICAubWFwKChjYXJkKSA9PiBfLmV4dGVuZChjYXJkLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWN0aW9uVHlwZTogJ2FjdHVhbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBob2xkZXI6IGNhcmQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb29yZHM6IEpTT04ucGFyc2UoY2FyZC5kYXRhc2V0LmRhdGFJdGVtKS5jb29yZHNcbiAgICAgICAgICAgICAgICAgICAgfSkpXSxcbiAgICAgICAgICAgICh2KSA9PiB2LmdldEF0dHJpYnV0ZSgnZGF0YS1lbnRpdHktaWQnKSk7XG5cbiAgICAgICAgcmV0dXJuIF8ua2V5cyhncm91cGVkQ2FyZHMpLnJlZHVjZSgoY2FyZHMsIGtleSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2VjdGlvblR5cGVzID0gXy5jaGFpbihncm91cGVkQ2FyZHNba2V5XSkucGx1Y2soJ3NlY3Rpb25UeXBlJykudW5pcSgpLnZhbHVlKCk7XG4gICAgICAgICAgICBjb25zdCBoYXNCYWNrbG9nID0gc2VjdGlvblR5cGVzLmZpbHRlcigoZikgPT4gZiA9PT0gJ2JhY2tsb2cnKS5sZW5ndGggPiAwO1xuXG4gICAgICAgICAgICBpZiAoc2VjdGlvblR5cGVzLmxlbmd0aCA+IDEgJiYgIWhhc0JhY2tsb2cpIHtcbiAgICAgICAgICAgICAgICBjYXJkc1trZXldID0gZ3JvdXBlZENhcmRzW2tleV0uZmlsdGVyKChjYXJkKSA9PiBjYXJkLnNlY3Rpb25UeXBlID09PSAnYWN0dWFsJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGNhcmRzW2tleV0gPSBncm91cGVkQ2FyZHNba2V5XTtcbiAgICAgICAgICAgIHJldHVybiBjYXJkcztcbiAgICAgICAgfSwge30pO1xuICAgIH1cblxuICAgIF9nZXRUYWJsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGdyaWQuZmluZCgnLnRhdS10aW1lbGluZS1mbG93Jyk7XG4gICAgfVxuXG4gICAgX2dldFBvc2l0aW9uRnJvbVJlY3QoY2FyZFJlY3QsIHRhYmxlUmVjdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogY2FyZFJlY3QubGVmdCAtIHRhYmxlUmVjdC5sZWZ0LFxuICAgICAgICAgICAgeTogY2FyZFJlY3QudG9wIC0gdGFibGVSZWN0LnRvcCAtIHRoaXMub2Zmc2V0LFxuICAgICAgICAgICAgaGVpZ2h0OiBjYXJkUmVjdC5oZWlnaHQsXG4gICAgICAgICAgICB3aWR0aDogY2FyZFJlY3Qud2lkdGhcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBfZ2V0RWxlbWVudFNlbGVjdEZ1bmN0aW9uID0gKGlkLCBlbCkgPT5cbiAgICAgICAgKCkgPT4gXy5maXJzdCgodGhpcy5jYXJkc0J5RW50aXR5SWRbaWRdIHx8IFtdKVxuICAgICAgICAgICAgLmZpbHRlcigoYykgPT4gYy5zZWN0aW9uVHlwZSA9PT0gZWwuc2VjdGlvblR5cGUgJiYgZWwuY29vcmRzICYmIF8uaXNFcXVhbChjLmNvb3JkcyB8fCAnJywgZWwuY29vcmRzIHx8ICcnKSkpO1xuXG4gICAgX2dldENsaWVudFJlY3RzKGZyb21FbCwgdG9FbCkge1xuICAgICAgICBjb25zdCByZWN0cyA9IHtcbiAgICAgICAgICAgIGNhcmRSZWN0OiAoZnJvbUVsLmhvbGRlciB8fCBmcm9tRWwpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICAgICAgdGFyZ2V0UmVjdDogKHRvRWwuaG9sZGVyIHx8IHRvRWwpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICAgICAgdGFibGVSZWN0OiB0aGlzLiR0YWJsZVswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgICAgIGdyaWRSZWN0OiB0aGlzLiRncmlkWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGZyb21FbC5zZWN0aW9uVHlwZSA9PT0gJ2FjdHVhbCcgfHwgdG9FbC5zZWN0aW9uVHlwZSA9PT0gJ2FjdHVhbCcpIHtcbiAgICAgICAgICAgIGNvbnN0IG5vd01hcmtlciA9IHRoaXMuJHRhYmxlLmZpbmQoJy50YXUtdGltZWxpbmUtbm93LW1hcmtlcicpO1xuICAgICAgICAgICAgY29uc3Qgbm93TWFya2VyUmVjdCA9IG5vd01hcmtlclswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICAgICAgW3JlY3RzLmNhcmRSZWN0LCByZWN0cy50YXJnZXRSZWN0XS5mb3JFYWNoKChyZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlY3QubGVmdCA8IG5vd01hcmtlclJlY3QubGVmdCAmJiByZWN0LndpZHRoID4gbm93TWFya2VyUmVjdC5sZWZ0IC0gcmVjdC5sZWZ0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlY3Qud2lkdGggPSBub3dNYXJrZXJSZWN0LmxlZnQgLSByZWN0LmxlZnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVjdHM7XG4gICAgfVxuXG4gICAgX3Byb2Nlc3NUYXJnZXRDYXJkcyhjYXJkcykge1xuICAgICAgICByZXR1cm4gY2FyZHMubWFwKChjYXJkKSA9PiB7XG4gICAgICAgICAgICBjb25zdCAkcGFyZW50ID0gJChjYXJkKS5wYXJlbnQoKTtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudENhcmQgPSAkcGFyZW50Lmhhc0NsYXNzKCdpLXJvbGUtdGltZWxpbmUtcGxhbm5lci1jYXJkLWhvbGRlcicpID8gJHBhcmVudFswXSA6IGNhcmQ7XG5cbiAgICAgICAgICAgIHBhcmVudENhcmQuc2VjdGlvblR5cGUgPSBjYXJkLnNlY3Rpb25UeXBlO1xuICAgICAgICAgICAgcGFyZW50Q2FyZC5ob2xkZXIgPSBjYXJkLmhvbGRlcjtcbiAgICAgICAgICAgIHBhcmVudENhcmQuY29vcmRzID0gY2FyZC5jb29yZHM7XG4gICAgICAgICAgICByZXR1cm4gcGFyZW50Q2FyZDtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3JlbGF0aW9ucy5kcmF3LnRpbWVsaW5lLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 23 */
/*!************************************!*\
  !*** ./src/relations.draw.list.js ***!
  \************************************/
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];for (var key in source) {\n            if (Object.prototype.hasOwnProperty.call(source, key)) {\n                target[key] = source[key];\n            }\n        }\n    }return target;\n};\n\nvar _createClass = function () {\n    function defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n        }\n    }return function (Constructor, protoProps, staticProps) {\n        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n    };\n}();\n\nvar _Underscore = __webpack_require__(/*! Underscore */ 10);\n\nvar _Underscore2 = _interopRequireDefault(_Underscore);\n\nvar _relationsDraw = __webpack_require__(/*! ./relations.draw.js */ 9);\n\nvar _relationsDraw2 = _interopRequireDefault(_relationsDraw);\n\nvar _relationDirections = __webpack_require__(/*! ./relationDirections */ 18);\n\nvar _relationDirections2 = _interopRequireDefault(_relationDirections);\n\nvar _intersection = __webpack_require__(/*! ./utils/intersection */ 12);\n\nvar _constView = __webpack_require__(/*! ./const.view.modes */ 11);\n\nvar _constView2 = _interopRequireDefault(_constView);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n    if (!self) {\n        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }return call && ((typeof call === \"undefined\" ? \"undefined\" : _typeof(call)) === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n        throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : _typeof(superClass)));\n    }subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar RelationsDrawList = function (_RelationsDraw) {\n    _inherits(RelationsDrawList, _RelationsDraw);\n\n    function RelationsDrawList(dataFetcher) {\n        _classCallCheck(this, RelationsDrawList);\n\n        var _this = _possibleConstructorReturn(this, (RelationsDrawList.__proto__ || Object.getPrototypeOf(RelationsDrawList)).call(this, dataFetcher));\n\n        _this.viewMode = _constView2.default.LIST;\n        return _this;\n    }\n\n    _createClass(RelationsDrawList, [{\n        key: '_appendSvgToGrid',\n        value: function _appendSvgToGrid($svg) {\n            this.$grid.find('.i-role-unit-editor-popup-position-within').append($svg);\n        }\n    }, {\n        key: '_getTable',\n        value: function _getTable() {\n            return this.$grid.find('.tau-list-level-0');\n        }\n    }, {\n        key: '_getIntersectionPoints',\n        value: function _getIntersectionPoints(cardPos, targetPos, gridRect, relation) {\n            if (Math.abs(targetPos.y - cardPos.y) > 20) {\n\n                var points = (0, _intersection.intersectRects)(cardPos, targetPos);\n\n                // if list, make income relations to the left, outcome to right of screen\n\n                var offset = ((relation.index || 0) + 1) * 50;\n\n                if (relation.directionType === _relationDirections2.default.inbound) {\n                    points.start.x = cardPos.x + offset;\n                    points.end.x = targetPos.x + offset;\n                } else {\n                    points.start.x = cardPos.x + gridRect.width - offset - 50;\n                    points.end.x = targetPos.x + gridRect.width - offset - 50;\n                }\n\n                if (points.start.y === points.end.y) {\n                    if (targetPos.y > cardPos.y) {\n                        points.start.y = points.start.y - 5;\n                        points.end.y = points.end.y + 5;\n                    } else {\n                        points.start.y = points.start.y + 5;\n                        points.end.y = points.end.y - 5;\n                    }\n                }\n\n                return points;\n            } else {\n                return null;\n            }\n        }\n    }, {\n        key: '_processRelations',\n        value: function _processRelations(relations) {\n            relations = _Underscore2.default.groupBy(relations, function (v) {\n                return v.directionType;\n            });\n            relations = _Underscore2.default.map(relations, function (list) {\n                return list.map(function (v, k) {\n                    return _extends({ index: k }, v);\n                });\n            });\n            relations = _Underscore2.default.reduce(relations, function (res, v) {\n                return res.concat(v);\n            }, []);\n            return relations;\n        }\n    }]);\n\n    return RelationsDrawList;\n}(_relationsDraw2.default);\n\nexports.default = RelationsDrawList;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcmVsYXRpb25zLmRyYXcubGlzdC5qcz85MTBiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFFcUI7aUNBQ2pCOzsrQkFBWSxhQUFhOzhCQUFBOzswSUFFckI7O2NBQUssV0FBVyxvQkFBVTtlQUM3Qjs7Ozs7eUNBRWdCLE1BQ2I7aUJBQUssTUFBTSxLQUFLLDZDQUE2QyxPQUNoRTs7OztvQ0FHRzttQkFBTyxLQUFLLE1BQU0sS0FDckI7Ozs7K0NBRXNCLFNBQVMsV0FBVyxVQUFVLFVBQ2pEO2dCQUFJLEtBQUssSUFBSSxVQUFVLElBQUksUUFBUSxLQUFLLElBRXBDOztvQkFBTSxTQUFTLGtDQUFlLFNBRTlCOztBQUVBOztvQkFBTSxTQUFTLENBQUMsQ0FBQyxTQUFTLFNBQVMsS0FBSyxLQUV4Qzs7b0JBQUksU0FBUyxrQkFBa0IsNkJBQWtCLFNBQzdDOzJCQUFPLE1BQU0sSUFBSSxRQUFRLElBQ3pCOzJCQUFPLElBQUksSUFBSSxVQUFVLElBRTVCO0FBSkQsdUJBS0k7MkJBQU8sTUFBTSxJQUFJLFFBQVEsSUFBSSxTQUFTLFFBQVEsU0FDOUM7MkJBQU8sSUFBSSxJQUFJLFVBQVUsSUFBSSxTQUFTLFFBQVEsU0FDakQ7QUFFRDs7b0JBQUksT0FBTyxNQUFNLE1BQU0sT0FBTyxJQUFJLEdBQzlCO3dCQUFJLFVBQVUsSUFBSSxRQUFRLEdBQ3RCOytCQUFPLE1BQU0sSUFBSSxPQUFPLE1BQU0sSUFDOUI7K0JBQU8sSUFBSSxJQUFJLE9BQU8sSUFBSSxJQUM3QjtBQUhELDJCQUlJOytCQUFPLE1BQU0sSUFBSSxPQUFPLE1BQU0sSUFDOUI7K0JBQU8sSUFBSSxJQUFJLE9BQU8sSUFBSSxJQUM3QjtBQUNKO0FBRUQ7O3VCQUNIO0FBNUJELG1CQTZCSTt1QkFDSDtBQUNKOzs7OzBDQUVpQixXQUNkOzZDQUFjLFFBQVEsV0FBVyxVQUFDLEdBQUQ7dUJBQU8sRUFBRTtBQUMxQyxhQURZOzZDQUNFLElBQUksV0FBVyxVQUFDLE1BQUQ7NEJBQWUsSUFBSSxVQUFDLEdBQUcsR0FBSjtzQ0FBWSxPQUFPLEtBQU07QUFBbEM7QUFDdkMsYUFEWTs2Q0FDRSxPQUFPLFdBQVcsVUFBQyxLQUFLLEdBQU47dUJBQVksSUFBSSxPQUFPO0FBQTNDLGVBQ1o7bUJBQ0g7Ozs7Ozs7a0JBckRnQiIsImZpbGUiOiIyMy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfIGZyb20gJ1VuZGVyc2NvcmUnO1xuaW1wb3J0IFJlbGF0aW9uc0RyYXcgZnJvbSAnLi9yZWxhdGlvbnMuZHJhdy5qcyc7XG5pbXBvcnQgcmVsYXRpb25EaXJlY3Rpb24gZnJvbSAnLi9yZWxhdGlvbkRpcmVjdGlvbnMnO1xuaW1wb3J0IHtpbnRlcnNlY3RSZWN0c30gZnJvbSAnLi91dGlscy9pbnRlcnNlY3Rpb24nO1xuaW1wb3J0IHZpZXdNb2RlcyBmcm9tICcuL2NvbnN0LnZpZXcubW9kZXMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWxhdGlvbnNEcmF3TGlzdCBleHRlbmRzIFJlbGF0aW9uc0RyYXcge1xuICAgIGNvbnN0cnVjdG9yKGRhdGFGZXRjaGVyKSB7XG4gICAgICAgIHN1cGVyKGRhdGFGZXRjaGVyKTtcbiAgICAgICAgdGhpcy52aWV3TW9kZSA9IHZpZXdNb2Rlcy5MSVNUO1xuICAgIH1cblxuICAgIF9hcHBlbmRTdmdUb0dyaWQoJHN2Zykge1xuICAgICAgICB0aGlzLiRncmlkLmZpbmQoJy5pLXJvbGUtdW5pdC1lZGl0b3ItcG9wdXAtcG9zaXRpb24td2l0aGluJykuYXBwZW5kKCRzdmcpO1xuICAgIH1cblxuICAgIF9nZXRUYWJsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGdyaWQuZmluZCgnLnRhdS1saXN0LWxldmVsLTAnKTtcbiAgICB9XG5cbiAgICBfZ2V0SW50ZXJzZWN0aW9uUG9pbnRzKGNhcmRQb3MsIHRhcmdldFBvcywgZ3JpZFJlY3QsIHJlbGF0aW9uKSB7XG4gICAgICAgIGlmIChNYXRoLmFicyh0YXJnZXRQb3MueSAtIGNhcmRQb3MueSkgPiAyMCkge1xuXG4gICAgICAgICAgICBjb25zdCBwb2ludHMgPSBpbnRlcnNlY3RSZWN0cyhjYXJkUG9zLCB0YXJnZXRQb3MpO1xuXG4gICAgICAgICAgICAvLyBpZiBsaXN0LCBtYWtlIGluY29tZSByZWxhdGlvbnMgdG8gdGhlIGxlZnQsIG91dGNvbWUgdG8gcmlnaHQgb2Ygc2NyZWVuXG5cbiAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9ICgocmVsYXRpb24uaW5kZXggfHwgMCkgKyAxKSAqIDUwO1xuXG4gICAgICAgICAgICBpZiAocmVsYXRpb24uZGlyZWN0aW9uVHlwZSA9PT0gcmVsYXRpb25EaXJlY3Rpb24uaW5ib3VuZCkge1xuICAgICAgICAgICAgICAgIHBvaW50cy5zdGFydC54ID0gY2FyZFBvcy54ICsgb2Zmc2V0O1xuICAgICAgICAgICAgICAgIHBvaW50cy5lbmQueCA9IHRhcmdldFBvcy54ICsgb2Zmc2V0O1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBvaW50cy5zdGFydC54ID0gY2FyZFBvcy54ICsgZ3JpZFJlY3Qud2lkdGggLSBvZmZzZXQgLSA1MDtcbiAgICAgICAgICAgICAgICBwb2ludHMuZW5kLnggPSB0YXJnZXRQb3MueCArIGdyaWRSZWN0LndpZHRoIC0gb2Zmc2V0IC0gNTA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwb2ludHMuc3RhcnQueSA9PT0gcG9pbnRzLmVuZC55KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldFBvcy55ID4gY2FyZFBvcy55KSB7XG4gICAgICAgICAgICAgICAgICAgIHBvaW50cy5zdGFydC55ID0gcG9pbnRzLnN0YXJ0LnkgLSA1O1xuICAgICAgICAgICAgICAgICAgICBwb2ludHMuZW5kLnkgPSBwb2ludHMuZW5kLnkgKyA1O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBvaW50cy5zdGFydC55ID0gcG9pbnRzLnN0YXJ0LnkgKyA1O1xuICAgICAgICAgICAgICAgICAgICBwb2ludHMuZW5kLnkgPSBwb2ludHMuZW5kLnkgLSA1O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHBvaW50cztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3Byb2Nlc3NSZWxhdGlvbnMocmVsYXRpb25zKSB7XG4gICAgICAgIHJlbGF0aW9ucyA9IF8uZ3JvdXBCeShyZWxhdGlvbnMsICh2KSA9PiB2LmRpcmVjdGlvblR5cGUpO1xuICAgICAgICByZWxhdGlvbnMgPSBfLm1hcChyZWxhdGlvbnMsIChsaXN0KSA9PiBsaXN0Lm1hcCgodiwgaykgPT4gKHtpbmRleDogaywgLi4udn0pKSk7XG4gICAgICAgIHJlbGF0aW9ucyA9IF8ucmVkdWNlKHJlbGF0aW9ucywgKHJlcywgdikgPT4gcmVzLmNvbmNhdCh2KSwgW10pO1xuICAgICAgICByZXR1cm4gcmVsYXRpb25zO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9yZWxhdGlvbnMuZHJhdy5saXN0LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 24 */
/*!*************************************!*\
  !*** ./src/relations.draw.model.js ***!
  \*************************************/
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () {\n    function defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n        }\n    }return function (Constructor, protoProps, staticProps) {\n        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n    };\n}();\n\nvar _underscore = __webpack_require__(/*! underscore */ 10);\n\nvar _underscore2 = _interopRequireDefault(_underscore);\n\nvar _jquery = __webpack_require__(/*! jquery */ 4);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _legend = __webpack_require__(/*! ./legend/legend.model */ 25);\n\nvar _legend2 = _interopRequireDefault(_legend);\n\nvar _data = __webpack_require__(/*! ./data */ 34);\n\nvar _data2 = _interopRequireDefault(_data);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n\nvar RelationsDrawModel = function () {\n    function RelationsDrawModel(RelationsDraw, boardSettings) {\n        var _this = this;\n\n        _classCallCheck(this, RelationsDrawModel);\n\n        this.update = _underscore2.default.throttle(function (offset) {\n            _this.relationsDraw.update(offset);\n        }, 30);\n        this.redraw = _underscore2.default.throttle(function (offset) {\n            _this.relationsDraw.redraw(offset);\n        }, 100);\n        this.updateRelationsForCard = _underscore2.default.throttle(function (id) {\n            return _this.relationsDraw.updateRelationsForCard(id);\n        }, 20, { leading: false });\n\n        this.dataFetcher = new _data2.default();\n        this.dataFetcher.updated.add(function () {\n            return _this.dataFetcher.refresh().then(function () {\n                return _this.redraw();\n            });\n        });\n        this.setConfig(RelationsDraw, boardSettings);\n    }\n\n    _createClass(RelationsDrawModel, [{\n        key: 'setConfig',\n        value: function setConfig(RelationsDraw, boardSettings) {\n            if (this.relationsDraw) {\n                this.relationsDraw.removeAll();\n                delete this.relationsDraw;\n            }\n            if (this.legendModel) {\n                this.legendModel.destroy();\n                delete this.legendModel;\n            }\n            this.dataFetcher.subscribeForRelationsUpdate();\n            this.relationsDraw = new RelationsDraw(this.dataFetcher);\n            this.legendModel = new _legend2.default(this.relationsDraw, this.dataFetcher, boardSettings);\n        }\n    }]);\n\n    return RelationsDrawModel;\n}();\n\nexports.default = RelationsDrawModel;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcmVsYXRpb25zLmRyYXcubW9kZWwuanM/ZGRhMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7Ozs7Ozs7Ozs7O0lBRXFCLGlDQUNqQjtnQ0FBWSxlQUFlLGVBQWU7b0JBQUE7OzhCQUFBOzthQU0xQyw4QkFBVyxTQUFTLFVBQUMsUUFDakI7a0JBQUssY0FBYyxPQUN0QjtBQUZRLFdBRU47YUFFSCw4QkFBVyxTQUFTLFVBQUMsUUFDakI7a0JBQUssY0FBYyxPQUN0QjtBQUZRLFdBRU47YUFFSCw4Q0FBMkIsU0FDdkIsVUFBQyxJQUFEO21CQUFRLE1BQUssY0FBYyx1QkFBdUI7QUFEN0IsV0FFckIsSUFDQSxFQUFDLFNBQVM7O2FBaEJMLGNBQWMsV0FDbkI7YUFBSyxZQUFZLFFBQVEsSUFBSTt5QkFBVyxZQUFZLFVBQVUsS0FBSzt1QkFBTSxNQUFLO0FBQTNDO0FBQ25DO2FBQUssVUFBVSxlQUNsQjs7Ozs7a0NBZ0JTLGVBQWUsZUFDckI7Z0JBQUksS0FBSyxlQUNMO3FCQUFLLGNBQ0w7dUJBQU8sS0FDVjtBQUNEO2dCQUFJLEtBQUssYUFDTDtxQkFBSyxZQUNMO3VCQUFPLEtBQ1Y7QUFDRDtpQkFBSyxZQUNMO2lCQUFLLGdCQUFnQixJQUFJLGNBQWMsS0FDdkM7aUJBQUssY0FBYyxxQkFBZ0IsS0FBSyxlQUFlLEtBQUssYUFDL0Q7Ozs7Ozs7a0JBakNnQiIsImZpbGUiOiIyNC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfIGZyb20gJ3VuZGVyc2NvcmUnO1xuaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCBMZWdlbmRNb2RlbCBmcm9tICcuL2xlZ2VuZC9sZWdlbmQubW9kZWwnO1xuaW1wb3J0IFJlbGF0aW9uc0RhdGEgZnJvbSAnLi9kYXRhJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVsYXRpb25zRHJhd01vZGVsIHtcbiAgICBjb25zdHJ1Y3RvcihSZWxhdGlvbnNEcmF3LCBib2FyZFNldHRpbmdzKSB7XG4gICAgICAgIHRoaXMuZGF0YUZldGNoZXIgPSBuZXcgUmVsYXRpb25zRGF0YSgpO1xuICAgICAgICB0aGlzLmRhdGFGZXRjaGVyLnVwZGF0ZWQuYWRkKCgpID0+IHRoaXMuZGF0YUZldGNoZXIucmVmcmVzaCgpLnRoZW4oKCkgPT4gdGhpcy5yZWRyYXcoKSkpO1xuICAgICAgICB0aGlzLnNldENvbmZpZyhSZWxhdGlvbnNEcmF3LCBib2FyZFNldHRpbmdzKTtcbiAgICB9XG5cbiAgICB1cGRhdGUgPSBfLnRocm90dGxlKChvZmZzZXQpID0+IHtcbiAgICAgICAgdGhpcy5yZWxhdGlvbnNEcmF3LnVwZGF0ZShvZmZzZXQpO1xuICAgIH0sIDMwKTtcblxuICAgIHJlZHJhdyA9IF8udGhyb3R0bGUoKG9mZnNldCkgPT4ge1xuICAgICAgICB0aGlzLnJlbGF0aW9uc0RyYXcucmVkcmF3KG9mZnNldCk7XG4gICAgfSwgMTAwKTtcblxuICAgIHVwZGF0ZVJlbGF0aW9uc0ZvckNhcmQgPSBfLnRocm90dGxlKFxuICAgICAgICAoaWQpID0+IHRoaXMucmVsYXRpb25zRHJhdy51cGRhdGVSZWxhdGlvbnNGb3JDYXJkKGlkKSxcbiAgICAgICAgMjAsXG4gICAgICAgIHtsZWFkaW5nOiBmYWxzZX1cbiAgICApO1xuXG4gICAgc2V0Q29uZmlnKFJlbGF0aW9uc0RyYXcsIGJvYXJkU2V0dGluZ3MpIHtcbiAgICAgICAgaWYgKHRoaXMucmVsYXRpb25zRHJhdykge1xuICAgICAgICAgICAgdGhpcy5yZWxhdGlvbnNEcmF3LnJlbW92ZUFsbCgpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMucmVsYXRpb25zRHJhdztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5sZWdlbmRNb2RlbCkge1xuICAgICAgICAgICAgdGhpcy5sZWdlbmRNb2RlbC5kZXN0cm95KCk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5sZWdlbmRNb2RlbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRhdGFGZXRjaGVyLnN1YnNjcmliZUZvclJlbGF0aW9uc1VwZGF0ZSgpO1xuICAgICAgICB0aGlzLnJlbGF0aW9uc0RyYXcgPSBuZXcgUmVsYXRpb25zRHJhdyh0aGlzLmRhdGFGZXRjaGVyKTtcbiAgICAgICAgdGhpcy5sZWdlbmRNb2RlbCA9IG5ldyBMZWdlbmRNb2RlbCh0aGlzLnJlbGF0aW9uc0RyYXcsIHRoaXMuZGF0YUZldGNoZXIsIGJvYXJkU2V0dGluZ3MpO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9yZWxhdGlvbnMuZHJhdy5tb2RlbC5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 25 */
/*!************************************!*\
  !*** ./src/legend/legend.model.js ***!
  \************************************/
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () {\n    function defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n        }\n    }return function (Constructor, protoProps, staticProps) {\n        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n    };\n}();\n\nvar _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];for (var key in source) {\n            if (Object.prototype.hasOwnProperty.call(source, key)) {\n                target[key] = source[key];\n            }\n        }\n    }return target;\n};\n\nvar _underscore = __webpack_require__(/*! underscore */ 10);\n\nvar _underscore2 = _interopRequireDefault(_underscore);\n\nvar _constView = __webpack_require__(/*! ../const.view.modes */ 11);\n\nvar _constView2 = _interopRequireDefault(_constView);\n\nvar _react = __webpack_require__(/*! react */ 26);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _relationTypes = __webpack_require__(/*! ../relationTypes */ 15);\n\nvar _relationTypes2 = _interopRequireDefault(_relationTypes);\n\nvar _api = __webpack_require__(/*! tau/storage/api.nocache */ 27);\n\nvar _api2 = _interopRequireDefault(_api);\n\nvar _v = __webpack_require__(/*! tau/api/actions/v1 */ 28);\n\nvar _v2 = _interopRequireDefault(_v);\n\nvar _relations = __webpack_require__(/*! ../relations.taus */ 21);\n\nvar _relations2 = _interopRequireDefault(_relations);\n\nvar _componentLegendWrapper = __webpack_require__(/*! ./component.legend.wrapper.jsx */ 29);\n\nvar _componentLegendWrapper2 = _interopRequireDefault(_componentLegendWrapper);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n\nvar REST_STORAGE_GROUP_NAME = 'showRelations';\nvar FIELD_NAME = 'userData';\n\nvar defaultConfig = _relationTypes2.default.map(function (r) {\n    return _extends({}, r, { show: true });\n});\nvar onUpdateLegend = _underscore2.default.Callbacks();\n\n_v2.default.addControl(_react2.default.createElement(_componentLegendWrapper2.default, { onUpdateLegend: onUpdateLegend }));\n\nvar LegendModel = function () {\n    function LegendModel(relationsDrawer, dataFetcher, boardSettings) {\n        var _this = this;\n\n        _classCallCheck(this, LegendModel);\n\n        this.changeRelationTypes = function (_ref) {\n            var _ref$name = _ref.name,\n                name = _ref$name === undefined ? '' : _ref$name,\n                _ref$show = _ref.show,\n                show = _ref$show === undefined ? false : _ref$show;\n\n            (0, _relations2.default)({\n                name: (show ? 'add' : 'remove') + '-' + name.toLowerCase()\n            });\n            _this.relations.filter(function (_ref2) {\n                var relationName = _ref2.name;\n                return relationName === name;\n            })[0].show = show;\n            _this.dataFetcher.setFilterConfig(_this.relations);\n            _this.saveToStorage();\n            _this.refresh();\n        };\n\n        this.changeShowState = function (isExpanded) {\n            (0, _relations2.default)({\n                name: isExpanded ? 'show' : 'hide'\n            });\n            _this.expanded = isExpanded;\n            _this.saveToStorage();\n            _this.refresh();\n        };\n\n        this.boardSettings = boardSettings;\n        this.restStorage = new _api2.default();\n        this.relationsDrawer = relationsDrawer;\n        this.dataFetcher = dataFetcher;\n        this.saveToStorage = _underscore2.default.throttle(this._saveToStorage, 1000, { leading: false });\n\n        this.initializeSubscriptions();\n        this.setInitialData(boardSettings);\n        this.loadSettings().then(function () {\n            return _this.refresh();\n        });\n    }\n\n    _createClass(LegendModel, [{\n        key: 'initializeSubscriptions',\n        value: function initializeSubscriptions() {\n            var _this2 = this;\n\n            _v2.default.onShow(function () {\n                return _this2.refresh();\n            });\n        }\n    }, {\n        key: 'setInitialData',\n        value: function setInitialData(boardSettings) {\n            this._userKey = 'user' + (window.loggedUser || { id: null }).id + '|' + boardSettings.settings.id;\n            this.expanded = false;\n            this.relations = _underscore2.default.deepClone(defaultConfig);\n            this.dataFetcher.setFilterConfig(this.relations);\n        }\n    }, {\n        key: 'data',\n        value: function data() {\n            return {\n                isVisible: this.boardSettings.settings.viewMode !== _constView2.default.DETAILS,\n                onUpdateLegend: onUpdateLegend,\n                isExpanded: this.expanded,\n                relations: this.relations,\n                onExpansionStateChange: this.changeShowState,\n                onRelationTypeSelect: this.changeRelationTypes\n            };\n        }\n    }, {\n        key: '_saveToStorage',\n        value: function _saveToStorage() {\n            this.restStorage.data(REST_STORAGE_GROUP_NAME, this._userKey, {\n                relations: JSON.stringify({\n                    expanded: this.expanded,\n                    relations: this.relations.map(function (r) {\n                        return { name: r.name, show: r.show };\n                    })\n                })\n            });\n        }\n    }, {\n        key: 'loadSettings',\n        value: function loadSettings() {\n            var _this3 = this;\n\n            return this.restStorage.select(REST_STORAGE_GROUP_NAME, {\n                $where: { key: this._userKey },\n                $fields: [FIELD_NAME]\n            }).then(function (response) {\n                var data = response.data && response.data[0] && response.data[0].userData;\n\n                if (data) {\n                    var relationsConfig = JSON.parse(data.relations);\n\n                    if (!_underscore2.default.isUndefined(relationsConfig.expanded)) {\n                        _this3.expanded = relationsConfig.expanded;\n                    }\n\n                    if (relationsConfig.relations) {\n                        _this3.relations = _this3.relations.map(function (r) {\n                            var matchedRelationConfig = relationsConfig.relations.filter(function (c) {\n                                return c.name === r.name;\n                            })[0];\n\n                            if (matchedRelationConfig) {\n                                r.show = matchedRelationConfig.show;\n                            }\n                            return r;\n                        });\n                    }\n                    _this3.dataFetcher.setFilterConfig(_this3.relations);\n                }\n            });\n        }\n    }, {\n        key: 'refresh',\n        value: function refresh() {\n            if (this.expanded === false) {\n                this.relationsDrawer.removeAll();\n            } else {\n                this.relationsDrawer.redraw();\n            }\n            onUpdateLegend.fire(this.data());\n        }\n    }, {\n        key: 'destroy',\n        value: function destroy() {\n            _v2.default.unbind();\n            delete this.relationsDrawer;\n        }\n    }]);\n\n    return LegendModel;\n}();\n\nexports.default = LegendModel;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGVnZW5kL2xlZ2VuZC5tb2RlbC5qcz8xYTY0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7Ozs7Ozs7QUFFQSxJQUFNLDBCQUEwQjtBQUNoQyxJQUFNLGFBQWE7O0FBRW5CLElBQU0sd0NBQThCLElBQUksVUFBQyxHQUFEO3dCQUFZLEtBQUcsTUFBTTtBQUF2QztBQUN0QixJQUFNLGlCQUFpQixxQkFBRTs7QUFFekIsWUFBbUIsV0FBVyxrRUFBd0IsZ0JBQWdCOztJQUVqRCwwQkFDakI7eUJBQVksaUJBQWlCLGFBQWEsZUFBZTtvQkFBQTs7OEJBQUE7O2FBa0N6RCxzQkFBc0IsZ0JBQStCO2lDQUFBO2dCQUFBO2lDQUFBO2dCQUFBLHlDQUNqRDs7O3VCQUNhLE9BQU8sUUFBUSxrQkFBWSxLQUV4QztBQUZJO2tCQUVDLFVBQVUsT0FBTztvQkFBUSxxQkFBTjt1QkFBd0IsaUJBQWlCO0FBQWpFLGVBQXVFLEdBQUcsT0FDMUU7a0JBQUssWUFBWSxnQkFBZ0IsTUFDakM7a0JBQ0E7a0JBQ0g7QUExQ3dEOzthQTRDekQsa0JBQWtCLFVBQUMsWUFDZjs7c0JBQ1UsYUFBYSxTQUV2QjtBQUZJO2tCQUVDLFdBQ0w7a0JBQ0E7a0JBQ0g7QUFsREc7O2FBQUssZ0JBQ0w7YUFBSyxjQUFjLFVBQ25CO2FBQUssa0JBQ0w7YUFBSyxjQUNMO2FBQUssZ0JBQWdCLHFCQUFFLFNBQVMsS0FBSyxnQkFBZ0IsTUFBTSxFQUFDLFNBRTVEOzthQUNBO2FBQUssZUFDTDthQUFLLGVBQWUsS0FBSzttQkFBTSxNQUFLO0FBQ3ZDOzs7OztrREFFeUI7eUJBQ3RCOzt3QkFBbUIsT0FBTzt1QkFBTSxPQUFLO0FBQ3hDOzs7O3VDQUVjLGVBQ1g7aUJBQUssb0JBQWtCLENBQUMsT0FBTyxjQUFjLEVBQUMsSUFBSSxRQUFPLFdBQU0sY0FBYyxTQUM3RTtpQkFBSyxXQUNMO2lCQUFLLFlBQVkscUJBQUUsVUFDbkI7aUJBQUssWUFBWSxnQkFBZ0IsS0FDcEM7Ozs7K0JBR0c7OzJCQUNlLEtBQUssY0FBYyxTQUFTLGFBQWEsb0JBQ3BEO2dDQUNBOzRCQUFZLEtBQ1o7MkJBQVcsS0FDWDt3Q0FBd0IsS0FDeEI7c0NBQXNCLEtBRTdCO0FBUE87Ozs7eUNBNkJKO2lCQUFLLFlBQVksS0FBSyx5QkFBeUIsS0FBSztnQ0FDaEM7OEJBQ0YsS0FDVjtvQ0FBZ0IsVUFBVSxJQUFJLFVBQUMsR0FDM0I7K0JBQU8sRUFBQyxNQUFNLEVBQUUsTUFBTSxNQUFNLEVBQy9CO0FBR1oscUJBTHNCO0FBRFgsaUJBRE87QUFBWDs7Ozt1Q0FTTzt5QkFDWDs7d0JBQVksWUFDUCxPQUFPO3dCQUNJLEVBQUMsS0FBSyxLQUNkO3lCQUFTLENBQUM7QUFEVixhQUZELEVBSUEsS0FBSyxVQUFDLFVBQ0w7b0JBQU0sT0FBTyxTQUFTLFFBQVEsU0FBUyxLQUFLLE1BQU0sU0FBUyxLQUFLLEdBRWhFOztvQkFBSSxNQUNBO3dCQUFNLGtCQUFrQixLQUFLLE1BQU0sS0FFbkM7O3dCQUFJLENBQUMscUJBQUUsWUFBWSxnQkFBZ0IsV0FDL0I7K0JBQUssV0FBVyxnQkFDbkI7QUFFRDs7d0JBQUksZ0JBQWdCLFdBQ2hCOytCQUFLLG1CQUFpQixVQUFVLElBQUksVUFBQyxHQUNqQztnQ0FBTSx3Q0FBd0MsVUFBVSxPQUFPO3VDQUFLLEVBQUUsU0FBUyxFQUFFO0FBQW5ELCtCQUU5Qjs7Z0NBQUksdUJBQ0E7a0NBQUUsT0FBTyxzQkFDWjtBQUNEO21DQUNIO0FBQ0oseUJBUm9CO0FBU3JCOzJCQUFLLFlBQVksZ0JBQWdCLE9BQ3BDO0FBQ0o7QUFDUjs7OztrQ0FHRztnQkFBSSxLQUFLLGFBQWEsT0FDbEI7cUJBQUssZ0JBQ1I7QUFGRCxtQkFHSTtxQkFBSyxnQkFDUjtBQUNEOzJCQUFlLEtBQUssS0FDdkI7Ozs7a0NBR0c7d0JBQ0E7bUJBQU8sS0FDVjs7Ozs7OztrQkEzR2dCIiwiZmlsZSI6IjI1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF8gZnJvbSAndW5kZXJzY29yZSc7XG5pbXBvcnQgdmlld01vZGVzIGZyb20gJy4uL2NvbnN0LnZpZXcubW9kZXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCByZWxhdGlvblR5cGVzIGZyb20gJy4uL3JlbGF0aW9uVHlwZXMnO1xuaW1wb3J0IFJlc3RTdG9yYWdlIGZyb20gJ3RhdS9zdG9yYWdlL2FwaS5ub2NhY2hlJztcbmltcG9ydCBhY3Rpb25zSW50ZWdyYXRpb24gZnJvbSAndGF1L2FwaS9hY3Rpb25zL3YxJztcbmltcG9ydCB0YXVzVHJhY2sgZnJvbSAnLi4vcmVsYXRpb25zLnRhdXMnO1xuaW1wb3J0IENvbXBvbmVudExlZ2VuZFdyYXBwZXIgZnJvbSAnLi9jb21wb25lbnQubGVnZW5kLndyYXBwZXIuanN4JztcblxuY29uc3QgUkVTVF9TVE9SQUdFX0dST1VQX05BTUUgPSAnc2hvd1JlbGF0aW9ucyc7XG5jb25zdCBGSUVMRF9OQU1FID0gJ3VzZXJEYXRhJztcblxuY29uc3QgZGVmYXVsdENvbmZpZyA9IHJlbGF0aW9uVHlwZXMubWFwKChyKSA9PiAoey4uLnIsIHNob3c6IHRydWV9KSk7XG5jb25zdCBvblVwZGF0ZUxlZ2VuZCA9IF8uQ2FsbGJhY2tzKCk7XG5cbmFjdGlvbnNJbnRlZ3JhdGlvbi5hZGRDb250cm9sKDxDb21wb25lbnRMZWdlbmRXcmFwcGVyIG9uVXBkYXRlTGVnZW5kPXtvblVwZGF0ZUxlZ2VuZH0vPik7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExlZ2VuZE1vZGVsIHtcbiAgICBjb25zdHJ1Y3RvcihyZWxhdGlvbnNEcmF3ZXIsIGRhdGFGZXRjaGVyLCBib2FyZFNldHRpbmdzKSB7XG4gICAgICAgIHRoaXMuYm9hcmRTZXR0aW5ncyA9IGJvYXJkU2V0dGluZ3M7XG4gICAgICAgIHRoaXMucmVzdFN0b3JhZ2UgPSBuZXcgUmVzdFN0b3JhZ2UoKTtcbiAgICAgICAgdGhpcy5yZWxhdGlvbnNEcmF3ZXIgPSByZWxhdGlvbnNEcmF3ZXI7XG4gICAgICAgIHRoaXMuZGF0YUZldGNoZXIgPSBkYXRhRmV0Y2hlcjtcbiAgICAgICAgdGhpcy5zYXZlVG9TdG9yYWdlID0gXy50aHJvdHRsZSh0aGlzLl9zYXZlVG9TdG9yYWdlLCAxMDAwLCB7bGVhZGluZzogZmFsc2V9KTtcblxuICAgICAgICB0aGlzLmluaXRpYWxpemVTdWJzY3JpcHRpb25zKCk7XG4gICAgICAgIHRoaXMuc2V0SW5pdGlhbERhdGEoYm9hcmRTZXR0aW5ncyk7XG4gICAgICAgIHRoaXMubG9hZFNldHRpbmdzKCkudGhlbigoKSA9PiB0aGlzLnJlZnJlc2goKSk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZVN1YnNjcmlwdGlvbnMoKSB7XG4gICAgICAgIGFjdGlvbnNJbnRlZ3JhdGlvbi5vblNob3coKCkgPT4gdGhpcy5yZWZyZXNoKCkpO1xuICAgIH1cblxuICAgIHNldEluaXRpYWxEYXRhKGJvYXJkU2V0dGluZ3MpIHtcbiAgICAgICAgdGhpcy5fdXNlcktleSA9IGB1c2VyJHsod2luZG93LmxvZ2dlZFVzZXIgfHwge2lkOiBudWxsfSkuaWR9fCR7Ym9hcmRTZXR0aW5ncy5zZXR0aW5ncy5pZH1gO1xuICAgICAgICB0aGlzLmV4cGFuZGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMucmVsYXRpb25zID0gXy5kZWVwQ2xvbmUoZGVmYXVsdENvbmZpZyk7XG4gICAgICAgIHRoaXMuZGF0YUZldGNoZXIuc2V0RmlsdGVyQ29uZmlnKHRoaXMucmVsYXRpb25zKTtcbiAgICB9XG5cbiAgICBkYXRhKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaXNWaXNpYmxlOiB0aGlzLmJvYXJkU2V0dGluZ3Muc2V0dGluZ3Mudmlld01vZGUgIT09IHZpZXdNb2Rlcy5ERVRBSUxTLFxuICAgICAgICAgICAgb25VcGRhdGVMZWdlbmQ6IG9uVXBkYXRlTGVnZW5kLFxuICAgICAgICAgICAgaXNFeHBhbmRlZDogdGhpcy5leHBhbmRlZCxcbiAgICAgICAgICAgIHJlbGF0aW9uczogdGhpcy5yZWxhdGlvbnMsXG4gICAgICAgICAgICBvbkV4cGFuc2lvblN0YXRlQ2hhbmdlOiB0aGlzLmNoYW5nZVNob3dTdGF0ZSxcbiAgICAgICAgICAgIG9uUmVsYXRpb25UeXBlU2VsZWN0OiB0aGlzLmNoYW5nZVJlbGF0aW9uVHlwZXNcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBjaGFuZ2VSZWxhdGlvblR5cGVzID0gKHtuYW1lID0gJycsIHNob3cgPSBmYWxzZX0pID0+IHtcbiAgICAgICAgdGF1c1RyYWNrKHtcbiAgICAgICAgICAgIG5hbWU6IGAke3Nob3cgPyAnYWRkJyA6ICdyZW1vdmUnfS0ke25hbWUudG9Mb3dlckNhc2UoKX1gXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJlbGF0aW9ucy5maWx0ZXIoKHtuYW1lOiByZWxhdGlvbk5hbWV9KSA9PiByZWxhdGlvbk5hbWUgPT09IG5hbWUpWzBdLnNob3cgPSBzaG93O1xuICAgICAgICB0aGlzLmRhdGFGZXRjaGVyLnNldEZpbHRlckNvbmZpZyh0aGlzLnJlbGF0aW9ucyk7XG4gICAgICAgIHRoaXMuc2F2ZVRvU3RvcmFnZSgpO1xuICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICB9O1xuXG4gICAgY2hhbmdlU2hvd1N0YXRlID0gKGlzRXhwYW5kZWQpID0+IHtcbiAgICAgICAgdGF1c1RyYWNrKHtcbiAgICAgICAgICAgIG5hbWU6IGlzRXhwYW5kZWQgPyAnc2hvdycgOiAnaGlkZSdcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZXhwYW5kZWQgPSBpc0V4cGFuZGVkO1xuICAgICAgICB0aGlzLnNhdmVUb1N0b3JhZ2UoKTtcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgfTtcblxuICAgIF9zYXZlVG9TdG9yYWdlKCkge1xuICAgICAgICB0aGlzLnJlc3RTdG9yYWdlLmRhdGEoUkVTVF9TVE9SQUdFX0dST1VQX05BTUUsIHRoaXMuX3VzZXJLZXksIHtcbiAgICAgICAgICAgIHJlbGF0aW9uczogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIGV4cGFuZGVkOiB0aGlzLmV4cGFuZGVkLFxuICAgICAgICAgICAgICAgIHJlbGF0aW9uczogdGhpcy5yZWxhdGlvbnMubWFwKChyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7bmFtZTogci5uYW1lLCBzaG93OiByLnNob3d9O1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBsb2FkU2V0dGluZ3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc3RTdG9yYWdlXG4gICAgICAgICAgICAuc2VsZWN0KFJFU1RfU1RPUkFHRV9HUk9VUF9OQU1FLCB7XG4gICAgICAgICAgICAgICAgJHdoZXJlOiB7a2V5OiB0aGlzLl91c2VyS2V5fSxcbiAgICAgICAgICAgICAgICAkZmllbGRzOiBbRklFTERfTkFNRV1cbiAgICAgICAgICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHJlc3BvbnNlLmRhdGEgJiYgcmVzcG9uc2UuZGF0YVswXSAmJiByZXNwb25zZS5kYXRhWzBdLnVzZXJEYXRhO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVsYXRpb25zQ29uZmlnID0gSlNPTi5wYXJzZShkYXRhLnJlbGF0aW9ucyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfLmlzVW5kZWZpbmVkKHJlbGF0aW9uc0NvbmZpZy5leHBhbmRlZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXhwYW5kZWQgPSByZWxhdGlvbnNDb25maWcuZXhwYW5kZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAocmVsYXRpb25zQ29uZmlnLnJlbGF0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWxhdGlvbnMgPSB0aGlzLnJlbGF0aW9ucy5tYXAoKHIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRjaGVkUmVsYXRpb25Db25maWcgPSByZWxhdGlvbnNDb25maWcucmVsYXRpb25zLmZpbHRlcihjID0+IGMubmFtZSA9PT0gci5uYW1lKVswXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGVkUmVsYXRpb25Db25maWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgci5zaG93ID0gbWF0Y2hlZFJlbGF0aW9uQ29uZmlnLnNob3c7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhRmV0Y2hlci5zZXRGaWx0ZXJDb25maWcodGhpcy5yZWxhdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlZnJlc2goKSB7XG4gICAgICAgIGlmICh0aGlzLmV4cGFuZGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy5yZWxhdGlvbnNEcmF3ZXIucmVtb3ZlQWxsKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlbGF0aW9uc0RyYXdlci5yZWRyYXcoKTtcbiAgICAgICAgfVxuICAgICAgICBvblVwZGF0ZUxlZ2VuZC5maXJlKHRoaXMuZGF0YSgpKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBhY3Rpb25zSW50ZWdyYXRpb24udW5iaW5kKCk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnJlbGF0aW9uc0RyYXdlcjtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvbGVnZW5kL2xlZ2VuZC5tb2RlbC5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 26 */
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ (function(module, exports) {

	eval("module.exports = __WEBPACK_EXTERNAL_MODULE_26__;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZWFjdFwiPzNjNjIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMjYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMjZfXztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcInJlYWN0XCJcbi8vIG1vZHVsZSBpZCA9IDI2XG4vLyBtb2R1bGUgY2h1bmtzID0gMiJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 27 */
/*!******************************************!*\
  !*** external "tau/storage/api.nocache" ***!
  \******************************************/
/***/ (function(module, exports) {

	eval("module.exports = __WEBPACK_EXTERNAL_MODULE_27__;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ0YXUvc3RvcmFnZS9hcGkubm9jYWNoZVwiPzM0MTMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMjcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMjdfXztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcInRhdS9zdG9yYWdlL2FwaS5ub2NhY2hlXCJcbi8vIG1vZHVsZSBpZCA9IDI3XG4vLyBtb2R1bGUgY2h1bmtzID0gMiJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 28 */
/*!*************************************!*\
  !*** external "tau/api/actions/v1" ***!
  \*************************************/
/***/ (function(module, exports) {

	eval("module.exports = __WEBPACK_EXTERNAL_MODULE_28__;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ0YXUvYXBpL2FjdGlvbnMvdjFcIj8zNTQ3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjI4LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzI4X187XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJ0YXUvYXBpL2FjdGlvbnMvdjFcIlxuLy8gbW9kdWxlIGlkID0gMjhcbi8vIG1vZHVsZSBjaHVua3MgPSAyIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 29 */
/*!*************************************************!*\
  !*** ./src/legend/component.legend.wrapper.jsx ***!
  \*************************************************/
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(/*! react */ 26);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _componentLegend = __webpack_require__(/*! ./component.legend.jsx */ 30);\n\nvar _componentLegend2 = _interopRequireDefault(_componentLegend);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ComponentLegendWrapper = function (_React$Component) {\n    _inherits(ComponentLegendWrapper, _React$Component);\n\n    function ComponentLegendWrapper(props) {\n        _classCallCheck(this, ComponentLegendWrapper);\n\n        var _this = _possibleConstructorReturn(this, (ComponentLegendWrapper.__proto__ || Object.getPrototypeOf(ComponentLegendWrapper)).call(this, props));\n\n        _this.state = props;\n        _this.props.onUpdateLegend.add(function (newProps) {\n            _this.setState(newProps);\n        }, _this);\n        return _this;\n    }\n\n    _createClass(ComponentLegendWrapper, [{\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            this.props.onUpdateLegend.remove(this);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            return _react2.default.createElement(_componentLegend2.default, this.state);\n        }\n    }]);\n\n    return ComponentLegendWrapper;\n}(_react2.default.Component);\n\nexports.default = ComponentLegendWrapper;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGVnZW5kL2NvbXBvbmVudC5sZWdlbmQud3JhcHBlci5qc3g/ZmYzOCJdLCJuYW1lcyI6WyJDb21wb25lbnRMZWdlbmRXcmFwcGVyIiwicHJvcHMiLCJzdGF0ZSIsIm9uVXBkYXRlTGVnZW5kIiwiYWRkIiwibmV3UHJvcHMiLCJzZXRTdGF0ZSIsInJlbW92ZSIsIkNvbXBvbmVudCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7Ozs7Ozs7Ozs7SUFFcUJBLHNCOzs7QUFDakIsb0NBQVlDLEtBQVosRUFBbUI7QUFBQTs7QUFBQSxvSkFDVEEsS0FEUzs7QUFFZixjQUFLQyxLQUFMLEdBQWFELEtBQWI7QUFDQSxjQUFLQSxLQUFMLENBQVdFLGNBQVgsQ0FBMEJDLEdBQTFCLENBQThCLFVBQUNDLFFBQUQsRUFBYztBQUN4QyxrQkFBS0MsUUFBTCxDQUFjRCxRQUFkO0FBQ0gsU0FGRDtBQUhlO0FBTWxCOzs7OytDQUVzQjtBQUNuQixpQkFBS0osS0FBTCxDQUFXRSxjQUFYLENBQTBCSSxNQUExQixDQUFpQyxJQUFqQztBQUNIOzs7aUNBRVE7QUFDTCxtQkFBTyx5REFBcUIsS0FBS0wsS0FBMUIsQ0FBUDtBQUNIOzs7O0VBZitDLGdCQUFNTSxTOztrQkFBckNSLHNCIiwiZmlsZSI6IjI5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBDb21wb25lbnRMZWdlbmQgZnJvbSAnLi9jb21wb25lbnQubGVnZW5kLmpzeCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbXBvbmVudExlZ2VuZFdyYXBwZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHByb3BzO1xuICAgICAgICB0aGlzLnByb3BzLm9uVXBkYXRlTGVnZW5kLmFkZCgobmV3UHJvcHMpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUobmV3UHJvcHMpO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICB9XG5cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5vblVwZGF0ZUxlZ2VuZC5yZW1vdmUodGhpcyk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gPENvbXBvbmVudExlZ2VuZCB7Li4udGhpcy5zdGF0ZX0gLz47XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2xlZ2VuZC9jb21wb25lbnQubGVnZW5kLndyYXBwZXIuanN4Il0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 30 */
/*!*****************************************!*\
  !*** ./src/legend/component.legend.jsx ***!
  \*****************************************/
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(/*! react */ 26);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _classNames = __webpack_require__(/*! libs/classNames */ 31);\n\nvar _classNames2 = _interopRequireDefault(_classNames);\n\nvar _componentLegend = __webpack_require__(/*! ./component.legend.labels */ 32);\n\nvar _componentLegend2 = _interopRequireDefault(_componentLegend);\n\nvar _componentLegendRelations = __webpack_require__(/*! ./component.legend.relations.jsx */ 33);\n\nvar _componentLegendRelations2 = _interopRequireDefault(_componentLegendRelations);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ComponentLegend = function (_React$Component) {\n    _inherits(ComponentLegend, _React$Component);\n\n    function ComponentLegend() {\n        var _ref;\n\n        var _temp, _this, _ret;\n\n        _classCallCheck(this, ComponentLegend);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ComponentLegend.__proto__ || Object.getPrototypeOf(ComponentLegend)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {\n            _this.props.onExpansionStateChange(!_this.props.isExpanded);\n        }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    _createClass(ComponentLegend, [{\n        key: 'render',\n        value: function render() {\n            var isExpanded = this.props.isExpanded;\n\n            var buttonCssClass = (0, _classNames2.default)({\n                'tau-btn': true,\n                'i-role-show-relations': true,\n                'i-role-board-tooltip': true,\n                'tau-checked': isExpanded\n            });\n\n            var buttonTitle = isExpanded ? _componentLegend2.default.BUTTON_TITLE_EXPANDED : _componentLegend2.default.BUTTON_TITLE_COLLAPSED;\n            var buttonText = isExpanded ? _componentLegend2.default.BUTTON_TEXT_EXPANDED : _componentLegend2.default.BUTTON_TEXT_COLLAPSED;\n\n            if (!this.props.isVisible) {\n                return null;\n            }\n\n            return _react2.default.createElement(\n                'div',\n                {\n                    className: 'board-actions__group board-actions__group--controls board-actions__group--visual-encoding i-role-board-actions-group' },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'board-actions__item board-actions__item--two-column action-show-relations' },\n                    _react2.default.createElement(\n                        'span',\n                        { className: 'board-actions__item__text' },\n                        'Relations'\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'board-actions__item__control' },\n                        _react2.default.createElement(\n                            'button',\n                            { onClick: this.onClick, type: 'button',\n                                className: buttonCssClass,\n                                title: buttonTitle },\n                            _react2.default.createElement(\n                                'span',\n                                { className: 'tau-btn__text' },\n                                buttonText\n                            )\n                        )\n                    )\n                ),\n                this.props.isExpanded && _react2.default.createElement(_componentLegendRelations2.default, { relations: this.props.relations, onSelect: this.props.onRelationTypeSelect })\n            );\n        }\n    }]);\n\n    return ComponentLegend;\n}(_react2.default.Component);\n\nexports.default = ComponentLegend;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGVnZW5kL2NvbXBvbmVudC5sZWdlbmQuanN4P2M1NWEiXSwibmFtZXMiOlsiQ29tcG9uZW50TGVnZW5kIiwib25DbGljayIsInByb3BzIiwib25FeHBhbnNpb25TdGF0ZUNoYW5nZSIsImlzRXhwYW5kZWQiLCJidXR0b25Dc3NDbGFzcyIsImJ1dHRvblRpdGxlIiwiQlVUVE9OX1RJVExFX0VYUEFOREVEIiwiQlVUVE9OX1RJVExFX0NPTExBUFNFRCIsImJ1dHRvblRleHQiLCJCVVRUT05fVEVYVF9FWFBBTkRFRCIsIkJVVFRPTl9URVhUX0NPTExBUFNFRCIsImlzVmlzaWJsZSIsInJlbGF0aW9ucyIsIm9uUmVsYXRpb25UeXBlU2VsZWN0IiwiQ29tcG9uZW50Il0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7Ozs7Ozs7SUFFcUJBLGU7Ozs7Ozs7Ozs7Ozs7OzRNQUNqQkMsTyxHQUFVLFlBQU07QUFDWixrQkFBS0MsS0FBTCxDQUFXQyxzQkFBWCxDQUFrQyxDQUFDLE1BQUtELEtBQUwsQ0FBV0UsVUFBOUM7QUFDSCxTOzs7OztpQ0FFUTtBQUFBLGdCQUNFQSxVQURGLEdBQ2dCLEtBQUtGLEtBRHJCLENBQ0VFLFVBREY7O0FBRUwsZ0JBQU1DLGlCQUFpQiwwQkFBVztBQUM5QiwyQkFBVyxJQURtQjtBQUU5Qix5Q0FBeUIsSUFGSztBQUc5Qix3Q0FBd0IsSUFITTtBQUk5QiwrQkFBZUQ7QUFKZSxhQUFYLENBQXZCOztBQU9BLGdCQUFNRSxjQUFjRixhQUFhLDBCQUFPRyxxQkFBcEIsR0FBNEMsMEJBQU9DLHNCQUF2RTtBQUNBLGdCQUFNQyxhQUFhTCxhQUFhLDBCQUFPTSxvQkFBcEIsR0FBMkMsMEJBQU9DLHFCQUFyRTs7QUFFQSxnQkFBSSxDQUFDLEtBQUtULEtBQUwsQ0FBV1UsU0FBaEIsRUFBMkI7QUFDdkIsdUJBQU8sSUFBUDtBQUNIOztBQUVELG1CQUFPO0FBQUE7QUFBQTtBQUNILCtCQUFVLHNIQURQO0FBRUg7QUFBQTtBQUFBLHNCQUFLLFdBQVUsMkVBQWY7QUFDSTtBQUFBO0FBQUEsMEJBQU0sV0FBVSwyQkFBaEI7QUFBQTtBQUFBLHFCQURKO0FBR0k7QUFBQTtBQUFBLDBCQUFLLFdBQVUsOEJBQWY7QUFDSTtBQUFBO0FBQUEsOEJBQVEsU0FBUyxLQUFLWCxPQUF0QixFQUErQixNQUFLLFFBQXBDO0FBQ1EsMkNBQVdJLGNBRG5CO0FBRVEsdUNBQU9DLFdBRmY7QUFHSTtBQUFBO0FBQUEsa0NBQU0sV0FBVSxlQUFoQjtBQUFpQ0c7QUFBakM7QUFISjtBQURKO0FBSEosaUJBRkc7QUFhRixxQkFBS1AsS0FBTCxDQUFXRSxVQUFYLElBQ0Qsb0VBQWlCLFdBQVcsS0FBS0YsS0FBTCxDQUFXVyxTQUF2QyxFQUFrRCxVQUFVLEtBQUtYLEtBQUwsQ0FBV1ksb0JBQXZFO0FBZEcsYUFBUDtBQWdCSDs7OztFQXJDd0MsZ0JBQU1DLFM7O2tCQUE5QmYsZSIsImZpbGUiOiIzMC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2xpYnMvY2xhc3NOYW1lcyc7XHJcbmltcG9ydCBsYWJlbHMgZnJvbSAnLi9jb21wb25lbnQubGVnZW5kLmxhYmVscyc7XHJcbmltcG9ydCBMZWdlbmRSZWxhdGlvbnMgZnJvbSAnLi9jb21wb25lbnQubGVnZW5kLnJlbGF0aW9ucy5qc3gnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29tcG9uZW50TGVnZW5kIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIG9uQ2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vbkV4cGFuc2lvblN0YXRlQ2hhbmdlKCF0aGlzLnByb3BzLmlzRXhwYW5kZWQpO1xyXG4gICAgfTtcclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgY29uc3Qge2lzRXhwYW5kZWR9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICBjb25zdCBidXR0b25Dc3NDbGFzcyA9IGNsYXNzbmFtZXMoe1xyXG4gICAgICAgICAgICAndGF1LWJ0bic6IHRydWUsXHJcbiAgICAgICAgICAgICdpLXJvbGUtc2hvdy1yZWxhdGlvbnMnOiB0cnVlLFxyXG4gICAgICAgICAgICAnaS1yb2xlLWJvYXJkLXRvb2x0aXAnOiB0cnVlLFxyXG4gICAgICAgICAgICAndGF1LWNoZWNrZWQnOiBpc0V4cGFuZGVkXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGJ1dHRvblRpdGxlID0gaXNFeHBhbmRlZCA/IGxhYmVscy5CVVRUT05fVElUTEVfRVhQQU5ERUQgOiBsYWJlbHMuQlVUVE9OX1RJVExFX0NPTExBUFNFRDtcclxuICAgICAgICBjb25zdCBidXR0b25UZXh0ID0gaXNFeHBhbmRlZCA/IGxhYmVscy5CVVRUT05fVEVYVF9FWFBBTkRFRCA6IGxhYmVscy5CVVRUT05fVEVYVF9DT0xMQVBTRUQ7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5wcm9wcy5pc1Zpc2libGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gPGRpdlxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJib2FyZC1hY3Rpb25zX19ncm91cCBib2FyZC1hY3Rpb25zX19ncm91cC0tY29udHJvbHMgYm9hcmQtYWN0aW9uc19fZ3JvdXAtLXZpc3VhbC1lbmNvZGluZyBpLXJvbGUtYm9hcmQtYWN0aW9ucy1ncm91cFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvYXJkLWFjdGlvbnNfX2l0ZW0gYm9hcmQtYWN0aW9uc19faXRlbS0tdHdvLWNvbHVtbiBhY3Rpb24tc2hvdy1yZWxhdGlvbnNcIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImJvYXJkLWFjdGlvbnNfX2l0ZW1fX3RleHRcIj5SZWxhdGlvbnM8L3NwYW4+XHJcblxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib2FyZC1hY3Rpb25zX19pdGVtX19jb250cm9sXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9IHR5cGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtidXR0b25Dc3NDbGFzc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtidXR0b25UaXRsZX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRhdS1idG5fX3RleHRcIj57YnV0dG9uVGV4dH08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIHt0aGlzLnByb3BzLmlzRXhwYW5kZWQgJiZcclxuICAgICAgICAgICAgPExlZ2VuZFJlbGF0aW9ucyByZWxhdGlvbnM9e3RoaXMucHJvcHMucmVsYXRpb25zfSBvblNlbGVjdD17dGhpcy5wcm9wcy5vblJlbGF0aW9uVHlwZVNlbGVjdH0vPn1cclxuICAgICAgICA8L2Rpdj47XHJcbiAgICB9XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2xlZ2VuZC9jb21wb25lbnQubGVnZW5kLmpzeCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 31 */
/*!**********************************!*\
  !*** external "libs/classNames" ***!
  \**********************************/
/***/ (function(module, exports) {

	eval("module.exports = __WEBPACK_EXTERNAL_MODULE_31__;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJsaWJzL2NsYXNzTmFtZXNcIj85YTA1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjMxLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzMxX187XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJsaWJzL2NsYXNzTmFtZXNcIlxuLy8gbW9kdWxlIGlkID0gMzFcbi8vIG1vZHVsZSBjaHVua3MgPSAyIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 32 */
/*!***********************************************!*\
  !*** ./src/legend/component.legend.labels.js ***!
  \***********************************************/
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _tauIntl = __webpack_require__(/*! tau-intl */ 16);\n\nvar intl = _interopRequireWildcard(_tauIntl);\n\nfunction _interopRequireWildcard(obj) {\n    if (obj && obj.__esModule) {\n        return obj;\n    } else {\n        var newObj = {};if (obj != null) {\n            for (var key in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n            }\n        }newObj.default = obj;return newObj;\n    }\n}\n\nvar BUTTON_TITLE_EXPANDED = intl.formatMessage('Click to hide relations');\nvar BUTTON_TITLE_COLLAPSED = intl.formatMessage('Click to show relations');\nvar BUTTON_TEXT_EXPANDED = intl.formatMessage('Hide');\nvar BUTTON_TEXT_COLLAPSED = intl.formatMessage('Show');\n\nexports.default = {\n    BUTTON_TITLE_EXPANDED: BUTTON_TITLE_EXPANDED,\n    BUTTON_TITLE_COLLAPSED: BUTTON_TITLE_COLLAPSED,\n    BUTTON_TEXT_EXPANDED: BUTTON_TEXT_EXPANDED,\n    BUTTON_TEXT_COLLAPSED: BUTTON_TEXT_COLLAPSED\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGVnZW5kL2NvbXBvbmVudC5sZWdlbmQubGFiZWxzLmpzPzIxZjkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7O0lBQVk7Ozs7Ozs7Ozs7Ozs7O0FBRVosSUFBTSx3QkFBd0IsS0FBSyxjQUFjO0FBQ2pELElBQU0seUJBQXlCLEtBQUssY0FBYztBQUNsRCxJQUFNLHVCQUF1QixLQUFLLGNBQWM7QUFDaEQsSUFBTSx3QkFBd0IsS0FBSyxjQUFjOzs7MkJBSTdDOzRCQUNBOzBCQUNBOzJCQUpXO0FBQ1giLCJmaWxlIjoiMzIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBpbnRsIGZyb20gJ3RhdS1pbnRsJztcclxuXHJcbmNvbnN0IEJVVFRPTl9USVRMRV9FWFBBTkRFRCA9IGludGwuZm9ybWF0TWVzc2FnZSgnQ2xpY2sgdG8gaGlkZSByZWxhdGlvbnMnKTtcclxuY29uc3QgQlVUVE9OX1RJVExFX0NPTExBUFNFRCA9IGludGwuZm9ybWF0TWVzc2FnZSgnQ2xpY2sgdG8gc2hvdyByZWxhdGlvbnMnKTtcclxuY29uc3QgQlVUVE9OX1RFWFRfRVhQQU5ERUQgPSBpbnRsLmZvcm1hdE1lc3NhZ2UoJ0hpZGUnKTtcclxuY29uc3QgQlVUVE9OX1RFWFRfQ09MTEFQU0VEID0gaW50bC5mb3JtYXRNZXNzYWdlKCdTaG93Jyk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICBCVVRUT05fVElUTEVfRVhQQU5ERUQsXHJcbiAgICBCVVRUT05fVElUTEVfQ09MTEFQU0VELFxyXG4gICAgQlVUVE9OX1RFWFRfRVhQQU5ERUQsXHJcbiAgICBCVVRUT05fVEVYVF9DT0xMQVBTRURcclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9sZWdlbmQvY29tcG9uZW50LmxlZ2VuZC5sYWJlbHMuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 33 */
/*!***************************************************!*\
  !*** ./src/legend/component.legend.relations.jsx ***!
  \***************************************************/
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(/*! react */ 26);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _tauIntl = __webpack_require__(/*! tau-intl */ 16);\n\nvar intl = _interopRequireWildcard(_tauIntl);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar getRelationCssClass = function getRelationCssClass(relation) {\n    return 'relations-legend__item-name--type-' + relation.name.toLowerCase();\n};\n\nvar LegendRelations = function (_React$Component) {\n    _inherits(LegendRelations, _React$Component);\n\n    function LegendRelations() {\n        _classCallCheck(this, LegendRelations);\n\n        return _possibleConstructorReturn(this, (LegendRelations.__proto__ || Object.getPrototypeOf(LegendRelations)).apply(this, arguments));\n    }\n\n    _createClass(LegendRelations, [{\n        key: 'onSelect',\n        value: function onSelect(change) {\n            this.props.onSelect(change);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            return _react2.default.createElement(\n                'ul',\n                { className: 'relations-legend relations-legend--expanded' },\n                this.props.relations.map(function (r) {\n                    return _react2.default.createElement(\n                        'li',\n                        { key: r.name, className: 'relations-legend__item' },\n                        _react2.default.createElement(\n                            'label',\n                            { className: 'tau-checkbox relations-legend__checkbox' },\n                            _react2.default.createElement(\n                                'span',\n                                {\n                                    className: 'tau-checkbox relations-legend__item-name tau-checkbox  ' + getRelationCssClass(r) },\n                                r.label\n                            ),\n                            _react2.default.createElement('input', { onChange: _this2.onSelect.bind(_this2, { name: r.name, show: !r.show }), checked: r.show,\n                                type: 'checkbox',\n                                className: 'i-role-toggle-global-rules', value: 'on' }),\n                            _react2.default.createElement('i', { className: 'tau-checkbox__icon' })\n                        )\n                    );\n                })\n            );\n        }\n    }]);\n\n    return LegendRelations;\n}(_react2.default.Component);\n\nexports.default = LegendRelations;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGVnZW5kL2NvbXBvbmVudC5sZWdlbmQucmVsYXRpb25zLmpzeD9iMGMyIl0sIm5hbWVzIjpbImludGwiLCJnZXRSZWxhdGlvbkNzc0NsYXNzIiwicmVsYXRpb24iLCJuYW1lIiwidG9Mb3dlckNhc2UiLCJMZWdlbmRSZWxhdGlvbnMiLCJjaGFuZ2UiLCJwcm9wcyIsIm9uU2VsZWN0IiwicmVsYXRpb25zIiwibWFwIiwiciIsImxhYmVsIiwiYmluZCIsInNob3ciLCJDb21wb25lbnQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7SUFBWUEsSTs7Ozs7Ozs7Ozs7O0FBRVosSUFBTUMsc0JBQXNCLFNBQXRCQSxtQkFBc0IsQ0FBQ0MsUUFBRCxFQUFjO0FBQ3RDLGtEQUE0Q0EsU0FBU0MsSUFBVCxDQUFjQyxXQUFkLEVBQTVDO0FBQ0gsQ0FGRDs7SUFJcUJDLGU7Ozs7Ozs7Ozs7O2lDQUNSQyxNLEVBQVE7QUFDYixpQkFBS0MsS0FBTCxDQUFXQyxRQUFYLENBQW9CRixNQUFwQjtBQUNIOzs7aUNBRVE7QUFBQTs7QUFDTCxtQkFBTztBQUFBO0FBQUEsa0JBQUksV0FBVSw2Q0FBZDtBQUNGLHFCQUFLQyxLQUFMLENBQVdFLFNBQVgsQ0FBcUJDLEdBQXJCLENBQTBCO0FBQUEsMkJBQUs7QUFBQTtBQUFBLDBCQUFJLEtBQUtDLEVBQUVSLElBQVgsRUFBaUIsV0FBVSx3QkFBM0I7QUFDNUI7QUFBQTtBQUFBLDhCQUFPLFdBQVUseUNBQWpCO0FBQ1E7QUFBQTtBQUFBO0FBQ0ksMkdBQXFFRixvQkFBb0JVLENBQXBCLENBRHpFO0FBQ29HQSxrQ0FBRUM7QUFEdEcsNkJBRFI7QUFHSSxxRUFBTyxVQUFVLE9BQUtKLFFBQUwsQ0FBY0ssSUFBZCxTQUF5QixFQUFDVixNQUFNUSxFQUFFUixJQUFULEVBQWVXLE1BQU0sQ0FBQ0gsRUFBRUcsSUFBeEIsRUFBekIsQ0FBakIsRUFBMEUsU0FBU0gsRUFBRUcsSUFBckY7QUFDTyxzQ0FBSyxVQURaO0FBRU8sMkNBQVUsNEJBRmpCLEVBRThDLE9BQU0sSUFGcEQsR0FISjtBQU1JLGlFQUFHLFdBQVUsb0JBQWI7QUFOSjtBQUQ0QixxQkFBTDtBQUFBLGlCQUExQjtBQURFLGFBQVA7QUFZSDs7OztFQWxCd0MsZ0JBQU1DLFM7O2tCQUE5QlYsZSIsImZpbGUiOiIzMy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBpbnRsIGZyb20gJ3RhdS1pbnRsJztcblxuY29uc3QgZ2V0UmVsYXRpb25Dc3NDbGFzcyA9IChyZWxhdGlvbikgPT4ge1xuICAgIHJldHVybiBgcmVsYXRpb25zLWxlZ2VuZF9faXRlbS1uYW1lLS10eXBlLSR7cmVsYXRpb24ubmFtZS50b0xvd2VyQ2FzZSgpfWA7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMZWdlbmRSZWxhdGlvbnMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIG9uU2VsZWN0KGNoYW5nZSkge1xuICAgICAgICB0aGlzLnByb3BzLm9uU2VsZWN0KGNoYW5nZSk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gPHVsIGNsYXNzTmFtZT1cInJlbGF0aW9ucy1sZWdlbmQgcmVsYXRpb25zLWxlZ2VuZC0tZXhwYW5kZWRcIj5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLnJlbGF0aW9ucy5tYXAoKHIgPT4gPGxpIGtleT17ci5uYW1lfSBjbGFzc05hbWU9XCJyZWxhdGlvbnMtbGVnZW5kX19pdGVtXCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRhdS1jaGVja2JveCByZWxhdGlvbnMtbGVnZW5kX19jaGVja2JveFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B0YXUtY2hlY2tib3ggcmVsYXRpb25zLWxlZ2VuZF9faXRlbS1uYW1lIHRhdS1jaGVja2JveCAgJHtnZXRSZWxhdGlvbkNzc0NsYXNzKHIpfWB9PntyLmxhYmVsfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IG9uQ2hhbmdlPXt0aGlzLm9uU2VsZWN0LmJpbmQodGhpcywge25hbWU6IHIubmFtZSwgc2hvdzogIXIuc2hvd30pfSBjaGVja2VkPXtyLnNob3d9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaS1yb2xlLXRvZ2dsZS1nbG9iYWwtcnVsZXNcIiB2YWx1ZT1cIm9uXCIvPlxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJ0YXUtY2hlY2tib3hfX2ljb25cIj48L2k+XG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDwvbGk+KSl9XG4gICAgICAgIDwvdWw+O1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9sZWdlbmQvY29tcG9uZW50LmxlZ2VuZC5yZWxhdGlvbnMuanN4Il0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 34 */
/*!*********************!*\
  !*** ./src/data.js ***!
  \*********************/
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () {\n    function defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n        }\n    }return function (Constructor, protoProps, staticProps) {\n        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n    };\n}();\n\nvar _jquery = __webpack_require__(/*! jquery */ 4);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _underscore = __webpack_require__(/*! underscore */ 10);\n\nvar _underscore2 = _interopRequireDefault(_underscore);\n\nvar _global = __webpack_require__(/*! tau/core/global.bus */ 35);\n\nvar globalBus = _interopRequireWildcard(_global);\n\nvar _relationTypes = __webpack_require__(/*! ./relationTypes */ 15);\n\nvar _relationTypes2 = _interopRequireDefault(_relationTypes);\n\nvar _configurator = __webpack_require__(/*! tau/configurator */ 8);\n\nvar _configurator2 = _interopRequireDefault(_configurator);\n\nfunction _interopRequireWildcard(obj) {\n    if (obj && obj.__esModule) {\n        return obj;\n    } else {\n        var newObj = {};if (obj != null) {\n            for (var key in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n            }\n        }newObj.default = obj;return newObj;\n    }\n}\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n\nvar loadSimple = function loadSimple(url, params) {\n    return _jquery2.default.ajax({\n        type: 'get',\n        url: url,\n        contentType: 'application/json; charset=utf-8',\n        dataType: 'json',\n        data: params\n    });\n};\n\nvar loadPages = function loadPages(url, params) {\n    return loadSimple(url, params).then(function (_ref) {\n        var Items = _ref.Items,\n            Next = _ref.Next;\n        return Next ? loadPages(Next).then(function (pageItems) {\n            return Items.concat(pageItems);\n        }) : Items;\n    });\n};\n\nvar load = function load(resource, params) {\n    return loadPages(_configurator2.default.getApplicationPath() + '/api/v1/' + resource, params);\n};\n\nvar processItem = function processItem(item, type, directionType) {\n    return {\n        directionType: directionType,\n        relationType: {\n            name: item.RelationType.Name\n        },\n        entity: {\n            id: item[type].Id\n        },\n        main: {\n            id: item.Master.Id\n        }\n    };\n};\n\nvar store = null;\n\nglobalBus.get().on('configurator.ready', function (e, configurator) {\n    if (!store) {\n        store = configurator.storeFactory.getStore();\n    } else {\n        var newStore = configurator.storeFactory.getStore();\n\n        if (store.id !== newStore.id) {\n            store = newStore;\n        }\n    }\n});\n\nvar RelationsData = function () {\n    function RelationsData() {\n        _classCallCheck(this, RelationsData);\n\n        this.entityIds = [];\n        this._relations = [];\n        this.setFilterConfig([]);\n        this.updated = _underscore2.default.Callbacks();\n        this.subscribeForRelationsUpdate();\n    }\n\n    _createClass(RelationsData, [{\n        key: 'load',\n        value: function load(entityIds) {\n            var _this = this;\n\n            if (_underscore2.default.intersection(entityIds, this.entityIds).length === entityIds.length) {\n                return Promise.resolve(this.getRelationsFiltered());\n            } else {\n                this.entityIds = entityIds;\n                return this._getRelationsByIdsInternal(entityIds).then(function (relations) {\n                    return _this._relations = relations;\n                }).then(function () {\n                    return _this.getRelationsFiltered();\n                });\n            }\n        }\n    }, {\n        key: 'refresh',\n        value: function refresh() {\n            return this._getRelationsByIdsInternal(this._relations.map(function (r) {\n                return r.entity.id;\n            }));\n        }\n    }, {\n        key: 'setFilterConfig',\n        value: function setFilterConfig(config) {\n            this.filterConfig = config.filter(function (c) {\n                return c.show;\n            }).map(function (relationType) {\n                return _relationTypes2.default.filter(function (r) {\n                    return r.name === relationType.name;\n                })[0].name;\n            });\n        }\n    }, {\n        key: 'getRelationsFiltered',\n        value: function getRelationsFiltered() {\n            var _this2 = this;\n\n            return this._relations.filter(function (r) {\n                return _this2.filterConfig.some(function (c) {\n                    return c === r.relationType.name;\n                });\n            });\n        }\n    }, {\n        key: 'getRelationsByIds',\n        value: function getRelationsByIds(entityIds) {\n            return this._relations.filter(function (r) {\n                return entityIds.some(r.entity.id);\n            });\n        }\n    }, {\n        key: '_onRelationsChanged',\n        value: function _onRelationsChanged() {\n            var _this3 = this;\n\n            this._getRelationsByIdsInternal(this.entityIds).then(function (relations) {\n                _this3._relations = relations;\n                _this3.updated.fire();\n            });\n        }\n    }, {\n        key: 'subscribeForRelationsUpdate',\n        value: function subscribeForRelationsUpdate() {\n            var _this4 = this;\n\n            if (this.store) {\n                this.store.unbind(this);\n            }\n            this.store = store;\n            this.store.on({\n                type: 'relation',\n                eventName: 'afterSave',\n                listener: this\n            }, function () {\n                _this4._onRelationsChanged();\n            }, this);\n\n            this.store.on({\n                type: 'relation',\n                eventName: 'afterRemove',\n                listener: this\n            }, function () {\n                _this4._onRelationsChanged();\n            }, this);\n        }\n    }, {\n        key: '_getRelationsByIdsInternal',\n        value: function _getRelationsByIdsInternal(entityIds) {\n            if (!entityIds.length) {\n                return Promise.resolve([]);\n            }\n\n            return load('relations', {\n                where: 'Master.Id in (' + entityIds.join(',') + ')',\n                include: '[Slave[Id],Master[Id],RelationType[Name]]'\n            }).then(function (items) {\n                return items.map(function (v) {\n                    return processItem(v, 'Slave', 'outbound');\n                });\n            }).fail(function () {\n                console.warn('Error loading relations for Relation Visualisation');\n                return [];\n            });\n        }\n    }]);\n\n    return RelationsData;\n}();\n\nexports.default = RelationsData;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZGF0YS5qcz9iZTc4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7O0lBQVk7O0FBQ1o7Ozs7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQSxJQUFNLGFBQWEsb0JBQUMsS0FBSyxRQUFOOzRCQUNiO2NBRUU7YUFDQTtxQkFDQTtrQkFDQTtjQUFNO0FBSk4sS0FESjtBQURKOztBQVNBLElBQU0sWUFBWSxtQkFBQyxLQUFLLFFBQU47c0JBQ0gsS0FBSyxRQUNYLEtBQUs7WUFBRTtZQUFPO2dDQUNPLE1BQU0sS0FBSyxVQUFDLFdBQUQ7bUJBQWUsTUFBTSxPQUFPO0FBQWpELFVBQVIsR0FBd0U7QUFGaEY7QUFESjs7QUFLQSxJQUFNLE9BQU8sY0FBQyxVQUFVLFFBQVg7V0FDVCxVQUFhLHVCQUFtQixvQ0FBK0IsVUFBWTtBQUQvRTs7QUFHQSxJQUFNLGNBQWMscUJBQUMsTUFBTSxNQUFNLGVBQWI7O3VCQUVoQjs7a0JBQ1UsS0FBSyxhQUVmO0FBRkk7O2dCQUdJLEtBQUssTUFFYjtBQUZJOztnQkFHSSxLQUFLLE9BQU87QUFBaEI7QUFSSjtBQURKOztBQWFBLElBQUksUUFBUTs7QUFFWixVQUFVLE1BQU0sR0FBRyxzQkFBc0IsVUFBQyxHQUFHLGNBQ3pDO1FBQUksQ0FBQyxPQUNEO2dCQUFRLGFBQWEsYUFDeEI7QUFGRCxXQUdJO1lBQU0sV0FBVyxhQUFhLGFBRTlCOztZQUFJLE1BQU0sT0FBTyxTQUFTLElBQ3RCO29CQUNIO0FBQ0o7QUFDSjtBQVZEOztJQVlxQiw0QkFDakI7NkJBQWM7OEJBQ1Y7O2FBQUssWUFDTDthQUFLLGFBQ0w7YUFBSyxnQkFDTDthQUFLLFVBQVUscUJBQ2Y7YUFDSDs7Ozs7NkJBRUksV0FBVzt3QkFDWjs7Z0JBQUkscUJBQUUsYUFBYSxXQUFXLEtBQUssV0FBVyxXQUFXLFVBQVUsUUFDL0Q7dUJBQU8sUUFBUSxRQUFRLEtBQzFCO0FBRkQsbUJBR0k7cUJBQUssWUFDTDs0QkFBWSwyQkFBMkIsV0FBVyxLQUFLLFVBQUMsV0FBRDsyQkFBZSxNQUFLLGFBQWE7QUFBakYsbUJBQ0YsS0FBSzsyQkFBTSxNQUFLO0FBQ3hCO0FBQ0o7Ozs7a0NBR0c7d0JBQVksZ0NBQWdDLFdBQVcsSUFBSTt1QkFBSyxFQUFFLE9BQU87QUFDNUUsYUFEMEMsQ0FBaEM7Ozs7d0NBR0ssUUFDWjtpQkFBSyxzQkFBc0IsT0FBTzt1QkFBSyxFQUFFO0FBQXJCLGVBQ2YsSUFBSTsrQ0FBOEIsT0FBTzsyQkFBSyxFQUFFLFNBQVMsYUFBYTtBQUFsRCxtQkFBd0QsR0FBRztBQUN2Rjs7OzsrQ0FFc0I7eUJBQ25COzt3QkFBWSxXQUFXLE9BQU87OEJBQVUsYUFBYSxLQUFLOzJCQUFLLE1BQU0sRUFBRSxhQUFhO0FBQWpEO0FBQ3RDLGFBRFU7Ozs7MENBR08sV0FDZDt3QkFBWSxXQUFXLE9BQU87dUJBQUssVUFBVSxLQUFLLEVBQUUsT0FBTztBQUM5RCxhQURVOzs7OzhDQUdXO3lCQUNsQjs7aUJBQUssMkJBQTJCLEtBQUssV0FBVyxLQUFLLFVBQUMsV0FDbEQ7dUJBQUssYUFDTDt1QkFBSyxRQUNSO0FBQ0o7Ozs7c0RBRTZCO3lCQUMxQjs7Z0JBQUksS0FBSyxPQUNMO3FCQUFLLE1BQU0sT0FDZDtBQUNEO2lCQUFLLFFBQ0w7aUJBQUssTUFBTTtzQkFFUDsyQkFDQTswQkFBVTtBQUZWLGVBR0QsWUFDQzt1QkFDSDtBQU5ELGVBUUE7O2lCQUFLLE1BQU07c0JBRVA7MkJBQ0E7MEJBQVU7QUFGVixlQUdELFlBQ0M7dUJBQ0g7QUFORCxlQU9IOzs7O21EQUUwQixXQUN2QjtnQkFBSSxDQUFDLFVBQVUsUUFDWDt1QkFBTyxRQUFRLFFBQ2xCO0FBRUQ7O3dCQUFZOzBDQUNnQixVQUFVLEtBQUssT0FDdkM7eUJBRnFCO0FBQ3JCLGFBREcsRUFJRixLQUFLLFVBQUMsT0FBRDs2QkFDSSxJQUFJLFVBQUMsR0FBRDsyQkFBTyxZQUFZLEdBQUcsU0FBUztBQUF6QztBQUxELGVBT0YsS0FBSyxZQUNGO3dCQUFRLEtBQ1I7dUJBQ0g7QUFDUjs7Ozs7OztrQkFqRmdCIiwiZmlsZSI6IjM0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCBfIGZyb20gJ3VuZGVyc2NvcmUnO1xuaW1wb3J0ICogYXMgZ2xvYmFsQnVzIGZyb20gJ3RhdS9jb3JlL2dsb2JhbC5idXMnO1xuaW1wb3J0IHJlbGF0aW9uVHlwZXMgZnJvbSAnLi9yZWxhdGlvblR5cGVzJztcbmltcG9ydCBnbG9iYWxDb25maWd1cmF0b3IgZnJvbSAndGF1L2NvbmZpZ3VyYXRvcic7XG5cbmNvbnN0IGxvYWRTaW1wbGUgPSAodXJsLCBwYXJhbXMpID0+XG4gICAgJC5hamF4KHtcbiAgICAgICAgdHlwZTogJ2dldCcsXG4gICAgICAgIHVybDogdXJsLFxuICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgnLFxuICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICBkYXRhOiBwYXJhbXNcbiAgICB9KTtcblxuY29uc3QgbG9hZFBhZ2VzID0gKHVybCwgcGFyYW1zKSA9PlxuICAgIGxvYWRTaW1wbGUodXJsLCBwYXJhbXMpXG4gICAgICAgIC50aGVuKCh7SXRlbXMsIE5leHR9KSA9PlxuICAgICAgICAgICAgTmV4dCA/IChsb2FkUGFnZXMoTmV4dCkudGhlbigocGFnZUl0ZW1zKSA9PiBJdGVtcy5jb25jYXQocGFnZUl0ZW1zKSkpIDogSXRlbXMpO1xuXG5jb25zdCBsb2FkID0gKHJlc291cmNlLCBwYXJhbXMpID0+XG4gICAgbG9hZFBhZ2VzKGAke2dsb2JhbENvbmZpZ3VyYXRvci5nZXRBcHBsaWNhdGlvblBhdGgoKX0vYXBpL3YxLyR7cmVzb3VyY2V9YCwgcGFyYW1zKTtcblxuY29uc3QgcHJvY2Vzc0l0ZW0gPSAoaXRlbSwgdHlwZSwgZGlyZWN0aW9uVHlwZSkgPT4gKHtcbiAgICBkaXJlY3Rpb25UeXBlLFxuICAgIHJlbGF0aW9uVHlwZToge1xuICAgICAgICBuYW1lOiBpdGVtLlJlbGF0aW9uVHlwZS5OYW1lXG4gICAgfSxcbiAgICBlbnRpdHk6IHtcbiAgICAgICAgaWQ6IGl0ZW1bdHlwZV0uSWRcbiAgICB9LFxuICAgIG1haW46IHtcbiAgICAgICAgaWQ6IGl0ZW0uTWFzdGVyLklkXG4gICAgfVxufSk7XG5cbmxldCBzdG9yZSA9IG51bGw7XG5cbmdsb2JhbEJ1cy5nZXQoKS5vbignY29uZmlndXJhdG9yLnJlYWR5JywgKGUsIGNvbmZpZ3VyYXRvcikgPT4ge1xuICAgIGlmICghc3RvcmUpIHtcbiAgICAgICAgc3RvcmUgPSBjb25maWd1cmF0b3Iuc3RvcmVGYWN0b3J5LmdldFN0b3JlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgbmV3U3RvcmUgPSBjb25maWd1cmF0b3Iuc3RvcmVGYWN0b3J5LmdldFN0b3JlKCk7XG5cbiAgICAgICAgaWYgKHN0b3JlLmlkICE9PSBuZXdTdG9yZS5pZCkge1xuICAgICAgICAgICAgc3RvcmUgPSBuZXdTdG9yZTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWxhdGlvbnNEYXRhIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5lbnRpdHlJZHMgPSBbXTtcbiAgICAgICAgdGhpcy5fcmVsYXRpb25zID0gW107XG4gICAgICAgIHRoaXMuc2V0RmlsdGVyQ29uZmlnKFtdKTtcbiAgICAgICAgdGhpcy51cGRhdGVkID0gXy5DYWxsYmFja3MoKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVGb3JSZWxhdGlvbnNVcGRhdGUoKTtcbiAgICB9XG5cbiAgICBsb2FkKGVudGl0eUlkcykge1xuICAgICAgICBpZiAoXy5pbnRlcnNlY3Rpb24oZW50aXR5SWRzLCB0aGlzLmVudGl0eUlkcykubGVuZ3RoID09PSBlbnRpdHlJZHMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuZ2V0UmVsYXRpb25zRmlsdGVyZWQoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmVudGl0eUlkcyA9IGVudGl0eUlkcztcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRSZWxhdGlvbnNCeUlkc0ludGVybmFsKGVudGl0eUlkcykudGhlbigocmVsYXRpb25zKSA9PiB0aGlzLl9yZWxhdGlvbnMgPSByZWxhdGlvbnMpXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy5nZXRSZWxhdGlvbnNGaWx0ZXJlZCgpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlZnJlc2goKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRSZWxhdGlvbnNCeUlkc0ludGVybmFsKHRoaXMuX3JlbGF0aW9ucy5tYXAociA9PiByLmVudGl0eS5pZCkpO1xuICAgIH1cblxuICAgIHNldEZpbHRlckNvbmZpZyhjb25maWcpIHtcbiAgICAgICAgdGhpcy5maWx0ZXJDb25maWcgPSBjb25maWcuZmlsdGVyKGMgPT4gYy5zaG93KVxuICAgICAgICAgICAgLm1hcChyZWxhdGlvblR5cGUgPT4gcmVsYXRpb25UeXBlcy5maWx0ZXIociA9PiByLm5hbWUgPT09IHJlbGF0aW9uVHlwZS5uYW1lKVswXS5uYW1lKTtcbiAgICB9XG5cbiAgICBnZXRSZWxhdGlvbnNGaWx0ZXJlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlbGF0aW9ucy5maWx0ZXIociA9PiB0aGlzLmZpbHRlckNvbmZpZy5zb21lKGMgPT4gYyA9PT0gci5yZWxhdGlvblR5cGUubmFtZSkpO1xuICAgIH1cblxuICAgIGdldFJlbGF0aW9uc0J5SWRzKGVudGl0eUlkcykge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVsYXRpb25zLmZpbHRlcihyID0+IGVudGl0eUlkcy5zb21lKHIuZW50aXR5LmlkKSk7XG4gICAgfVxuXG4gICAgX29uUmVsYXRpb25zQ2hhbmdlZCgpIHtcbiAgICAgICAgdGhpcy5fZ2V0UmVsYXRpb25zQnlJZHNJbnRlcm5hbCh0aGlzLmVudGl0eUlkcykudGhlbigocmVsYXRpb25zKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9yZWxhdGlvbnMgPSByZWxhdGlvbnM7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZWQuZmlyZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzdWJzY3JpYmVGb3JSZWxhdGlvbnNVcGRhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0b3JlKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3JlLnVuYmluZCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0b3JlID0gc3RvcmU7XG4gICAgICAgIHRoaXMuc3RvcmUub24oe1xuICAgICAgICAgICAgdHlwZTogJ3JlbGF0aW9uJyxcbiAgICAgICAgICAgIGV2ZW50TmFtZTogJ2FmdGVyU2F2ZScsXG4gICAgICAgICAgICBsaXN0ZW5lcjogdGhpc1xuICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9vblJlbGF0aW9uc0NoYW5nZWQoKTtcbiAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5zdG9yZS5vbih7XG4gICAgICAgICAgICB0eXBlOiAncmVsYXRpb24nLFxuICAgICAgICAgICAgZXZlbnROYW1lOiAnYWZ0ZXJSZW1vdmUnLFxuICAgICAgICAgICAgbGlzdGVuZXI6IHRoaXNcbiAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fb25SZWxhdGlvbnNDaGFuZ2VkKCk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgIH1cblxuICAgIF9nZXRSZWxhdGlvbnNCeUlkc0ludGVybmFsKGVudGl0eUlkcykge1xuICAgICAgICBpZiAoIWVudGl0eUlkcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoW10pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGxvYWQoJ3JlbGF0aW9ucycsIHtcbiAgICAgICAgICAgIHdoZXJlOiBgTWFzdGVyLklkIGluICgke2VudGl0eUlkcy5qb2luKCcsJyl9KWAsXG4gICAgICAgICAgICBpbmNsdWRlOiBgW1NsYXZlW0lkXSxNYXN0ZXJbSWRdLFJlbGF0aW9uVHlwZVtOYW1lXV1gXG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigoaXRlbXMpID0+XG4gICAgICAgICAgICAgICAgaXRlbXMubWFwKCh2KSA9PiBwcm9jZXNzSXRlbSh2LCAnU2xhdmUnLCAnb3V0Ym91bmQnKSlcbiAgICAgICAgKVxuICAgICAgICAgICAgLmZhaWwoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignRXJyb3IgbG9hZGluZyByZWxhdGlvbnMgZm9yIFJlbGF0aW9uIFZpc3VhbGlzYXRpb24nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9KTtcbiAgICB9XG59XG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9kYXRhLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 35 */
/*!**************************************!*\
  !*** external "tau/core/global.bus" ***!
  \**************************************/
/***/ (function(module, exports) {

	eval("module.exports = __WEBPACK_EXTERNAL_MODULE_35__;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ0YXUvY29yZS9nbG9iYWwuYnVzXCI/YWQ1NCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIzNS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8zNV9fO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwidGF1L2NvcmUvZ2xvYmFsLmJ1c1wiXG4vLyBtb2R1bGUgaWQgPSAzNVxuLy8gbW9kdWxlIGNodW5rcyA9IDIiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 36 */
/*!***********************!*\
  !*** ./src/index.css ***!
  \***********************/
/***/ (function(module, exports, __webpack_require__) {

	eval("// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(/*! !../~/css-loader!../~/postcss-loader?parser=postcss-scss!./index.css */ 37);\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(/*! ../~/style-loader/addStyles.js */ 39)(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../node_modules/css-loader/index.js!../node_modules/postcss-loader/index.js?parser=postcss-scss!./index.css\", function() {\n\t\t\tvar newContent = require(\"!!../node_modules/css-loader/index.js!../node_modules/postcss-loader/index.js?parser=postcss-scss!./index.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguY3NzP2MyYzgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRkFBOEU7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxnQ0FBZ0MsVUFBVSxFQUFFO0FBQzVDIiwiZmlsZSI6IjM2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcz9wYXJzZXI9cG9zdGNzcy1zY3NzIS4vaW5kZXguY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcz9wYXJzZXI9cG9zdGNzcy1zY3NzIS4vaW5kZXguY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanM/cGFyc2VyPXBvc3Rjc3Mtc2NzcyEuL2luZGV4LmNzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvaW5kZXguY3NzXG4vLyBtb2R1bGUgaWQgPSAzNlxuLy8gbW9kdWxlIGNodW5rcyA9IDIiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 37 */
/*!*****************************************************************************!*\
  !*** ./~/css-loader!./~/postcss-loader?parser=postcss-scss!./src/index.css ***!
  \*****************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

	eval("exports = module.exports = __webpack_require__(/*! ../~/css-loader/lib/css-base.js */ 38)();\nexports.push([module.id, \".mashupCustomUnitShowRelations .i-role-card,\\r\\n    .mashupCustomUnitShowRelations .tau-show-more-cards-trigger {\\r\\n    opacity: 0.3;\\r\\n    transition: opacity 300ms cubic-bezier(0.4, 0.0, 0.2, 1) 200ms;\\r\\n}\\r\\n\\r\\n.mashupCustomUnitShowRelations .tau-list-more .tau-list-more-inner {\\r\\n    z-index: 8;\\r\\n}\\r\\n\\r\\n.mashupCustomUnitShowRelations__related, .mashupCustomUnitShowRelations__source {\\r\\n    transition: opacity 100ms cubic-bezier(0.4, 0.0, 0.2, 1) !important;\\r\\n    opacity: 1 !important;\\r\\n    z-index: 9;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.mashupCustomUnitShowRelations-highlighted .mashupCustomUnitShowRelations__related, .mashupCustomUnitShowRelations-highlighted .mashupCustomUnitShowRelations__source {\\r\\n    transition: opacity 300ms cubic-bezier(0.4, 0.0, 0.2, 1) 200ms !important;\\r\\n    opacity: 0.3 !important;\\r\\n}\\r\\n\\r\\n.mashupCustomUnitShowRelations-highlighted .mashupCustomUnitShowRelations__highlighted {\\r\\n    transition: opacity 100ms cubic-bezier(0.4, 0.0, 0.2, 1) !important;\\r\\n    opacity: 1 !important;\\r\\n}\\r\\n\\r\\n.mashupCustomUnitShowRelations-legend {\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    left: 0;\\r\\n    z-index: 9;\\r\\n    background: #fff;\\r\\n    font-size: 12px;\\r\\n    padding: 5px 15px 15px;\\r\\n    opacity: 0.7;\\r\\n}\\r\\n\\r\\n.mashupCustomUnitShowRelations-legend:hover {\\r\\n    opacity: 1;\\r\\n}\\r\\n\\r\\n.mashupCustomUnitShowRelations-legend h3 {\\r\\n    font-weight: 600;\\r\\n    font-size: 12px;\\r\\n}\\r\\n\\r\\n.mashupCustomUnitShowRelations-legend__line + .mashupCustomUnitShowRelations-legend__line {\\r\\n    margin-top: 10px;\\r\\n}\\r\\n\\r\\n.mashupCustomUnitShowRelations-legend__link {\\r\\n    color: #28428b;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.mashupCustomUnitShowRelations__svg {\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    left: 0;\\r\\n    z-index: 25;\\r\\n    pointer-events: none;\\r\\n    overflow: visible;\\r\\n}\\r\\n\\r\\n.mashupCustomUnitShowRelations__svg .line {\\r\\n    transition: opacity 100ms cubic-bezier(0.4, 0.0, 0.2, 1);\\r\\n    opacity: 1;\\r\\n    pointer-events: all;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.mashupCustomUnitShowRelations__svg .helperLine {\\r\\n    transition: opacity 100ms cubic-bezier(0.4, 0.0, 0.2, 1);\\r\\n    opacity: 0;\\r\\n    pointer-events: all;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.mashupCustomUnitShowRelations__svg .helperLine:hover {\\r\\n    opacity: 0.3;\\r\\n}\\r\\n\\r\\n.mashupCustomUnitShowRelations__svg-highlighted .mashupCustomUnitShowRelations__highlighted {\\r\\n    transition: opacity 100ms cubic-bezier(0.4, 0.0, 0.2, 1) !important;\\r\\n    opacity: 1 !important;\\r\\n}\\r\\n\\r\\n.mashupCustomUnitShowRelations__svg-highlighted path.line {\\r\\n    transition: opacity 300ms cubic-bezier(0.4, 0.0, 0.2, 1) 200ms;\\r\\n    opacity: 0.3;\\r\\n}\\r\\n\\r\\n.mashupCustomUnitShowRelations__svg-highlighted path.line__highlighted {\\r\\n    transition: opacity 100ms cubic-bezier(0.4, 0.0, 0.2, 1);\\r\\n    opacity: 1;\\r\\n}\\r\\n\\r\\n.i-role-grid .tau-board-unit_type_relations-counter-in-out {\\r\\n    cursor: pointer !important;\\r\\n}\\r\\n\", \"\"]);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguY3NzP2ZiOGYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSwySUFBMkkscUJBQXFCLHVFQUF1RSxLQUFLLDRFQUE0RSxtQkFBbUIsS0FBSyx5RkFBeUYsNEVBQTRFLDhCQUE4QixtQkFBbUIsMkJBQTJCLEtBQUssK0tBQStLLGtGQUFrRixnQ0FBZ0MsS0FBSyxnR0FBZ0csNEVBQTRFLDhCQUE4QixLQUFLLCtDQUErQywyQkFBMkIsZUFBZSxnQkFBZ0IsbUJBQW1CLHlCQUF5Qix3QkFBd0IsK0JBQStCLHFCQUFxQixLQUFLLHFEQUFxRCxtQkFBbUIsS0FBSyxrREFBa0QseUJBQXlCLHdCQUF3QixLQUFLLG1HQUFtRyx5QkFBeUIsS0FBSyxxREFBcUQsdUJBQXVCLHdCQUF3QixLQUFLLDZDQUE2QywyQkFBMkIsZUFBZSxnQkFBZ0Isb0JBQW9CLDZCQUE2QiwwQkFBMEIsS0FBSyxtREFBbUQsaUVBQWlFLG1CQUFtQiw0QkFBNEIsd0JBQXdCLEtBQUsseURBQXlELGlFQUFpRSxtQkFBbUIsNEJBQTRCLHdCQUF3QixLQUFLLCtEQUErRCxxQkFBcUIsS0FBSyxxR0FBcUcsNEVBQTRFLDhCQUE4QixLQUFLLG1FQUFtRSx1RUFBdUUscUJBQXFCLEtBQUssZ0ZBQWdGLGlFQUFpRSxtQkFBbUIsS0FBSyxvRUFBb0UsbUNBQW1DLEtBQUsiLCJmaWxlIjoiMzcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIubWFzaHVwQ3VzdG9tVW5pdFNob3dSZWxhdGlvbnMgLmktcm9sZS1jYXJkLFxcclxcbiAgICAubWFzaHVwQ3VzdG9tVW5pdFNob3dSZWxhdGlvbnMgLnRhdS1zaG93LW1vcmUtY2FyZHMtdHJpZ2dlciB7XFxyXFxuICAgIG9wYWNpdHk6IDAuMztcXHJcXG4gICAgdHJhbnNpdGlvbjogb3BhY2l0eSAzMDBtcyBjdWJpYy1iZXppZXIoMC40LCAwLjAsIDAuMiwgMSkgMjAwbXM7XFxyXFxufVxcclxcblxcclxcbi5tYXNodXBDdXN0b21Vbml0U2hvd1JlbGF0aW9ucyAudGF1LWxpc3QtbW9yZSAudGF1LWxpc3QtbW9yZS1pbm5lciB7XFxyXFxuICAgIHotaW5kZXg6IDg7XFxyXFxufVxcclxcblxcclxcbi5tYXNodXBDdXN0b21Vbml0U2hvd1JlbGF0aW9uc19fcmVsYXRlZCwgLm1hc2h1cEN1c3RvbVVuaXRTaG93UmVsYXRpb25zX19zb3VyY2Uge1xcclxcbiAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDEwMG1zIGN1YmljLWJlemllcigwLjQsIDAuMCwgMC4yLCAxKSAhaW1wb3J0YW50O1xcclxcbiAgICBvcGFjaXR5OiAxICFpbXBvcnRhbnQ7XFxyXFxuICAgIHotaW5kZXg6IDk7XFxyXFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXHJcXG59XFxyXFxuXFxyXFxuLm1hc2h1cEN1c3RvbVVuaXRTaG93UmVsYXRpb25zLWhpZ2hsaWdodGVkIC5tYXNodXBDdXN0b21Vbml0U2hvd1JlbGF0aW9uc19fcmVsYXRlZCwgLm1hc2h1cEN1c3RvbVVuaXRTaG93UmVsYXRpb25zLWhpZ2hsaWdodGVkIC5tYXNodXBDdXN0b21Vbml0U2hvd1JlbGF0aW9uc19fc291cmNlIHtcXHJcXG4gICAgdHJhbnNpdGlvbjogb3BhY2l0eSAzMDBtcyBjdWJpYy1iZXppZXIoMC40LCAwLjAsIDAuMiwgMSkgMjAwbXMgIWltcG9ydGFudDtcXHJcXG4gICAgb3BhY2l0eTogMC4zICFpbXBvcnRhbnQ7XFxyXFxufVxcclxcblxcclxcbi5tYXNodXBDdXN0b21Vbml0U2hvd1JlbGF0aW9ucy1oaWdobGlnaHRlZCAubWFzaHVwQ3VzdG9tVW5pdFNob3dSZWxhdGlvbnNfX2hpZ2hsaWdodGVkIHtcXHJcXG4gICAgdHJhbnNpdGlvbjogb3BhY2l0eSAxMDBtcyBjdWJpYy1iZXppZXIoMC40LCAwLjAsIDAuMiwgMSkgIWltcG9ydGFudDtcXHJcXG4gICAgb3BhY2l0eTogMSAhaW1wb3J0YW50O1xcclxcbn1cXHJcXG5cXHJcXG4ubWFzaHVwQ3VzdG9tVW5pdFNob3dSZWxhdGlvbnMtbGVnZW5kIHtcXHJcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcclxcbiAgICB0b3A6IDA7XFxyXFxuICAgIGxlZnQ6IDA7XFxyXFxuICAgIHotaW5kZXg6IDk7XFxyXFxuICAgIGJhY2tncm91bmQ6ICNmZmY7XFxyXFxuICAgIGZvbnQtc2l6ZTogMTJweDtcXHJcXG4gICAgcGFkZGluZzogNXB4IDE1cHggMTVweDtcXHJcXG4gICAgb3BhY2l0eTogMC43O1xcclxcbn1cXHJcXG5cXHJcXG4ubWFzaHVwQ3VzdG9tVW5pdFNob3dSZWxhdGlvbnMtbGVnZW5kOmhvdmVyIHtcXHJcXG4gICAgb3BhY2l0eTogMTtcXHJcXG59XFxyXFxuXFxyXFxuLm1hc2h1cEN1c3RvbVVuaXRTaG93UmVsYXRpb25zLWxlZ2VuZCBoMyB7XFxyXFxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XFxyXFxuICAgIGZvbnQtc2l6ZTogMTJweDtcXHJcXG59XFxyXFxuXFxyXFxuLm1hc2h1cEN1c3RvbVVuaXRTaG93UmVsYXRpb25zLWxlZ2VuZF9fbGluZSArIC5tYXNodXBDdXN0b21Vbml0U2hvd1JlbGF0aW9ucy1sZWdlbmRfX2xpbmUge1xcclxcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xcclxcbn1cXHJcXG5cXHJcXG4ubWFzaHVwQ3VzdG9tVW5pdFNob3dSZWxhdGlvbnMtbGVnZW5kX19saW5rIHtcXHJcXG4gICAgY29sb3I6ICMyODQyOGI7XFxyXFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXHJcXG59XFxyXFxuXFxyXFxuLm1hc2h1cEN1c3RvbVVuaXRTaG93UmVsYXRpb25zX19zdmcge1xcclxcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxyXFxuICAgIHRvcDogMDtcXHJcXG4gICAgbGVmdDogMDtcXHJcXG4gICAgei1pbmRleDogMjU7XFxyXFxuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xcclxcbiAgICBvdmVyZmxvdzogdmlzaWJsZTtcXHJcXG59XFxyXFxuXFxyXFxuLm1hc2h1cEN1c3RvbVVuaXRTaG93UmVsYXRpb25zX19zdmcgLmxpbmUge1xcclxcbiAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDEwMG1zIGN1YmljLWJlemllcigwLjQsIDAuMCwgMC4yLCAxKTtcXHJcXG4gICAgb3BhY2l0eTogMTtcXHJcXG4gICAgcG9pbnRlci1ldmVudHM6IGFsbDtcXHJcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcclxcbn1cXHJcXG5cXHJcXG4ubWFzaHVwQ3VzdG9tVW5pdFNob3dSZWxhdGlvbnNfX3N2ZyAuaGVscGVyTGluZSB7XFxyXFxuICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMTAwbXMgY3ViaWMtYmV6aWVyKDAuNCwgMC4wLCAwLjIsIDEpO1xcclxcbiAgICBvcGFjaXR5OiAwO1xcclxcbiAgICBwb2ludGVyLWV2ZW50czogYWxsO1xcclxcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxyXFxufVxcclxcblxcclxcbi5tYXNodXBDdXN0b21Vbml0U2hvd1JlbGF0aW9uc19fc3ZnIC5oZWxwZXJMaW5lOmhvdmVyIHtcXHJcXG4gICAgb3BhY2l0eTogMC4zO1xcclxcbn1cXHJcXG5cXHJcXG4ubWFzaHVwQ3VzdG9tVW5pdFNob3dSZWxhdGlvbnNfX3N2Zy1oaWdobGlnaHRlZCAubWFzaHVwQ3VzdG9tVW5pdFNob3dSZWxhdGlvbnNfX2hpZ2hsaWdodGVkIHtcXHJcXG4gICAgdHJhbnNpdGlvbjogb3BhY2l0eSAxMDBtcyBjdWJpYy1iZXppZXIoMC40LCAwLjAsIDAuMiwgMSkgIWltcG9ydGFudDtcXHJcXG4gICAgb3BhY2l0eTogMSAhaW1wb3J0YW50O1xcclxcbn1cXHJcXG5cXHJcXG4ubWFzaHVwQ3VzdG9tVW5pdFNob3dSZWxhdGlvbnNfX3N2Zy1oaWdobGlnaHRlZCBwYXRoLmxpbmUge1xcclxcbiAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDMwMG1zIGN1YmljLWJlemllcigwLjQsIDAuMCwgMC4yLCAxKSAyMDBtcztcXHJcXG4gICAgb3BhY2l0eTogMC4zO1xcclxcbn1cXHJcXG5cXHJcXG4ubWFzaHVwQ3VzdG9tVW5pdFNob3dSZWxhdGlvbnNfX3N2Zy1oaWdobGlnaHRlZCBwYXRoLmxpbmVfX2hpZ2hsaWdodGVkIHtcXHJcXG4gICAgdHJhbnNpdGlvbjogb3BhY2l0eSAxMDBtcyBjdWJpYy1iZXppZXIoMC40LCAwLjAsIDAuMiwgMSk7XFxyXFxuICAgIG9wYWNpdHk6IDE7XFxyXFxufVxcclxcblxcclxcbi5pLXJvbGUtZ3JpZCAudGF1LWJvYXJkLXVuaXRfdHlwZV9yZWxhdGlvbnMtY291bnRlci1pbi1vdXQge1xcclxcbiAgICBjdXJzb3I6IHBvaW50ZXIgIWltcG9ydGFudDtcXHJcXG59XFxyXFxuXCIsIFwiXCJdKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY3NzLWxvYWRlciEuL34vcG9zdGNzcy1sb2FkZXI/cGFyc2VyPXBvc3Rjc3Mtc2NzcyEuL3NyYy9pbmRleC5jc3Ncbi8vIG1vZHVsZSBpZCA9IDM3XG4vLyBtb2R1bGUgY2h1bmtzID0gMiJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 38 */
/*!**************************************!*\
  !*** ./~/css-loader/lib/css-base.js ***!
  \**************************************/
/***/ (function(module, exports) {

	eval("/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzP2RhMDQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGlCQUFpQjtBQUNqQztBQUNBO0FBQ0Esd0NBQXdDLGdCQUFnQjtBQUN4RCxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGlCQUFpQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksb0JBQW9CO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIzOC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXHJcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcclxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXHJcbiovXHJcbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XHJcblx0dmFyIGxpc3QgPSBbXTtcclxuXHJcblx0Ly8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xyXG5cdGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcclxuXHRcdHZhciByZXN1bHQgPSBbXTtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpdGVtID0gdGhpc1tpXTtcclxuXHRcdFx0aWYoaXRlbVsyXSkge1xyXG5cdFx0XHRcdHJlc3VsdC5wdXNoKFwiQG1lZGlhIFwiICsgaXRlbVsyXSArIFwie1wiICsgaXRlbVsxXSArIFwifVwiKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXN1bHQucHVzaChpdGVtWzFdKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJlc3VsdC5qb2luKFwiXCIpO1xyXG5cdH07XHJcblxyXG5cdC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XHJcblx0bGlzdC5pID0gZnVuY3Rpb24obW9kdWxlcywgbWVkaWFRdWVyeSkge1xyXG5cdFx0aWYodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpXHJcblx0XHRcdG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcclxuXHRcdHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XHJcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgaWQgPSB0aGlzW2ldWzBdO1xyXG5cdFx0XHRpZih0eXBlb2YgaWQgPT09IFwibnVtYmVyXCIpXHJcblx0XHRcdFx0YWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xyXG5cdFx0fVxyXG5cdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgaXRlbSA9IG1vZHVsZXNbaV07XHJcblx0XHRcdC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcclxuXHRcdFx0Ly8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcclxuXHRcdFx0Ly8gIHdoZW4gYSBtb2R1bGUgaXMgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCBkaWZmZXJlbnQgbWVkaWEgcXVlcmllcy5cclxuXHRcdFx0Ly8gIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcclxuXHRcdFx0aWYodHlwZW9mIGl0ZW1bMF0gIT09IFwibnVtYmVyXCIgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcclxuXHRcdFx0XHRpZihtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdKSB7XHJcblx0XHRcdFx0XHRpdGVtWzJdID0gbWVkaWFRdWVyeTtcclxuXHRcdFx0XHR9IGVsc2UgaWYobWVkaWFRdWVyeSkge1xyXG5cdFx0XHRcdFx0aXRlbVsyXSA9IFwiKFwiICsgaXRlbVsyXSArIFwiKSBhbmQgKFwiICsgbWVkaWFRdWVyeSArIFwiKVwiO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRsaXN0LnB1c2goaXRlbSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG5cdHJldHVybiBsaXN0O1xyXG59O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcbi8vIG1vZHVsZSBpZCA9IDM4XG4vLyBtb2R1bGUgY2h1bmtzID0gMiJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 39 */
/*!*************************************!*\
  !*** ./~/style-loader/addStyles.js ***!
  \*************************************/
/***/ (function(module, exports, __webpack_require__) {

	eval("/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0;\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(true) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction createStyleElement() {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tvar head = getHeadElement();\r\n\tstyleElement.type = \"text/css\";\r\n\thead.appendChild(styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement() {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tvar head = getHeadElement();\r\n\tlinkElement.rel = \"stylesheet\";\r\n\thead.appendChild(linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement());\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement();\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tstyleElement.parentNode.removeChild(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement();\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tstyleElement.parentNode.removeChild(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanM/Yjk4MCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0JBQWdCLG1CQUFtQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isc0JBQXNCO0FBQ3RDO0FBQ0E7QUFDQSxrQkFBa0IsMkJBQTJCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGVBQWUsbUJBQW1CO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDJCQUEyQjtBQUM1QztBQUNBO0FBQ0EsUUFBUSx1QkFBdUI7QUFDL0I7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLGlCQUFpQix1QkFBdUI7QUFDeEM7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSxpQkFBaUI7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBLGdDQUFnQyxzQkFBc0I7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdURBQXVEO0FBQ3ZEOztBQUVBLDZCQUE2QixtQkFBbUI7O0FBRWhEOztBQUVBOztBQUVBO0FBQ0E7QUFDQSIsImZpbGUiOiIzOS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXHJcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcclxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXHJcbiovXHJcbnZhciBzdHlsZXNJbkRvbSA9IHt9LFxyXG5cdG1lbW9pemUgPSBmdW5jdGlvbihmbikge1xyXG5cdFx0dmFyIG1lbW87XHJcblx0XHRyZXR1cm4gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdFx0XHRyZXR1cm4gbWVtbztcclxuXHRcdH07XHJcblx0fSxcclxuXHRpc09sZElFID0gbWVtb2l6ZShmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiAvbXNpZSBbNi05XVxcYi8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKTtcclxuXHR9KSxcclxuXHRnZXRIZWFkRWxlbWVudCA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdO1xyXG5cdH0pLFxyXG5cdHNpbmdsZXRvbkVsZW1lbnQgPSBudWxsLFxyXG5cdHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XHJcblx0aWYodHlwZW9mIERFQlVHICE9PSBcInVuZGVmaW5lZFwiICYmIERFQlVHKSB7XHJcblx0XHRpZih0eXBlb2YgZG9jdW1lbnQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcclxuXHR9XHJcblxyXG5cdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG5cdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxyXG5cdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcclxuXHRpZiAodHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uID09PSBcInVuZGVmaW5lZFwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcclxuXHJcblx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0KTtcclxuXHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xyXG5cclxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcclxuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XHJcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xyXG5cdFx0XHRkb21TdHlsZS5yZWZzLS07XHJcblx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcclxuXHRcdH1cclxuXHRcdGlmKG5ld0xpc3QpIHtcclxuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0KTtcclxuXHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcclxuXHRcdH1cclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xyXG5cdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XHJcblx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKVxyXG5cdFx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oKTtcclxuXHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKSB7XHJcblx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XHJcblx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcclxuXHRcdGlmKGRvbVN0eWxlKSB7XHJcblx0XHRcdGRvbVN0eWxlLnJlZnMrKztcclxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XHJcblx0XHRcdH1cclxuXHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dmFyIHBhcnRzID0gW107XHJcblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0cGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XHJcblx0XHRcdH1cclxuXHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMobGlzdCkge1xyXG5cdHZhciBzdHlsZXMgPSBbXTtcclxuXHR2YXIgbmV3U3R5bGVzID0ge307XHJcblx0Zm9yKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcclxuXHRcdHZhciBpdGVtID0gbGlzdFtpXTtcclxuXHRcdHZhciBpZCA9IGl0ZW1bMF07XHJcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcclxuXHRcdHZhciBtZWRpYSA9IGl0ZW1bMl07XHJcblx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcclxuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcclxuXHRcdGlmKCFuZXdTdHlsZXNbaWRdKVxyXG5cdFx0XHRzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHRuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XHJcblx0fVxyXG5cdHJldHVybiBzdHlsZXM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudCgpIHtcclxuXHR2YXIgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xyXG5cdHZhciBoZWFkID0gZ2V0SGVhZEVsZW1lbnQoKTtcclxuXHRzdHlsZUVsZW1lbnQudHlwZSA9IFwidGV4dC9jc3NcIjtcclxuXHRoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XHJcblx0cmV0dXJuIHN0eWxlRWxlbWVudDtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlTGlua0VsZW1lbnQoKSB7XHJcblx0dmFyIGxpbmtFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XHJcblx0dmFyIGhlYWQgPSBnZXRIZWFkRWxlbWVudCgpO1xyXG5cdGxpbmtFbGVtZW50LnJlbCA9IFwic3R5bGVzaGVldFwiO1xyXG5cdGhlYWQuYXBwZW5kQ2hpbGQobGlua0VsZW1lbnQpO1xyXG5cdHJldHVybiBsaW5rRWxlbWVudDtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XHJcblx0dmFyIHN0eWxlRWxlbWVudCwgdXBkYXRlLCByZW1vdmU7XHJcblxyXG5cdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xyXG5cdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XHJcblx0XHRzdHlsZUVsZW1lbnQgPSBzaW5nbGV0b25FbGVtZW50IHx8IChzaW5nbGV0b25FbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KCkpO1xyXG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCwgc3R5bGVJbmRleCwgZmFsc2UpO1xyXG5cdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCwgc3R5bGVJbmRleCwgdHJ1ZSk7XHJcblx0fSBlbHNlIGlmKG9iai5zb3VyY2VNYXAgJiZcclxuXHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0dHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0dHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xyXG5cdFx0c3R5bGVFbGVtZW50ID0gY3JlYXRlTGlua0VsZW1lbnQoKTtcclxuXHRcdHVwZGF0ZSA9IHVwZGF0ZUxpbmsuYmluZChudWxsLCBzdHlsZUVsZW1lbnQpO1xyXG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XHJcblx0XHRcdGlmKHN0eWxlRWxlbWVudC5ocmVmKVxyXG5cdFx0XHRcdFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGVFbGVtZW50LmhyZWYpO1xyXG5cdFx0fTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0c3R5bGVFbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KCk7XHJcblx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50KTtcclxuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHVwZGF0ZShvYmopO1xyXG5cclxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XHJcblx0XHRpZihuZXdPYmopIHtcclxuXHRcdFx0aWYobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0dXBkYXRlKG9iaiA9IG5ld09iaik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZW1vdmUoKTtcclxuXHRcdH1cclxuXHR9O1xyXG59XHJcblxyXG52YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xyXG5cdHZhciB0ZXh0U3RvcmUgPSBbXTtcclxuXHJcblx0cmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcclxuXHRcdHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcclxuXHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xyXG5cdH07XHJcbn0pKCk7XHJcblxyXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlRWxlbWVudCwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XHJcblx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xyXG5cclxuXHRpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcclxuXHRcdHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0dmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xyXG5cdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZUVsZW1lbnQuY2hpbGROb2RlcztcclxuXHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcclxuXHRcdGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChjc3NOb2RlKTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGVFbGVtZW50LCBvYmopIHtcclxuXHR2YXIgY3NzID0gb2JqLmNzcztcclxuXHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XHJcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XHJcblxyXG5cdGlmKG1lZGlhKSB7XHJcblx0XHRzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpXHJcblx0fVxyXG5cclxuXHRpZihzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xyXG5cdFx0c3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcclxuXHR9IGVsc2Uge1xyXG5cdFx0d2hpbGUoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcclxuXHRcdH1cclxuXHRcdHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZUxpbmsobGlua0VsZW1lbnQsIG9iaikge1xyXG5cdHZhciBjc3MgPSBvYmouY3NzO1xyXG5cdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcclxuXHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcclxuXHJcblx0aWYoc291cmNlTWFwKSB7XHJcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxyXG5cdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xyXG5cdH1cclxuXHJcblx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XHJcblxyXG5cdHZhciBvbGRTcmMgPSBsaW5rRWxlbWVudC5ocmVmO1xyXG5cclxuXHRsaW5rRWxlbWVudC5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuXHJcblx0aWYob2xkU3JjKVxyXG5cdFx0VVJMLnJldm9rZU9iamVjdFVSTChvbGRTcmMpO1xyXG59XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXG4vLyBtb2R1bGUgaWQgPSAzOVxuLy8gbW9kdWxlIGNodW5rcyA9IDIiXSwic291cmNlUm9vdCI6IiJ9");

/***/ })
/******/ ])});})();;